/*! For license information please see main.81a36a6b.js.LICENSE.txt */
(()=>{var e={139:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},227:(e,t,n)=>{"use strict";var r=n(6545).F.ERR_STREAM_PREMATURE_CLOSE;function a(){}e.exports=function e(t,n,i){if("function"===typeof n)return e(t,null,n);n||(n={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r)}}}(i||a);var s=n.readable||!1!==n.readable&&t.readable,o=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){o=!1,u=!0,s||i.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,f=!0,o||i.call(t)},h=function(e){i.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new r),i.call(t,e)):o&&!u?(t._writableState&&t._writableState.ended||(e=new r),i.call(t,e)):void 0},m=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",c),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",c),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",c),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},537:(e,t,n)=>{"use strict";var r;var a=n(6545).F,i=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var c,f=function(e){return e.length?"function"!==typeof e[e.length-1]?o:e.pop():o}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var d=t.map((function(e,a){var i=a<t.length-1;return function(e,t,a,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var o=!1;e.on("close",(function(){o=!0})),void 0===r&&(r=n(227)),r(e,{readable:t,writable:a},(function(e){if(e)return i(e);o=!0,i()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}(e,i,a>0,(function(e){c||(c=e),e&&d.forEach(l),i||(d.forEach(l),f(c))}))}));return t.reduce(u)}},551:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(1153)},757:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(r),n.d(r,"VictoryGesture",(function(){return M})),n.d(r,"ThumbsUpGesture",(function(){return D}));var i={Thumb:0,Index:1,Middle:2,Ring:3,Pinky:4,all:[0,1,2,3,4],nameMapping:{0:"Thumb",1:"Index",2:"Middle",3:"Ring",4:"Pinky"},pointsMapping:{0:[[0,1],[1,2],[2,3],[3,4]],1:[[0,5],[5,6],[6,7],[7,8]],2:[[0,9],[9,10],[10,11],[11,12]],3:[[0,13],[13,14],[14,15],[15,16]],4:[[0,17],[17,18],[18,19],[19,20]]},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]},getPoints:function(e){return void 0!==a(this.pointsMapping[e])&&this.pointsMapping[e]}},s={NoCurl:0,HalfCurl:1,FullCurl:2,nameMapping:{0:"No Curl",1:"Half Curl",2:"Full Curl"},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]}},o={VerticalUp:0,VerticalDown:1,HorizontalLeft:2,HorizontalRight:3,DiagonalUpRight:4,DiagonalUpLeft:5,DiagonalDownRight:6,DiagonalDownLeft:7,nameMapping:{0:"Vertical Up",1:"Vertical Down",2:"Horizontal Left",3:"Horizontal Right",4:"Diagonal Up Right",5:"Diagonal Up Left",6:"Diagonal Down Right",7:"Diagonal Down Left"},getName:function(e){return void 0!==a(this.nameMapping[e])&&this.nameMapping[e]}};function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=f(f({},{HALF_CURL_START_LIMIT:60,NO_CURL_START_LIMIT:130,DISTANCE_VOTE_POWER:1.1,SINGLE_ANGLE_VOTE_POWER:.9,TOTAL_ANGLE_VOTE_POWER:1.6}),t)}var t,n,r;return t=e,(n=[{key:"estimate",value:function(e){var t,n=[],r=[],a=l(i.all);try{for(a.s();!(t=a.n()).done;){var s,o=t.value,u=i.getPoints(o),c=[],f=[],d=l(u);try{for(d.s();!(s=d.n()).done;){var h=s.value,p=e[h[0]],m=e[h[1]],g=this.getSlopes(p,m),y=g[0],b=g[1];c.push(y),f.push(b)}}catch(e){d.e(e)}finally{d.f()}n.push(c),r.push(f)}}catch(e){a.e(e)}finally{a.f()}var v,w=[],x=[],k=l(i.all);try{for(k.s();!(v=k.n()).done;){var C=v.value,N=C==i.Thumb?1:0,I=i.getPoints(C),S=e[I[N][0]],M=e[I[N+1][1]],E=e[I[3][1]],L=this.estimateFingerCurl(S,M,E),T=this.calculateFingerDirection(S,M,E,n[C].slice(N));w[C]=L,x[C]=T}}catch(e){k.e(e)}finally{k.f()}return{curls:w,directions:x}}},{key:"getSlopes",value:function(e,t){var n=this.calculateSlope(e[0],e[1],t[0],t[1]);return 2==e.length?n:[n,this.calculateSlope(e[1],e[2],t[1],t[2])]}},{key:"angleOrientationAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0,a=0;return e>=75&&e<=105?n=1*t:e>=25&&e<=155?r=1*t:a=1*t,[n,r,a]}},{key:"estimateFingerCurl",value:function(e,t,n){var r=e[0]-t[0],a=e[0]-n[0],i=t[0]-n[0],o=e[1]-t[1],l=e[1]-n[1],u=t[1]-n[1],c=e[2]-t[2],f=e[2]-n[2],d=t[2]-n[2],h=Math.sqrt(r*r+o*o+c*c),p=Math.sqrt(a*a+l*l+f*f),m=Math.sqrt(i*i+u*u+d*d),g=(m*m+h*h-p*p)/(2*m*h);g>1?g=1:g<-1&&(g=-1);var y=Math.acos(g);return(y=57.2958*y%180)>this.options.NO_CURL_START_LIMIT?s.NoCurl:y>this.options.HALF_CURL_START_LIMIT?s.HalfCurl:s.FullCurl}},{key:"estimateHorizontalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e>0?o.HorizontalLeft:o.HorizontalRight:r==Math.abs(t)?t>0?o.HorizontalLeft:o.HorizontalRight:n>0?o.HorizontalLeft:o.HorizontalRight}},{key:"estimateVerticalDirection",value:function(e,t,n,r){return r==Math.abs(e)?e<0?o.VerticalDown:o.VerticalUp:r==Math.abs(t)?t<0?o.VerticalDown:o.VerticalUp:n<0?o.VerticalDown:o.VerticalUp}},{key:"estimateDiagonalDirection",value:function(e,t,n,r,a,i,s,l){var u=this.estimateVerticalDirection(e,t,n,r),c=this.estimateHorizontalDirection(a,i,s,l);return u==o.VerticalUp?c==o.HorizontalLeft?o.DiagonalUpLeft:o.DiagonalUpRight:c==o.HorizontalLeft?o.DiagonalDownLeft:o.DiagonalDownRight}},{key:"calculateFingerDirection",value:function(e,t,n,r){var a=e[0]-t[0],i=e[0]-n[0],s=t[0]-n[0],o=e[1]-t[1],u=e[1]-n[1],c=t[1]-n[1],f=Math.max(Math.abs(a),Math.abs(i),Math.abs(s)),d=Math.max(Math.abs(o),Math.abs(u),Math.abs(c)),h=0,p=0,m=0,g=d/(f+1e-5);g>1.5?h+=this.options.DISTANCE_VOTE_POWER:g>.66?p+=this.options.DISTANCE_VOTE_POWER:m+=this.options.DISTANCE_VOTE_POWER;var y=Math.sqrt(a*a+o*o),b=Math.sqrt(i*i+u*u),v=Math.sqrt(s*s+c*c),w=Math.max(y,b,v),x=e[0],k=e[1],C=n[0],N=n[1];w==y?(C=n[0],N=n[1]):w==v&&(x=t[0],k=t[1]);var I=[x,k],S=[C,N],M=this.getSlopes(I,S),E=this.angleOrientationAt(M,this.options.TOTAL_ANGLE_VOTE_POWER);h+=E[0],p+=E[1],m+=E[2];var L,T=l(r);try{for(T.s();!(L=T.n()).done;){var A=L.value,D=this.angleOrientationAt(A,this.options.SINGLE_ANGLE_VOTE_POWER);h+=D[0],p+=D[1],m+=D[2]}}catch(e){T.e(e)}finally{T.f()}return h==Math.max(h,p,m)?this.estimateVerticalDirection(u,o,c,d):m==Math.max(p,m)?this.estimateHorizontalDirection(i,a,s,f):this.estimateDiagonalDirection(u,o,c,d,i,a,s,f)}},{key:"calculateSlope",value:function(e,t,n,r){var a=(t-r)/(e-n),i=180*Math.atan(a)/Math.PI;return i<=0?i=-i:i>0&&(i=180-i),i}}])&&h(t.prototype,n),r&&h(t,r),e}();function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,e),this.estimator=new p(n),this.gestures=t}var t,n,r;return t=e,(n=[{key:"estimate",value:function(e,t){var n,r=[],a=this.estimator.estimate(e),l=[],u=m(i.all);try{for(u.s();!(n=u.n()).done;){var c=n.value;l.push([i.getName(c),s.getName(a.curls[c]),o.getName(a.directions[c])])}}catch(e){u.e(e)}finally{u.f()}var f,d=m(this.gestures);try{for(d.s();!(f=d.n()).done;){var h=f.value,p=h.matchAgainst(a.curls,a.directions);p>=t&&r.push({name:h.name,score:p})}}catch(e){d.e(e)}finally{d.f()}return{poseData:l,gestures:r}}}])&&b(t.prototype,n),r&&b(t,r),e}();function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function k(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.curls={},this.directions={}}var t,n,r;return t=e,(n=[{key:"addCurl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===this.curls[e]&&(this.curls[e]=[]),this.curls[e].push([t,n])}},{key:"addDirection",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;void 0===this.directions[e]&&(this.directions[e]=[]),this.directions[e].push([t,n])}},{key:"matchAgainst",value:function(e,t){var n=0,r=0;for(var a in e){var i=e[a],s=this.curls[a];if(void 0!==s){r++;var o,l=!1,u=0,c=x(s);try{for(c.s();!(o=c.n()).done;){var f=w(o.value,2),d=f[0],h=f[1];if(i==d){n+=h,u=Math.max(u,h),l=!0;break}}}catch(e){c.e(e)}finally{c.f()}l||(n-=u)}}for(var p in t){var m=t[p],g=this.directions[p];if(void 0!==g){r++;var y,b=!1,v=0,k=x(g);try{for(k.s();!(y=k.n()).done;){var C=w(y.value,2),N=C[0],I=C[1];if(m==N){n+=I,v=Math.max(v,I),b=!0;break}}}catch(e){k.e(e)}finally{k.f()}b||(n-=v)}}return n/r*10}}])&&N(t.prototype,n),r&&N(t,r),e}(),S=new I("victory");S.addDirection(i.Thumb,o.VerticalUp,1),S.addDirection(i.Thumb,o.DiagonalUpLeft,1),S.addDirection(i.Thumb,o.DiagonalUpRight,1),S.addCurl(i.Index,s.NoCurl,1),S.addDirection(i.Index,o.VerticalUp,1),S.addDirection(i.Index,o.DiagonalUpLeft,1),S.addDirection(i.Index,o.DiagonalUpRight,1),S.addDirection(i.Index,o.HorizontalLeft,1),S.addDirection(i.Index,o.HorizontalRight,1),S.addCurl(i.Middle,s.NoCurl,1),S.addDirection(i.Middle,o.VerticalUp,1),S.addDirection(i.Middle,o.DiagonalUpLeft,1),S.addDirection(i.Middle,o.DiagonalUpRight,1),S.addDirection(i.Middle,o.HorizontalLeft,1),S.addDirection(i.Middle,o.HorizontalRight,1),S.addCurl(i.Ring,s.FullCurl,1),S.addCurl(i.Ring,s.HalfCurl,.9),S.addCurl(i.Pinky,s.FullCurl,1),S.addCurl(i.Pinky,s.HalfCurl,.9);var M=S,E=new I("thumbs_up");E.addCurl(i.Thumb,s.NoCurl,1),E.addDirection(i.Thumb,o.VerticalUp,1),E.addDirection(i.Thumb,o.DiagonalUpLeft,.9),E.addDirection(i.Thumb,o.DiagonalUpRight,.9);for(var L=0,T=[i.Index,i.Middle,i.Ring,i.Pinky];L<T.length;L++){var A=T[L];E.addCurl(A,s.FullCurl,1),E.addCurl(A,s.HalfCurl,.9)}E.addDirection(i.Index,o.DiagonalUpLeft,1),E.addDirection(i.Index,o.HorizontalLeft,1),E.addDirection(i.Index,o.HorizontalRight,1),E.addDirection(i.Index,o.DiagonalUpRight,1);var D=E;t.default={GestureEstimator:v,GestureDescription:I,Finger:i,FingerCurl:s,FingerDirection:o,Gestures:r}}]).default},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:o.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},1234:()=>{},1476:(e,t,n)=>{"use strict";var r=n(2099).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},2013:(e,t,n)=>{"use strict";e.exports=c;var r=n(6545).F,a=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6779);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new i);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}n(6329)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new a("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2099:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=o(n(5043)),i=o(n(5270)),s=["text","onCopy","options","children"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,n,r,o=h(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=o.call.apply(o,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,s=n.onCopy,o=n.children,l=n.options,u=a.default.Children.only(o),c=(0,i.default)(r,l);s&&s(r,c),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(t)})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=c(e,s),r=a.default.Children.only(t);return a.default.cloneElement(r,u(u({},n),{},{onClick:this.onClick}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(a.default.PureComponent);t.CopyToClipboard=y,g(y,"defaultProps",{onCopy:void 0,options:void 0})},2390:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(r){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},2430:function(e,t,n){var r;!function(a,i,s){var o,l=256,u=s.pow(l,6),c=s.pow(2,52),f=2*c,d=255;function h(e,t,n){var r=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(i)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),b(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,b(i)]}}():e,3),r),h=new p(r),v=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|h.g(4)},v.quick=function(){return h.g(4)/4294967296},v.double=v,y(b(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(s.random=e,t):e})(v,d,"global"in t?t.global:this==s,t.state)}function p(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);a<l;)s[a]=a++;for(a=0;a<l;a++)s[a]=s[i=d&i+e[a%n]+(t=s[a])],s[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,s=r.S;e--;)t=s[a=d&a+1],n=n*l+s[d&(s[a]=s[i=d&i+t])+(s[i]=t)];return r.i=a,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[d&a]=d&(n^=19*t[d&a])+r.charCodeAt(a++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(s.random(),i),e.exports){e.exports=h;try{o=n(1234)}catch(v){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),M=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var _,$=Object.assign;function F(e){if(void 0===_)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var z=!1;function P(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=P(e.type,!1);case 11:return e=P(e.type.render,!1);case 1:return e=P(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case k:return"Portal";case I:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function K(e,t){q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Ne=null;function Ie(e){if(e=va(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Se(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Me(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ee(e,t){return e(t)}function Le(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==Ce||null!==Ne)&&(Le(),Me())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Re=!1}function Oe(e,t,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var _e=!1,$e=null,Fe=!1,ze=null,Pe={onError:function(e){_e=!0,$e=e}};function Be(e,t,n,r,a,i,s,o,l){_e=!1,$e=null,Oe.apply(Pe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ve(a),e;if(s===r)return Ve(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ze=a.unstable_requestPaint,qe=a.unstable_now,Ke=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=ft(o):0!==(i&=s)&&(r=ft(i))}else 0!==(s=n&~a)?r=ft(s):0!==i&&(r=ft(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Ct,Nt,It,St=!1,Mt=[],Et=null,Lt=null,Tt=null,At=new Map,Dt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function _t(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $t(e){var t=ba(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void It(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Pt(){St=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Lt&&Ft(Lt)&&(Lt=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(zt),Dt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Pt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Mt.length){Bt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Lt&&Bt(Lt,e),null!==Tt&&Bt(Tt,e),At.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)$t(n),null===n.blockedOn&&Rt.shift()}var Wt=w.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var a=vt,i=Wt.transition;Wt.transition=null;try{vt=1,Yt(e,t,n,r)}finally{vt=a,Wt.transition=i}}function Ht(e,t,n,r){var a=vt,i=Wt.transition;Wt.transition=null;try{vt=4,Yt(e,t,n,r)}finally{vt=a,Wt.transition=i}}function Yt(e,t,n,r){if(Vt){var a=Jt(e,t,n,r);if(null===a)Vr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=_t(Et,e,t,n,r,a),!0;case"dragenter":return Lt=_t(Lt,e,t,n,r,a),!0;case"mouseover":return Tt=_t(Tt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,_t(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Dt.set(i,_t(Dt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==a;){var i=va(a);if(null!==i&&xt(i),null===(i=Jt(e,t,n,r))&&Vr(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=ba(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var qt=null,Kt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Kt,r=n.length,a="value"in qt?qt.value:qt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),fn=$({},un,{view:0,detail:0}),dn=an(fn),hn=$({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(hn),mn=an($({},hn,{dataTransfer:0})),gn=an($({},fn,{relatedTarget:0})),yn=an($({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=$({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(bn),wn=an($({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function In(){return Nn}var Sn=$({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(Sn),En=an($({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=an($({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Tn=an($({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=$({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(An),Rn=[9,13,27,32],jn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var _n=c&&"TextEvent"in window&&!On,$n=c&&(!jn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Yn=null;function Qn(e){Fr(e,0)}function Jn(e){if(Y(wa(e)))return e}function Zn(e,t){if("change"===e)return t}var qn=!1;if(c){var Kn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Kn=Xn}else Kn=!1;qn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Yn=Hn=null)}function nr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Gn(t,Yn,e,xe(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ir(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!or(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var s=cr(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},Nr={};function Ir(e){if(Cr[e])return Cr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Cr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=Ir("animationend"),Mr=Ir("animationiteration"),Er=Ir("animationstart"),Lr=Ir("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Tr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var jr=Ar[Rr];Dr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Mr,"onAnimationIteration"),Dr(Er,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Lr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,u){if(Be.apply(this,arguments),_e){if(!_e)throw Error(i(198));var c=$e;_e=!1,$e=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;$r(a,o,u),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;$r(a,o,u),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Pr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(_r.has(t)||Pr(t,!1,e),Pr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Pr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Zt(t)){case 1:var a=Gt;break;case 4:a=Ht;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=ba(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=i,a=xe(n),s=[];e:{var o=Tr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Sr:case Mr:case Er:l=yn;break;case Lr:l=Tn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=De(p,d))&&c.push(Gr(p,m,h)))),f)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,a),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ba(u)&&!u[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ba(u):null)&&(u!==(f=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==l?o:wa(l),h=null==u?o:wa(u),(o=new c(m,p+"leave",l,n,a)).target=f,o.relatedTarget=h,m=null,ba(a)===r&&((c=new c(d,p+"enter",u,n,a)).target=h,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(d=u,p=0,h=c=l;h;h=Yr(h))p++;for(h=0,m=d;m;m=Yr(m))h++;for(;0<p-h;)c=Yr(c),p--;for(;0<h-p;)d=Yr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yr(c),d=Yr(d)}c=null}else c=null;null!==l&&Qr(s,o,l,c,!1),null!==u&&null!==f&&Qr(s,f,u,c,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Vn(o))if(qn)g=sr;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(s,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wa(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,a)}var b;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&($n&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(b=en()):(Kt="value"in(qt=a)?qt.value:qt.textContent,Un=!0)),0<(y=Hr(r,v)).length&&(v=new wn(v,e,null,n,a),s.push({event:v,listeners:y}),b?v.data=b:null!==(b=Bn(n))&&(v.data=b))),(b=_n?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!jn&&Pn(e,t)?(e=en(),Xt=Kt=qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=b))}Fr(s,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=De(e,n))&&r.unshift(Gr(e,i,a)),null!=(i=De(e,t))&&r.push(Gr(e,i,a))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,a?null!=(l=De(n,i))&&s.unshift(Gr(n,l,o)):a||null!=(l=De(n,i))&&s.push(Gr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Zr,"")}function Kr(e,t,n){if(t=qr(t),qr(e)!==t&&n)throw Error(i(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),da="__reactFiber$"+fa,ha="__reactProps$"+fa,pa="__reactContainer$"+fa,ma="__reactEvents$"+fa,ga="__reactListeners$"+fa,ya="__reactHandles$"+fa;function ba(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[da])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[da]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[ha]||null}var ka=[],Ca=-1;function Na(e){return{current:e}}function Ia(e){0>Ca||(e.current=ka[Ca],ka[Ca]=null,Ca--)}function Sa(e,t){Ca++,ka[Ca]=e.current,e.current=t}var Ma={},Ea=Na(Ma),La=Na(!1),Ta=Ma;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Ma;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Da(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ia(La),Ia(Ea)}function ja(e,t,n){if(Ea.current!==Ma)throw Error(i(168));Sa(Ea,t),Sa(La,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,W(e)||"Unknown",a));return $({},n,r)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,Ta=Ea.current,Sa(Ea,e),Sa(La,La.current),!0}function $a(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Ia(La),Ia(Ea),Sa(Ea,e)):Ia(La),Sa(La,n)}var Fa=null,za=!1,Pa=!1;function Ba(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!Pa&&null!==Fa){Pa=!0;var e=0,t=vt;try{var n=Fa;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,za=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ye(Xe,Ua),a}finally{vt=t,Pa=!1}}return null}var Wa=[],Va=0,Ga=null,Ha=0,Ya=[],Qa=0,Ja=null,Za=1,qa="";function Ka(e,t){Wa[Va++]=Ha,Wa[Va++]=Ga,Ga=e,Ha=t}function Xa(e,t,n){Ya[Qa++]=Za,Ya[Qa++]=qa,Ya[Qa++]=Ja,Ja=e;var r=Za;e=qa;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Za=1<<32-st(t)+a|n<<a|r,qa=i+e}else Za=1<<i|n<<a|r,qa=e}function ei(e){null!==e.return&&(Ka(e,1),Xa(e,1,0))}function ti(e){for(;e===Ga;)Ga=Wa[--Va],Wa[Va]=null,Ha=Wa[--Va],Wa[Va]=null;for(;e===Ja;)Ja=Ya[--Qa],Ya[Qa]=null,qa=Ya[--Qa],Ya[Qa]=null,Za=Ya[--Qa],Ya[Qa]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Za,overflow:qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ua(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function fi(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw di(),Error(i(418));for(;t;)si(e,t),t=ua(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ua(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ri;e;)e=ua(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ru(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===C?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===D&&bi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=Fu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ou(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case k:return n.key===a?c(e,t,n,r):null;case D:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||O(n))return null!==a?null:f(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case D:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function m(a,i,o,l){for(var u=null,c=null,f=i,m=i=0,g=null;null!==f&&m<o.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=h(a,f,o[m],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),i=s(y,i,m),null===c?u=y:c.sibling=y,c=y,f=g}if(m===o.length)return n(a,f),ai&&Ka(a,m),u;if(null===f){for(;m<o.length;m++)null!==(f=d(a,o[m],l))&&(i=s(f,i,m),null===c?u=f:c.sibling=f,c=f);return ai&&Ka(a,m),u}for(f=r(a,f);m<o.length;m++)null!==(g=p(f,a,m,o[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),i=s(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(a,e)})),ai&&Ka(a,m),u}function g(a,o,l,u){var c=O(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var f=c=null,m=o,g=o=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(a,m,b.value,u);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),o=s(v,o,g),null===f?c=v:f.sibling=v,f=v,m=y}if(b.done)return n(a,m),ai&&Ka(a,g),c;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=d(a,b.value,u))&&(o=s(b,o,g),null===f?c=b:f.sibling=b,f=b);return ai&&Ka(a,g),c}for(m=r(a,m);!b.done;g++,b=l.next())null!==(b=p(m,a,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=s(b,o,g),null===f?c=b:f.sibling=b,f=b);return e&&m.forEach((function(e){return t(a,e)})),ai&&Ka(a,g),c}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===C){if(7===c.tag){n(r,c.sibling),(i=a(c,s.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&bi(u)===c.type){n(r,c.sibling),(i=a(c,s.props)).ref=gi(r,c,s),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===C?((i=Ou(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=ju(s.type,s.key,s.props,null,r.mode,l)).ref=gi(r,i,s),l.return=r,r=l)}return o(r);case k:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fu(s,r.mode,l)).return=r,r=i}return o(r);case D:return e(r,i,(c=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(O(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=$u(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var wi=vi(!0),xi=vi(!1),ki=Na(null),Ci=null,Ni=null,Ii=null;function Si(){Ii=Ni=Ci=null}function Mi(e){var t=ki.current;Ia(ki),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Li(e,t){Ci=e,Ii=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===Ci)throw Error(i(308));Ni=e,Ci.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Ai=null;function Di(e){null===Ai?Ai=[e]:Ai.push(e)}function Ri(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Di(t)):(n.next=a.next,a.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function _i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ji(e,n)}return null===(a=r.interleaved)?(t.next=t,Di(r)):(t.next=a.next,a.next=t),r.interleaved=t,ji(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==i){var f=a.baseState;for(s=0,c=u=l=null,o=i;;){var d=o.lane,h=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(h,f,d):p)||void 0===d)break e;f=$({},f,d);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=h,l=f):c=c.next=h,s|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===c&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);_l|=s,e.lanes=s,e.memoizedState=f}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Vi={},Gi=Na(Vi),Hi=Na(Vi),Yi=Na(Vi);function Qi(e){if(e===Vi)throw Error(i(174));return e}function Ji(e,t){switch(Sa(Yi,t),Sa(Hi,e),Sa(Gi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ia(Gi),Sa(Gi,t)}function Zi(){Ia(Gi),Ia(Hi),Ia(Yi)}function qi(e){Qi(Yi.current);var t=Qi(Gi.current),n=le(t,e.type);t!==n&&(Sa(Hi,e),Sa(Gi,n))}function Ki(e){Hi.current===e&&(Ia(Gi),Ia(Hi))}var Xi=Na(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=w.ReactCurrentDispatcher,as=w.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,us=!1,cs=!1,fs=0,ds=0;function hs(){throw Error(i(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Ks:Xs,e=n(r,a),cs){s=0;do{if(cs=!1,fs=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(cs)}if(rs.current=qs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,us=!1,t)throw Error(i(300));return e}function gs(){var e=0!==fs;return fs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function vs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((is&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,o=r):u=u.next=d,ss.lanes|=f,_l|=f}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,_l|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(vo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Cs(e,t){var n=ss,r=bs(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,vo=!0),r=r.queue,Os(Ss.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,Is.bind(null,n,r,a,t),void 0,null),null===Ll)throw Error(i(349));0!==(30&is)||Ns(n,t,a)}return a}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Es(e)}function Ss(e,t,n){return n((function(){Ms(t)&&Es(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Es(e){var t=ji(e,1);null!==t&&nu(t,e,1,-1)}function Ls(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return bs().memoizedState}function Ds(e,t,n,r){var a=ys();ss.flags|=e,a.memoizedState=Ts(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var a=bs();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&ps(r,s.deps))return void(a.memoizedState=Ts(t,n,i,r))}ss.flags|=e,a.memoizedState=Ts(1|t,n,i,r)}function js(e,t){return Ds(8390656,8,e,t)}function Os(e,t){return Rs(2048,8,e,t)}function _s(e,t){return Rs(4,2,e,t)}function $s(e,t){return Rs(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Fs.bind(null,t,e),n)}function Ps(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,_l|=n,e.baseState=!0),t)}function Vs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{vt=n,as.transition=r}}function Gs(){return bs().memoizedState}function Hs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Js(t,n);else if(null!==(n=Ri(e,t,n,r))){nu(n,e,r,eu()),Zs(n,t,r)}}function Ys(e,t,n){var r=tu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Js(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Di(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Ri(e,t,a,r))&&(nu(n,e,r,a=eu()),Zs(n,t,r))}}function Qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Js(e,t){cs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var qs={readContext:Ti,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Ks={readContext:Ti,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ls,useDebugValue:Ps,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ls(!1),t=e[0];return e=Vs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=ys();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ll)throw Error(i(349));0!==(30&is)||Ns(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,js(Ss.bind(null,r,s,e),[e]),r.flags|=2048,Ts(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Ll.identifierPrefix;if(ai){var n=qa;t=":"+t+"R"+(n=(Za&~(1<<32-st(Za)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ds++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:Ti,useCallback:Bs,useContext:Ti,useEffect:Os,useImperativeHandle:zs,useInsertionEffect:_s,useLayoutEffect:$s,useMemo:Us,useReducer:ws,useRef:As,useState:function(){return ws(vs)},useDebugValue:Ps,useDeferredValue:function(e){return Ws(bs(),os.memoizedState,e)},useTransition:function(){return[ws(vs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Gs,unstable_isNewReconciler:!1},eo={readContext:Ti,useCallback:Bs,useContext:Ti,useEffect:Os,useImperativeHandle:zs,useInsertionEffect:_s,useLayoutEffect:$s,useMemo:Us,useReducer:xs,useRef:As,useState:function(){return xs(vs)},useDebugValue:Ps,useDeferredValue:function(e){var t=bs();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[xs(vs)[0],bs().memoizedState]},useMutableSource:ks,useSyncExternalStore:Cs,useId:Gs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=$({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:$({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Fi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,a))&&(nu(t,e,a,r),Pi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),a=tu(e),i=Fi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,a))&&(nu(t,e,a,r),Pi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),a=Fi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zi(e,a,r))&&(nu(t,e,r,n),Pi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=Ma,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(a=Da(t)?Ta:Ea.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Ma),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},_i(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ti(i):(i=Da(t)?Ta:Ea.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ui(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=r),co(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){co(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=w.ReactCurrentOwner,vo=!1;function wo(e,t,n,r){t.child=null===e?xi(t,null,n,r):wi(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var i=t.ref;return Li(t,a),r=ms(e,t,n,r,i,a),n=gs(),null===e||vo?(ai&&n&&ei(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function ko(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Du(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Co(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Ru(i,r)).ref=t.ref,e.return=t,t.child=e}function Co(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return So(e,t,n,r,a)}function No(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Rl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Rl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Sa(Rl,Dl),Dl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Sa(Rl,Dl),Dl|=r;return wo(e,t,a,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,a){var i=Da(n)?Ta:Ea.current;return i=Aa(t,i),Li(t,a),n=ms(e,t,n,r,i,a),r=gs(),null===e||vo?(ai&&r&&ei(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function Mo(e,t,n,r,a){if(Da(n)){var i=!0;_a(t)}else i=!1;if(Li(t,a),null===t.stateNode)Wo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ti(u):u=Aa(t,u=Da(n)?Ta:Ea.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&so(t,s,r,u),Oi=!1;var d=t.memoizedState;s.state=d,Ui(t,r,s,a),l=t.memoizedState,o!==r||d!==l||La.current||Oi?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Oi||ao(t,n,o,r,d,l,u))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$i(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,f=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ti(l):l=Aa(t,l=Da(n)?Ta:Ea.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==f||d!==l)&&so(t,s,r,l),Oi=!1,d=t.memoizedState,s.state=d,Ui(t,r,s,a);var p=t.memoizedState;o!==f||d!==p||La.current||Oi?("function"===typeof h&&(no(t,n,h,r),p=t.memoizedState),(u=Oi||ao(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,i,a)}function Eo(e,t,n,r,a,i){Io(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&$a(t,n,!1),Vo(e,t,i);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,a&&$a(t,n,!0),t.child}function Lo(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),Ji(e,t.containerInfo)}function To(e,t,n,r,a){return hi(),pi(a),t.flags|=256,wo(e,t,n,r),t.child}var Ao,Do,Ro,jo,Oo={dehydrated:null,treeContext:null,retryLane:0};function _o(e){return{baseLanes:e,cachePool:null,transitions:null}}function $o(e,t,n){var r,a=t.pendingProps,s=Xi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Sa(Xi,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=_u(l,a,0,null),e=Ou(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_o(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=_u({mode:"visible",children:r.children},a,0,null),(s=Ou(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=_o(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Ll)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,ji(e,a),nu(r,e,a,-1))}return mu(),zo(e,t,o,r=uo(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ua(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ya[Qa++]=Za,Ya[Qa++]=qa,Ya[Qa++]=Ja,Za=e.id,qa=e.overflow,Ja=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Ru(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Ru(r,o):(o=Ou(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?_o(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Ru(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Fo(e,t){return(t=_u({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Bo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Uo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Xi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Po(e,n,t);else if(19===e.tag)Po(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(Xi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_l|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ru(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ru(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Da(t.type)&&Ra(),Ho(t),null;case 3:return r=t.stateNode,Zi(),Ia(La),Ia(Ea),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(su(ii),ii=null))),Do(e,t),Ho(t),null;case 5:Ki(t);var a=Qi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ho(t),null}if(e=Qi(Gi.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[da]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ae(r,s),zr("invalid",r)}for(var l in be(n,s),a=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Kr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Kr(r.textContent,u,e),a=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":H(r),X(r,s,!0);break;case"textarea":H(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[da]=t,e[ha]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)zr(Or[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Z(e,r),a=J(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(s in be(n,a),u=a)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&zr("scroll",e):null!=c&&v(e,s,c,l))}switch(n){case"input":H(e),X(e,r,!1);break;case"textarea":H(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Yi.current),Qi(Gi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return Ho(t),null;case 13:if(Ia(Xi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))di(),hi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[da]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),s=!1}else null!==ii&&(su(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xi.current)?0===jl&&(jl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Zi(),Do(e,t),null===e&&Ur(t.stateNode.containerInfo),Ho(t),null;case 10:return Mi(t.type._context),Ho(t),null;case 19:if(Ia(Xi),null===(s=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Go(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Go(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(Xi,1&Xi.current|2),t.child}e=e.sibling}null!==s.tail&&qe()>Ul&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Ho(t),null}else 2*qe()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=qe(),t.sibling=null,n=Xi.current,Sa(Xi,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qo(e,t){switch(ti(t),t.tag){case 1:return Da(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),Ia(La),Ia(Ea),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ki(t),null;case 13:if(Ia(Xi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ia(Xi),null;case 4:return Zi(),null;case 10:return Mi(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Do=function(){},Ro=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qi(Gi.current);var i,s=null;switch(n){case"input":a=J(e,a),r=J(e,r),s=[];break;case"select":a=$({},a,{value:void 0}),r=$({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(c in be(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Zo=!1,qo="function"===typeof WeakSet?WeakSet:Set,Ko=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&el(t,n,i)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[ha],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,fl=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Zo||Xo(n,t);case 6:var r=cl,a=fl;cl=null,dl(e,t,n),fl=a,null!==(cl=r)&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(fl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(cl,n.stateNode));break;case 4:r=cl,a=fl,cl=n.stateNode.containerInfo,fl=!0,dl(e,t,n),cl=r,fl=a;break;case 0:case 11:case 14:case 15:if(!Zo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Zo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nu(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Zo=(r=Zo)||null!==n.memoizedState,dl(e,t,n),Zo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qo),t.forEach((function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,fl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));hl(s,o,a),cl=null,fl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){Nu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(g){Nu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&q(a,s),ve(l,o);var c=ve(l,s);for(o=0;o<u.length;o+=2){var f=u[o],d=u[o+1];"style"===f?ge(a,d):"dangerouslySetInnerHTML"===f?fe(a,d):"children"===f?de(a,d):v(a,f,d,c)}switch(l){case"input":K(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(a,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){Nu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Nu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Nu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=qe())),4&r&&pl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Zo=(c=Zo)||f,ml(t,e),Zo=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ko=e,f=e.child;null!==f;){for(d=Ko=f;null!==Ko;){switch(p=(h=Ko).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Xo(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nu(r,n,g)}}break;case 5:Xo(h,h.return);break;case 22:if(null!==h.memoizedState){xl(d);continue}}null!==p?(p.return=h,Ko=p):xl(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,c?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Nu(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Nu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),ul(e,ol(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(i(161))}}catch(o){Nu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Ko=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Ko;){var a=Ko,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Jo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Zo;o=Jo;var u=Zo;if(Jo=s,(Zo=l)&&!u)for(Ko=a;null!==Ko;)l=(s=Ko).child,22===s.tag&&null!==s.memoizedState?kl(a):null!==l?(l.return=s,Ko=l):kl(a);for(;null!==i;)Ko=i,vl(i,t,n),i=i.sibling;Ko=a,Jo=o,Zo=u}wl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Ko=i):wl(e)}}function wl(e){for(;null!==Ko;){var t=Ko;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(i(163))}Zo||512&t.flags&&al(t)}catch(h){Nu(t,t.return,h)}}if(t===e){Ko=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ko=n;break}Ko=t.return}}function xl(e){for(;null!==Ko;){var t=Ko;if(t===e){Ko=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ko=n;break}Ko=t.return}}function kl(e){for(;null!==Ko;){var t=Ko;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Nu(t,a,l)}}var i=t.return;try{al(t)}catch(l){Nu(t,i,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Nu(t,s,l)}}}catch(l){Nu(t,t.return,l)}if(t===e){Ko=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ko=o;break}Ko=t.return}}var Cl,Nl=Math.ceil,Il=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,Ml=w.ReactCurrentBatchConfig,El=0,Ll=null,Tl=null,Al=0,Dl=0,Rl=Na(0),jl=0,Ol=null,_l=0,$l=0,Fl=0,zl=null,Pl=null,Bl=0,Ul=1/0,Wl=null,Vl=!1,Gl=null,Hl=null,Yl=!1,Ql=null,Jl=0,Zl=0,ql=null,Kl=-1,Xl=0;function eu(){return 0!==(6&El)?qe():-1!==Kl?Kl:Kl=qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Al?Al&-Al:null!==mi.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,n,r){if(50<Zl)throw Zl=0,ql=null,Error(i(185));yt(e,n,r),0!==(2&El)&&e===Ll||(e===Ll&&(0===(2&El)&&($l|=n),4===jl&&ou(e,Al)),ru(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=qe()+500,za&&Ua()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ht(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=dt(e,e===Ll?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){za=!0,Ba(e)}(lu.bind(null,e)):Ba(lu.bind(null,e)),sa((function(){0===(6&El)&&Ua()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Kl=-1,Xl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=El;El|=2;var s=pu();for(Ll===e&&Al===t||(Wl=null,Ul=qe()+500,du(e,t));;)try{bu();break}catch(l){hu(e,l)}Si(),Il.current=s,El=a,null!==Tl?t=0:(Ll=null,Al=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=iu(e,a))),1===t)throw n=Ol,du(e,0),ou(e,r),ru(e,qe()),n;if(6===t)ou(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gu(e,r))&&(0!==(s=pt(e))&&(r=s,t=iu(e,s))),1===t))throw n=Ol,du(e,0),ou(e,r),ru(e,qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xu(e,Pl,Wl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Bl+500-qe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xu.bind(null,e,Pl,Wl),t);break}xu(e,Pl,Wl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ra(xu.bind(null,e,Pl,Wl),r);break}xu(e,Pl,Wl);break;default:throw Error(i(329))}}}return ru(e,qe()),e.callbackNode===n?au.bind(null,e):null}function iu(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Pl,Pl=n,null!==t&&su(t)),e}function su(e){null===Pl?Pl=e:Pl.push.apply(Pl,e)}function ou(e,t){for(t&=~Fl,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&El))throw Error(i(327));ku();var t=dt(e,0);if(0===(1&t))return ru(e,qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Ol,du(e,0),ou(e,t),ru(e,qe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Pl,Wl),ru(e,qe()),null}function uu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=qe()+500,za&&Ua())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&El)&&ku();var t=El;El|=1;var n=Ml.transition,r=vt;try{if(Ml.transition=null,vt=1,e)return e()}finally{vt=r,Ml.transition=n,0===(6&(El=t))&&Ua()}}function fu(){Dl=Rl.current,Ia(Rl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Zi(),Ia(La),Ia(Ea),ns();break;case 5:Ki(r);break;case 4:Zi();break;case 13:case 19:Ia(Xi);break;case 10:Mi(r.type._context);break;case 22:case 23:fu()}n=n.return}if(Ll=e,Tl=e=Ru(e.current,null),Al=Dl=t,jl=0,Ol=null,Fl=$l=_l=0,Pl=zl=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ai=null}return e}function hu(e,t){for(;;){var n=Tl;try{if(Si(),rs.current=qs,us){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}us=!1}if(is=0,ls=os=ss=null,cs=!1,fs=0,Sl.current=null,null===n||null===n.return){jl=1,Ol=t,Tl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mo(s,c,t),mu();break e}u=Error(i(426))}else if(ai&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),pi(lo(u,l));break e}}s=u=lo(u,l),4!==jl&&(jl=2),null===zl?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,ho(0,u,t));break e;case 1:l=u;var b=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Hl||!Hl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Bi(s,po(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function pu(){var e=Il.current;return Il.current=qs,null===e?qs:e}function mu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Ll||0===(268435455&_l)&&0===(268435455&$l)||ou(Ll,Al)}function gu(e,t){var n=El;El|=2;var r=pu();for(Ll===e&&Al===t||(Wl=null,du(e,t));;)try{yu();break}catch(a){hu(e,a)}if(Si(),El=n,Il.current=r,null!==Tl)throw Error(i(261));return Ll=null,Al=0,jl}function yu(){for(;null!==Tl;)vu(Tl)}function bu(){for(;null!==Tl&&!Je();)vu(Tl)}function vu(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wu(e):Tl=t,Sl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Dl)))return void(Tl=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return jl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===jl&&(jl=5)}function xu(e,t,n){var r=vt,a=Ml.transition;try{Ml.transition=null,vt=1,function(e,t,n,r){do{ku()}while(null!==Ql);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Ll&&(Tl=Ll=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Lu(tt,(function(){return ku(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ml.transition,Ml.transition=null;var o=vt;vt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ea=Vt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==a&&3!==d.nodeType||(l=o+a),d!==s||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===a&&(l=o),h===s&&++f===r&&(u=o),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Ko=t;null!==Ko;)if(e=(t=Ko).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ko=e;else for(;null!==Ko;){t=Ko;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(x){Nu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ko=e;break}Ko=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Ze(),El=l,vt=o,Ml.transition=s}else e.current=n;if(Yl&&(Yl=!1,Ql=e,Jl=a),s=e.pendingLanes,0===s&&(Hl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&ku(),s=e.pendingLanes,0!==(1&s)?e===ql?Zl++:(Zl=0,ql=e):Zl=0,Ua()}(e,t,n,r)}finally{Ml.transition=a,vt=r}return null}function ku(){if(null!==Ql){var e=wt(Jl),t=Ml.transition,n=vt;try{if(Ml.transition=null,vt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&El))throw Error(i(331));var a=El;for(El|=4,Ko=e.current;null!==Ko;){var s=Ko,o=s.child;if(0!==(16&Ko.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ko=c;null!==Ko;){var f=Ko;switch(f.tag){case 0:case 11:case 15:nl(8,f,s)}var d=f.child;if(null!==d)d.return=f,Ko=d;else for(;null!==Ko;){var h=(f=Ko).sibling,p=f.return;if(il(f),f===c){Ko=null;break}if(null!==h){h.return=p,Ko=h;break}Ko=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ko=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Ko=o;else e:for(;null!==Ko;){if(0!==(2048&(s=Ko).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Ko=b;break e}Ko=s.return}}var v=e.current;for(Ko=v;null!==Ko;){var w=(o=Ko).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Ko=w;else e:for(o=v;null!==Ko;){if(0!==(2048&(l=Ko).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Nu(l,l.return,k)}if(l===o){Ko=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ko=x;break e}Ko=l.return}}if(El=a,Ua(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{vt=n,Ml.transition=t}}return!1}function Cu(e,t,n){e=zi(e,t=ho(0,t=lo(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Nu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=zi(t,e=po(t,e=lo(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Al&n)===n&&(4===jl||3===jl&&(130023424&Al)===Al&&500>qe()-Bl?du(e,0):Fl|=n),ru(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=ji(e,t))&&(yt(e,t,n),ru(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Su(e,n)}function Lu(e,t){return Ye(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,r){return new Tu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ru(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Du(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Ou(n.children,a,s,t);case N:o=8,a|=8;break;case I:return(e=Au(12,n,t,2|a)).elementType=I,e.lanes=s,e;case L:return(e=Au(13,n,t,a)).elementType=L,e.lanes=s,e;case T:return(e=Au(19,n,t,a)).elementType=T,e.lanes=s,e;case R:return _u(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case M:o=9;break e;case E:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Au(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Ou(e,t,n,r){return(e=Au(7,e,r,t)).lanes=n,e}function _u(e,t,n,r){return(e=Au(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Pu(e,t,n,r,a,i,s,o,l){return e=new zu(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Au(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_i(i),e}function Bu(e){if(!e)return Ma;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Da(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Da(n))return Oa(e,n,t)}return t}function Uu(e,t,n,r,a,i,s,o,l){return(e=Pu(n,r,!0,e,0,i,0,o,l)).context=Bu(null),n=e.current,(i=Fi(r=eu(),a=tu(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,a),e.current.lanes=a,yt(e,a,r),ru(e,r),e}function Wu(e,t,n,r){var a=t.current,i=eu(),s=tu(a);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(a,t,s))&&(nu(e,a,s,i),Pi(e,a,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||La.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Lo(t),hi();break;case 5:qi(t);break;case 1:Da(t.type)&&_a(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(ki,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(Xi,1&Xi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?$o(e,t,n):(Sa(Xi,1&Xi.current),null!==(e=Vo(e,t,n))?e.sibling:null);Sa(Xi,1&Xi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Xi,Xi.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Vo(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,ai&&0!==(1048576&t.flags)&&Xa(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Aa(t,Ea.current);Li(t,n),a=ms(null,t,r,e,a,n);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Da(r)?(s=!0,_a(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,_i(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),a){case 0:t=So(null,t,r,e,n);break e;case 1:t=Mo(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,So(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Mo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Lo(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,$i(e,t),Ui(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=To(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ua(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Vo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return qi(t),null===e&&ui(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),Io(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ui(t),null;case 13:return $o(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Sa(ki,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!La.current){t=Vo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Fi(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ei(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Li(t,n),r=r(a=Ti(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),ko(e,t,r,a=to(r.type,a),n);case 15:return Co(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Da(r)?(e=!0,_a(t)):e=!1,Li(t,n),io(t,r,a),oo(t,r,a,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return No(e,t,n)}throw Error(i(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function Xu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Vu(s);o.call(e)}}Wu(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Vu(s);i.call(e)}}var s=Uu(t,r,e,0,null,!1,0,"",Ku);return e._reactRootContainer=s,e[pa]=s.current,Ur(8===e.nodeType?e.parentNode:e),cu(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Vu(l);o.call(e)}}var l=Pu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=l,e[pa]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Wu(t,l,n,r)})),l}(n,t,e,a,r);return Vu(s)}Ju.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wu(e,t,null,null)},Ju.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Wu(null,e,null,null)})),t[pa]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&$t(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,qe()),0===(6&El)&&(Ul=qe()+500,Ua()))}break;case 13:cu((function(){var t=ji(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},kt=function(e){if(13===e.tag){var t=ji(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=ji(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Nt=function(){return vt},It=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));Y(r),K(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uu,Le=cu;var ec={usingClientEntryPoint:!1,Events:[va,wa,xa,Se,Me,uu]},tc={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{at=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(i(299));var n=!1,r="",a=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Pu(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!qu(t))throw Error(i(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=Yu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,a,0,s,o),e[pa]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ju(t)},t.render=function(e,t,n){if(!qu(t))throw Error(i(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pa]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2902:(e,t,n)=>{e.exports=n(7284).EventEmitter},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3350:(e,t,n)=>{(t=e.exports=n(6153)).Stream=t,t.Readable=t,t.Writable=n(9001),t.Duplex=n(6779),t.Transform=n(2013),t.PassThrough=n(5559),t.finished=n(227),t.pipeline=n(537)},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,C={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:C.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,x(s)?(a="",null!=e&&(a=e.replace(M,"$&/")+"/"),L(s,t,a,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var c=i+E(o=e[u],u);l+=L(o,t,a,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=L(o=o.value,t,a,c=i+E(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return L(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},j={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!N.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},4275:(e,t,n)=>{let r;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},4334:(e,t,n)=>{var r=n(7359),a=n(7066),i=n(9016),s=n(9538),o=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=a,u.xorwow=i,u.xorshift7=s,u.xor4096=o,u.tychei=l,e.exports=u},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.H=r.createRoot,r.hydrateRoot},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=o(e),s=i[0],l=i[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),c=0,f=l>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],s=16383,o=0,u=r-a;o<u;o+=s)i.push(l(e,o,o+s>u?u:o+s));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var a,i,s=[],o=t;o<r;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},4530:()=>{},4823:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===typeof n&&(r=n,n=""),n&&(r.code=n);try{return t(e,r)}catch(a){r.message=e.message,r.stack=e.stack;const n=function(){};n.prototype=Object.create(Object.getPrototypeOf(e));return t(new n,r)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case o:case s:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case m:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=f,t.isMemo=function(e){return y(e)===p}},5173:(e,t,n)=>{e.exports=n(1497)()},5237:(e,t,n)=>{e.exports=function(e){function t(e){let n,a,i,s=null;function o(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if(!o.enabled)return;const i=o,s=Number(new Date),l=s-(n||s);i.diff=l,i.prev=n,i.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");let u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";u++;const a=t.formatters[n];if("function"===typeof a){const t=r[u];e=a.call(i,t),r.splice(u,1),u--}return e})),t.formatArgs.call(i,r);(i.log||t.log).apply(i,r)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(a!==t.namespaces&&(a=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"===typeof t.init&&t.init(o),o}function r(e,n){const r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function a(e,t){let n=0,r=0,a=-1,i=0;for(;n<e.length;)if(r<t.length&&(t[r]===e[n]||"*"===t[r]))"*"===t[r]?(a=r,i=n,r++):(n++,r++);else{if(-1===a)return!1;r=a+1,i++,n=i}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const r of n)"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(const n of t.skips)if(a(e,n))return!1;for(const n of t.names)if(a(e,n))return!0;return!1},t.humanize=n(7340),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5262:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.tychei=o}(0,e=n.nmd(e),n.amdD)},5270:(e,t,n)=>{"use strict";var r=n(139),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,s,o,l,u,c=!1;t||(t={}),n=t.debug||!1;try{if(s=r(),o=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=a[t.format]||a.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),o.selectNodeContents(u),l.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(f){n&&console.error("unable to copy using execCommand: ",f),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(o):l.removeAllRanges()),u&&document.body.removeChild(u),s()}return c}},5340:()=>{},5559:(e,t,n)=>{"use strict";e.exports=a;var r=n(2013);function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}n(6329)(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},5817:()=>{},5838:(e,t,n)=>{"use strict";var r=65536,a=4294967295;var i=n(9966).Buffer,s=n.g.crypto||n.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>r)for(var o=0;o<e;o+=r)s.getRandomValues(n.slice(o,o+r));else s.getRandomValues(n);if("function"===typeof t)return process.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},6153:(e,t,n)=>{"use strict";var r;e.exports=N,N.ReadableState=C;n(7284).EventEmitter;var a=function(e,t){return e.listeners(t).length},i=n(2902),s=n(6382).Buffer,o=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var l,u=n(9838);l=u&&u.debuglog?u.debuglog("stream"):function(){};var c,f,d,h=n(7044),p=n(6725),m=n(8550).getHighWaterMark,g=n(6545).F,y=g.ERR_INVALID_ARG_TYPE,b=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(6329)(N,i);var x=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function C(e,t,a){r=r||n(6779),e=e||{},"boolean"!==typeof a&&(a=t instanceof r),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",a),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=n(8694).I),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function N(e){if(r=r||n(6779),!(this instanceof N))return new N(e);var t=this instanceof r;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function I(e,t,n,r,a){l("readableAddChunk",t);var i,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?L(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,u);else if(a||(i=function(e,t){var n;r=t,s.isBuffer(r)||r instanceof o||"string"===typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(u,t)),i)x(e,i);else if(u.objectMode||t&&t.length>0)if("string"===typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),r)u.endEmitted?x(e,new w):S(e,u,t,!0);else if(u.ended)x(e,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?S(e,u,t,!1):A(e,u)):S(e,u,t,!1)}else r||(u.reading=!1,A(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&L(e)),A(e,t)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),N.prototype.destroy=p.destroy,N.prototype._undestroy=p.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),I(this,e,t,!1,n)},N.prototype.unshift=function(e){return I(this,e,null,!0,!1)},N.prototype.isPaused=function(){return!1===this._readableState.flowing},N.prototype.setEncoding=function(e){c||(c=n(8694).I);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,a="";null!==r;)a+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var M=1073741824;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,_(e)}function A(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function R(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){l("readable nexttick read 0"),e.read(0)}function O(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(z,t,e))}function z(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}N.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):L(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,a=t.needReadable;return l("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",a=!0),t.ended||t.reading?l("reading or ended",a=!1):a&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?$(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},N.prototype._read=function(e){x(this,new v("_read()"))},N.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?o:m;function s(t,a){l("onunpipe"),t===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,l("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",s),n.removeListener("end",o),n.removeListener("end",m),n.removeListener("data",f),c=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function o(){l("onend"),e.end()}r.endEmitted?process.nextTick(i):n.once("end",i),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,_(e))}}(n);e.on("drain",u);var c=!1;function f(t){l("ondata");var a=e.write(t);l("dest.write",a),!1===a&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==P(r.pipes,e))&&!c&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function d(t){l("onerror",t),m(),e.removeListener("error",d),0===a(e,"error")&&x(e,t)}function h(){e.removeListener("finish",p),m()}function p(){l("onfinish"),e.removeListener("close",h),m()}function m(){l("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},N.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)r[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=P(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},N.prototype.on=function(e,t){var n=i.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?L(this):r.reading||process.nextTick(j,this))),n},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(e,t){var n=i.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(R,this),n},N.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(R,this),t},N.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(O,e,t))}(this,e)),e.paused=!1,this},N.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var a in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(l("wrapped data"),n.decoder&&(a=n.decoder.write(a)),!n.objectMode||null!==a&&void 0!==a)&&((n.objectMode||a&&a.length)&&(t.push(a)||(r=!0,e.pause())))})),e)void 0===this[a]&&"function"===typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<k.length;i++)e.on(k[i],this.emit.bind(this,k[i]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(N.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(7312)),f(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),N._fromList=$,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(N.from=function(e,t){return void 0===d&&(d=n(7462)),d(N,e,t)})},6288:function(e,t,n){var r;!function(e,a){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,s,o=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,a=0==(n=o[127&i]^=r+s)?a+1:0);for(a>=128&&(o[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=o[a+34&127],n=o[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,o[a]=r^n;e.w=s,e.X=o,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.xor4096=o}(0,e=n.nmd(e),n.amdD)},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},6382:(e,t,n)=>{"use strict";const r=n(4445),a=n(6900),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=o(n);const a=r.write(e,t);a!==n&&(r=r.slice(0,a));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const a=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Z(e.length)?o(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(a)return a;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return c(e),o(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(a)return r?-1:H(e).length;t=(""+t).toLowerCase(),a=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,a);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,a){let i,s=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){let r=-1;for(i=n;i<o;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+l>o&&(n=o-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function w(e,t,n,r){n=Number(n)||0;const a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Z(r))return s;e[n+s]=r}return s}function x(e,t,n,r){return Q(H(t,e.length-n),e,n,r)}function k(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return Q(Y(t),e,n,r)}function N(e,t,n,r){return Q(function(e,t){let n,r,a;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);const r=[];let a=t;for(;a<n;){const t=e[a];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(a+s<=n){let n,r,o,l;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[a+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[a+1],r=e[a+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[a+1],r=e[a+2],o=e[a+3],128===(192&n)&&128===(192&r)&&128===(192&o)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),a+=s}return function(e){const t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}(r)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},l.allocUnsafe=function(e){return f(e)},l.allocUnsafeSlow=function(e){return f(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let a=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))a+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,a)):Uint8Array.prototype.set.call(r,t,a);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,a)}a+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,a){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(a>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const o=Math.min(i,s),u=this.slice(r,a),c=e.slice(t,n);for(let l=0;l<o;++l)if(u[l]!==c[l]){i=u[l],s=c[l];break}return i<s?-1:s<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function E(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function L(e,t,n){let r="";n=Math.min(e.length,n);for(let a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function T(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let a="";for(let i=t;i<n;++i)a+=q[e[i]];return a}function A(e,t,n){const r=e.slice(t,n);let a="";for(let i=0;i<r.length-1;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,a,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,a){U(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function O(e,t,n,r,a){U(t,r,a,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function _(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return t=+t,n>>>=0,i||_(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||_(e,0,n,8),a.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e+--t],a=1;for(;t>0&&(a*=256);)r+=this[e+--t]*a;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=K((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,a=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(a)<<BigInt(32))})),l.prototype.readBigUInt64BE=K((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],a=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(a)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=this[e],a=1,i=0;for(;++i<t&&(a*=256);)r+=this[e+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);let r=t,a=1,i=this[e+--r];for(;r>0&&(a*=256);)i+=this[e+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=K((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=K((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),a.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),a.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),a.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),a.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=K((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=K((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=K((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=K((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const a=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{const i=l.isBuffer(e)?e:l.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=i[a%s]}return this};const z={};function P(e,t,n){z[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,a,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let a;throw a=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,a,i)}function W(e,t){if("number"!==typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),P("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),P("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,a=n;return Number.isInteger(n)&&Math.abs(n)>2**32?a=B(String(n)):"bigint"===typeof n&&(a=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(a=B(a)),a+="n"),r+=` It must be ${t}. Received ${a}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let a=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Q(e,t,n,r){let a;for(a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!==e}const q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let a=0;a<16;++a)t[r+a]=e[n]+e[a]}return t}();function K(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},6440:e=>{"use strict";var t=function(){};e.exports=t},6522:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(a=r))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(5237)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},6545:e=>{"use strict";var t={};function n(e,n,r){r||(r=Error);var a=function(e){var t,r;function a(t,r,a){return e.call(this,function(e,t,r){return"string"===typeof n?n:n(e,t,r)}(t,r,a))||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a}(r);a.prototype.name=r.name,a.prototype.code=e,t[e]=a}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var a,i,s,o;if("string"===typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(a="must not be",t=t.replace(/^not /,"")):a="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o="The ".concat(e," ").concat(a," ").concat(r(t,"type"));else{var l=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(l," ").concat(a," ").concat(r(t,"type"))}return o+=". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},6593:(e,t,n)=>{const r=n(6522)("simple-peer"),a=n(7919),i=n(5838),s=n(3350),o=n(4275),l=n(4823),{Buffer:u}=n(6382),c=65536;function f(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class d extends s.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=i(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||i(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||d.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},d.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"===typeof e.wrtc?e.wrtc:a(),!this._wrtc)throw"undefined"===typeof window?l(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):l(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){return void this.destroy(l(t,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"===typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"===typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(l(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(l(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{var n;!t.address||t.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):this.destroy(l(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(n){this.destroy(l(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(e)||new Map;let r=n.get(t);if(r)throw r.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(e),a=r?r.get(n):null;if(!a)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null!=a.replaceTrack?a.replaceTrack(t):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(a){"NS_ERROR_UNEXPECTED"===a.name?this._sendersAwaitingStable.push(r):this.destroy(l(a,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,o((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),o((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"===typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=c),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{const t=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:${e.colno}`);this.destroy(l(t,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(r){return this.destroy(l(r,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>c?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=f(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=f(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(this.destroyed)return;const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(l(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(l(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((n=>{const r=[];n.forEach((e=>{r.push(t(e))})),e(null,r)}),(t=>e(t))):this._pc.getStats.length>0?this._pc.getStats((n=>{if(this.destroyed)return;const r=[];n.result().forEach((e=>{const n={};e.names().forEach((t=>{n[t]=e.stat(t)})),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,r.push(t(n))})),e(null,r)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,n)=>{if(this.destroyed)return;t&&(n=[]);const r={},a={},i={};let s=!1;n.forEach((e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(r[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(a[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(i[e.id]=e)}));const o=e=>{s=!0;let t=a[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"===typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=r[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"===typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&o(i[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&o(e)})),s||Object.keys(i).length&&!Object.keys(a).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(l(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"number"!==typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>c||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=u.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),o((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}d.WEBRTC_SUPPORT=!!a(),d.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},d.channelConfig={},e.exports=d},6725:e=>{"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,a){var i=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(a?a(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,e)):process.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!a&&e?i._writableState?i._writableState.errorEmitted?process.nextTick(n,i):(i._writableState.errorEmitted=!0,process.nextTick(t,i,e)):process.nextTick(t,i,e):a?(process.nextTick(n,i),a(e)):process.nextTick(n,i)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},6779:(e,t,n)=>{"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=n(6153),i=n(9001);n(6329)(u,a);for(var s=r(i.prototype),o=0;o<s.length;o++){var l=s[o];u.prototype[l]||(u.prototype[l]=i.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},6900:(e,t)=>{t.read=function(e,t,n,r,a){var i,s,o=8*a-r-1,l=(1<<o)-1,u=l>>1,c=-7,f=n?a-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=o;c>0;i=256*i+e[t+f],f+=d,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),i-=u}return(h?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var s,o,l,u=8*i-a-1,c=(1<<u)-1,f=c>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=c?(o=0,s=c):s+f>=1?(o=(t*l-1)*Math.pow(2,a),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,a),s=0));a>=8;e[n+h]=255&o,h+=p,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}},7044:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var l=n(6382).Buffer,u=n(5340).inspect,c=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,r;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,n,r,a=l.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,n=a,r=s,l.prototype.copy.call(t,n,r),s+=i.data.length,i=i.next;return a}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(i===a.length?r+=a:r+=a.slice(0,e),0===(e-=i)){i===a.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(i));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var a=n.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0===(e-=i)){i===a.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(i));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return u(this,a(a({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},7066:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.xor128=o}(0,e=n.nmd(e),n.amdD)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,d=null,h=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,R(k);else{var t=r(c);null!==t&&j(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,b(S),S=-1),p=!0;var i=h;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!L());){var s=d.callback;if("function"===typeof s){d.callback=null,h=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(u)&&a(u),w(n)}else a(u);d=r(u)}if(null!==d)var l=!0;else{var f=r(c);null!==f&&j(x,f.startTime-n),l=!1}return l}finally{d=null,h=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,N=!1,I=null,S=-1,M=5,E=-1;function L(){return!(t.unstable_now()-E<M)}function T(){if(null!==I){var e=t.unstable_now();E=e;var n=!0;try{n=I(!0,e)}finally{n?C():(N=!1,I=null)}}else N=!1}if("function"===typeof v)C=function(){v(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=T,C=function(){D.postMessage(null)}}else C=function(){y(T,0)};function R(e){I=e,N||(N=!0,C())}function j(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(b(S),S=-1):g=!0,j(x,i-s))):(e.sortIndex=o,n(u,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7284:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function a(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,a,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var a,i,s,u;if(o(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"===typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(a=l(e))>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=c.bind(r);return a.listener=n,r.wrapFn=a,a}function d(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"===typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):p(a,a.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){r.once&&e.removeEventListener(t,a),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,a,i,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7312:(e,t,n)=>{"use strict";var r;function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(227),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var n=e[d].read();null!==n&&(e[c]=null,e[s]=null,e[o]=null,t(h(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((a(r={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[l]?n(e[l]):t(h(void 0,!0))}))}));var n,r=this[c];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(h(void 0,!0)):t[f](n,r)}),r)}}(r,this));else{var a=this[d].read();if(null!==a)return Promise.resolve(h(a,!1));n=new Promise(this[f])}return this[c]=n,n}},Symbol.asyncIterator,(function(){return this})),a(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(a(t={},d,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,f,{value:function(e,t){var r=n[d].read();r?(n[c]=null,n[s]=null,n[o]=null,e(h(r,!1))):(n[s]=e,n[o]=t)},writable:!0}),t));return n[c]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[o];return null!==t&&(n[c]=null,n[s]=null,n[o]=null,t(e)),void(n[l]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[o]=null,r(h(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},7340:e=>{var t=1e3,n=60*t,r=60*n,a=24*r,i=7*a,s=365.25*a;function o(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,l){l=l||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!o)return;var l=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*i;case"days":case"day":case"d":return l*a;case"hours":case"hour":case"hrs":case"hr":case"h":return l*r;case"minutes":case"minute":case"mins":case"min":case"m":return l*n;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(e);if("number"===u&&isFinite(e))return l.long?function(e){var i=Math.abs(e);if(i>=a)return o(e,i,a,"day");if(i>=r)return o(e,i,r,"hour");if(i>=n)return o(e,i,n,"minute");if(i>=t)return o(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=a)return Math.round(e/a)+"d";if(i>=r)return Math.round(e/r)+"h";if(i>=n)return Math.round(e/n)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(I){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},i={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(i[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=l(e,e<0?-1:0,!1),s&&(a[e]=n),n)}function o(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-p)return C;if(e+1>=p)return x}return e<0?o(-e,t).neg():l(e%d|0,e/d|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=o,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=o(u(n,8)),i=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),f=parseInt(e.substring(s,s+l),n);if(l<8){var d=o(u(n,l));i=i.mul(d).add(o(f))}else i=(i=i.mul(a)).add(o(f))}return i.unsigned=t,i}function f(e,t){return"number"===typeof e?o(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=f;var d=4294967296,h=d*d,p=h/2,m=s(1<<24),g=s(0);n.ZERO=g;var y=s(0,!0);n.UZERO=y;var b=s(1);n.ONE=b;var v=s(1,!0);n.UONE=v;var w=s(-1);n.NEG_ONE=w;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var C=l(0,-2147483648,!1);n.MIN_VALUE=C;var N=n.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},N.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=o(u(e,6),this.unsigned),i=this,s="";;){var l=i.div(a),c=(i.sub(l.mul(a)).toInt()>>>0).toString(e);if((i=l).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1===(1&this.low)},N.isEven=function(){return 0===(1&this.low)},N.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},N.eq=N.equals,N.notEquals=function(e){return!this.eq(e)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(e){return this.comp(e)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(e){return this.comp(e)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(e){return this.comp(e)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(e){return this.comp(e)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(b)},N.neg=N.negate,N.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,i=65535&this.low,s=e.high>>>16,o=65535&e.high,u=e.low>>>16,c=0,d=0,h=0,p=0;return h+=(p+=i+(65535&e.low))>>>16,d+=(h+=a+u)>>>16,c+=(d+=n+o)>>>16,c+=t+s,l((h&=65535)<<16|(p&=65535),(c&=65535)<<16|(d&=65535),this.unsigned)},N.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},N.sub=N.subtract,N.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=f(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(C))return e.isOdd()?C:g;if(e.eq(C))return this.isOdd()?C:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,i=this.low>>>16,s=65535&this.low,u=e.high>>>16,c=65535&e.high,d=e.low>>>16,h=65535&e.low,p=0,y=0,b=0,v=0;return b+=(v+=s*h)>>>16,y+=(b+=i*h)>>>16,b&=65535,y+=(b+=s*d)>>>16,p+=(y+=a*h)>>>16,y&=65535,p+=(y+=i*d)>>>16,y&=65535,p+=(y+=s*c)>>>16,p+=n*h+a*d+i*c+s*u,l((b&=65535)<<16|(v&=65535),(p&=65535)<<16|(y&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,a,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;i=y}else{if(this.eq(C))return e.eq(b)||e.eq(w)?C:e.eq(C)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(a=this.sub(e.mul(n)),i=n.add(a.div(e)));if(e.eq(C))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),c=s<=48?1:u(2,s-48),d=o(n),h=d.mul(e);h.isNegative()||h.gt(a);)h=(d=o(n-=c,this.unsigned)).mul(e);d.isZero()&&(d=b),i=i.add(d),a=a.sub(h)}return i},N.div=N.divide,N.modulo=function(e){return r(e)||(e=f(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return l(~this.low,~this.high,this.unsigned)},N.and=function(e){return r(e)||(e=f(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},N.or=function(e){return r(e)||(e=f(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},N.xor=function(e){return r(e)||(e=f(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},N.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},N.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},N.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7359:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.alea=o}(0,e=n.nmd(e),n.amdD)},7462:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},7919:e=>{e.exports=function(){if("undefined"===typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8108:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},8550:(e,t,n)=>{"use strict";var r=n(6545).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,a){var i=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,a,n);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new r(a?n:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},8590:()=>{},8694:(e,t,n)=>{"use strict";var r=n(9966).Buffer,a=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var a=s(t[r]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--r<n||-2===a)return 0;if(a=s(t[r]),a>=0)return a>0&&(e.lastNeed=a-2),a;if(--r<n||-2===a)return 0;if(a=s(t[r]),a>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9001:(e,t,n)=>{"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var a=r.callback;t.pendingcb--,a(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=N,N.WritableState=C;var i={deprecate:n(2390)},s=n(2902),o=n(6382).Buffer,l=("undefined"!==typeof n.g?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).Uint8Array||function(){};var u,c=n(6725),f=n(8550).getHighWaterMark,d=n(6545).F,h=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;function k(){}function C(e,t,i){a=a||n(6779),e=e||{},"boolean"!==typeof i&&(i=t instanceof a),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if("function"!==typeof a)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?(process.nextTick(a,r),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,x(e,r)):(a(r),e._writableState.errorEmitted=!0,x(e,r),T(e,t))}(e,n,r,t,a);else{var i=E(n)||e.destroyed;i||n.corked||n.bufferProcessing||!n.bufferedRequest||M(e,n),r?process.nextTick(S,e,n,i,a):S(e,n,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function N(e){var t=this instanceof(a=a||n(6779));if(!t&&!u.call(N,this))return new N(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function I(e,t,n,r,a,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function S(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function M(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var a=t.bufferedRequestCount,i=new Array(a),s=t.corkedRequestsFree;s.entry=n;for(var o=0,l=!0;n;)i[o]=n,n.isBuf||(l=!1),n=n.next,o+=1;i.allBuffers=l,I(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(I(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function L(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=E(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(L,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(6329)(N,s),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:i.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===N&&(e&&e._writableState instanceof C)}})):u=function(e){return e instanceof this},N.prototype.pipe=function(){x(this,new g)},N.prototype.write=function(e,t,n){var r,a=this._writableState,i=!1,s=!a.objectMode&&(r=e,o.isBuffer(r)||r instanceof l);return s&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof n&&(n=k),a.ending?function(e,t){var n=new v;x(e,n),process.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var a;return null===n?a=new b:"string"===typeof n||t.objectMode||(a=new h("chunk",["string","Buffer"],n)),!a||(x(e,a),process.nextTick(r,a),!1)}(this,a,e,n))&&(a.pendingcb++,i=function(e,t,n,r,a,i){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=o.from(t,n));return t}(t,r,a);r!==s&&(n=!0,a="buffer",r=s)}var l=t.objectMode?1:r.length;t.length+=l;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,l,r,a,i);return u}(this,a,s,e,t,n)),i},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(e,t,n){n(new p("_write()"))},N.prototype._writev=null,N.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),N.prototype.destroy=c.destroy,N.prototype._undestroy=c.undestroy,N.prototype._destroy=function(e,t){t(e)}},9016:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.xorwow=o}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var r;!function(e,a){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=o:n.amdD&&n.amdO?void 0===(r=function(){return o}.call(t,n,t,a))||(a.exports=r):this.xorshift7=o}(0,e=n.nmd(e),n.amdD)},9838:()=>{},9966:(e,t,n)=>{var r=n(6382),a=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>Ws,Encoder:()=>Bs,PacketType:()=>Ps,protocol:()=>zs});var t={};n.r(t),n.d(t,{CompositeArrayBuffer:()=>fA,browserFiles:()=>sR,browserHTTPRequest:()=>mR,concatenateArrayBuffers:()=>AA,copyModel:()=>gD,decodeWeights:()=>kA,decodeWeightsStream:()=>MA,encodeWeights:()=>xA,fromMemory:()=>vR,fromMemorySync:()=>wR,getLoadHandlers:()=>UA,getModelArtifactsForJSON:()=>OA,getModelArtifactsForJSONSync:()=>jA,getModelArtifactsInfoForJSON:()=>_A,getSaveHandlers:()=>BA,getWeightSpecs:()=>$A,http:()=>pR,isHTTPScheme:()=>dR,listModels:()=>pD,loadWeights:()=>uR,moveModel:()=>yD,registerLoadRouter:()=>PA,registerSaveRouter:()=>zA,removeModel:()=>mD,weightsLoaderFactory:()=>cR,withSaveHandler:()=>xR,withSaveHandlerSync:()=>kR});var r={};n.r(r),n.d(r,{assertParamsValid:()=>LR,computeFlatOffset:()=>UR,computeOutShape:()=>AR,getNormalizedAxes:()=>OR,isSliceContinous:()=>BR,maskToAxes:()=>TR,parseSliceParams:()=>WR,sliceInfo:()=>VR,startForAxis:()=>zR,startIndicesWithElidedDims:()=>_R,stopForAxis:()=>PR,stopIndicesWithElidedDims:()=>$R,stridesForAxis:()=>FR,stridesWithElidedDims:()=>DR});var a={};n.r(a),n.d(a,{conv2d:()=>rF,depthwiseConv2d:()=>sF,matMul:()=>oF});var i={};n.r(i),n.d(i,{collectGatherOpShapeInfo:()=>bP,computeOutShape:()=>yP,segOpComputeOptimalWindowSize:()=>gP});var s={};n.r(s),n.d(s,{ERF_A1:()=>jz,ERF_A2:()=>Oz,ERF_A3:()=>_z,ERF_A4:()=>$z,ERF_A5:()=>Fz,ERF_P:()=>Rz,PARALLELIZE_THRESHOLD:()=>kz,RowPartitionType:()=>yz,SELU_SCALE:()=>Dz,SELU_SCALEALPHA:()=>Az,applyActivation:()=>tF,assertAndGetBroadcastShape:()=>ZD,assertAxesAreInnerMostDims:()=>yO,assertParamsConsistent:()=>mz,assignToTypedArray:()=>Vz,axesAreInnerMostDims:()=>hO,calculateShapes:()=>A$,checkEinsumDimSizes:()=>Xz,checkPadOnDimRoundingMode:()=>bj,combineLocations:()=>pO,combineRaggedTensorToTensorShapes:()=>bz,complexWithEvenIndex:()=>Bz,complexWithOddIndex:()=>Uz,computeConv2DInfo:()=>oj,computeConv3DInfo:()=>lj,computeDefaultPad:()=>uj,computeDilation2DInfo:()=>aj,computeOptimalWindowSize:()=>Cz,computeOutAndReduceShapes:()=>mO,computeOutShape:()=>gz,computePool2DInfo:()=>ij,computePool3DInfo:()=>sj,convertConv2DDataFormat:()=>yj,decodeEinsumEquation:()=>qz,eitherStridesOrDilationsAreOne:()=>mj,expandShapeToKeepDim:()=>gO,exponent:()=>Hz,exponents:()=>Gz,fromStringArrayToUint8:()=>wP,fromUint8ToStringArray:()=>vP,getAxesPermutation:()=>bO,getBroadcastDims:()=>QD,getComplexWithIndex:()=>Wz,getEinsumComputePath:()=>eP,getEinsumPermutation:()=>Kz,getFusedBiasGradient:()=>eF,getFusedDyActivation:()=>X$,getImageCenter:()=>Nz,getInnerMostAxes:()=>wO,getPermuted:()=>Sz,getRaggedRank:()=>wz,getReductionAxes:()=>JD,getReshaped:()=>Iz,getReshapedPermuted:()=>Mz,getRowPartitionTypesHelper:()=>vz,getSliceBeginCoords:()=>Ez,getSliceSize:()=>Lz,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>aP,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>iP,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>sP,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>uP,getSparseReshapeInputOutputMismatchErrorMessage:()=>fP,getSparseReshapeInputOutputMultipleErrorMessage:()=>cP,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>oP,getSparseReshapeNegativeOutputDimErrorMessage:()=>lP,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>mP,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>dP,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>hP,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>pP,getUndoAxesPermutation:()=>vO,isIdentityPermutation:()=>tP,log:()=>$L,mergeRealAndImagArrays:()=>zz,prepareAndValidate:()=>Tz,prepareSplitSize:()=>rP,segment_util:()=>i,shouldFuse:()=>nF,slice_util:()=>r,splitRealAndImagArrays:()=>Pz,stridesOrDilationsArePositive:()=>gj,tupleValuesAreOne:()=>pj,upcastType:()=>_T,validateDefaultValueShape:()=>xz,validateInput:()=>T$,validateUpdateShape:()=>L$,warn:()=>_L});var o={};n.r(o),n.d(o,{json:()=>yQ});var l={};n.r(l),n.d(l,{json:()=>bQ});var u={};n.r(u),n.d(u,{json:()=>vQ});var c={};n.r(c),n.d(c,{json:()=>wQ});var f={};n.r(f),n.d(f,{json:()=>xQ});var d={};n.r(d),n.d(d,{json:()=>kQ});var h={};n.r(h),n.d(h,{json:()=>CQ});var p={};n.r(p),n.d(p,{json:()=>NQ});var m={};n.r(m),n.d(m,{json:()=>IQ});var g={};n.r(g),n.d(g,{json:()=>SQ});var y={};n.r(y),n.d(y,{json:()=>MQ});var b={};n.r(b),n.d(b,{json:()=>EQ});var v={};n.r(v),n.d(v,{json:()=>LQ});var w={};n.r(w),n.d(w,{json:()=>TQ});var x={};n.r(x),n.d(x,{json:()=>AQ});var k={};n.r(k),n.d(k,{json:()=>DQ});var C={};n.r(C),n.d(C,{json:()=>RQ});var N={};n.r(N),n.d(N,{json:()=>jQ});var I={};n.r(I),n.d(I,{json:()=>OQ});var S={};n.r(S),n.d(S,{OP_SCOPE_SUFFIX:()=>iA,abs:()=>YD,acos:()=>HR,acosh:()=>YR,add:()=>SD,addN:()=>QR,all:()=>JR,any:()=>ZR,argMax:()=>qR,argMin:()=>KR,asin:()=>XR,asinh:()=>ej,atan:()=>tj,atan2:()=>nj,atanh:()=>rj,avgPool:()=>wj,avgPool3d:()=>xj,basicLSTMCell:()=>Mj,batchNorm:()=>Lj,batchNorm2d:()=>Tj,batchNorm3d:()=>Aj,batchNorm4d:()=>Dj,batchToSpaceND:()=>Ej,bincount:()=>Rj,bitwiseAnd:()=>jj,booleanMaskAsync:()=>U$,broadcastArgs:()=>Oj,broadcastTo:()=>_j,buffer:()=>kD,cast:()=>CD,ceil:()=>$j,clipByValue:()=>Fj,clone:()=>ND,complex:()=>oA,concat:()=>kj,concat1d:()=>zj,concat2d:()=>Pj,concat3d:()=>Bj,concat4d:()=>Uj,conv1d:()=>Vj,conv2d:()=>Wj,conv2dTranspose:()=>Hj,conv3d:()=>Yj,conv3dTranspose:()=>Jj,cos:()=>Zj,cosh:()=>qj,cosineWindow:()=>Z$,cumprod:()=>Kj,cumsum:()=>Xj,denseBincount:()=>eO,depthToSpace:()=>tO,depthwiseConv2d:()=>nO,diag:()=>rO,dilation2d:()=>aO,div:()=>ED,divNoNan:()=>oO,dot:()=>lO,dropout:()=>Q$,einsum:()=>uO,elu:()=>cO,enclosingPowerOfTwo:()=>J$,ensureShape:()=>fO,equal:()=>iO,erf:()=>dO,euclideanNorm:()=>SO,exp:()=>MO,expandDims:()=>EO,expm1:()=>LO,eye:()=>AO,fft:()=>h$,fill:()=>UD,floor:()=>DO,floorDiv:()=>MD,fused:()=>a,gather:()=>RO,gatherND:()=>Y$,greater:()=>jO,greaterEqual:()=>OO,ifft:()=>p$,imag:()=>_O,image:()=>oz,inTopKAsync:()=>q$,irfft:()=>m$,isFinite:()=>$O,isInf:()=>FO,isNaN:()=>zO,leakyRelu:()=>PO,less:()=>BO,lessEqual:()=>UO,linalg:()=>lz,linspace:()=>WO,localResponseNormalization:()=>VO,log:()=>GO,log1p:()=>HO,logSigmoid:()=>JO,logSoftmax:()=>ZO,logSumExp:()=>qO,logicalAnd:()=>KO,logicalNot:()=>XO,logicalOr:()=>e_,logicalXor:()=>t_,losses:()=>uz,lowerBound:()=>a_,matMul:()=>Cj,max:()=>xO,maxPool:()=>i_,maxPool3d:()=>s_,maxPoolWithArgmax:()=>o_,maximum:()=>qD,mean:()=>l_,meshgrid:()=>f_,min:()=>kO,minimum:()=>d_,mirrorPad:()=>h_,mod:()=>p_,moments:()=>m_,movingAverage:()=>V$,mul:()=>LD,multiRNNCell:()=>g_,multinomial:()=>y_,neg:()=>YO,norm:()=>IO,notEqual:()=>b_,oneHot:()=>v_,ones:()=>c_,onesLike:()=>w_,op:()=>sA,outerProduct:()=>x_,pad:()=>k_,pad1d:()=>C_,pad2d:()=>N_,pad3d:()=>I_,pad4d:()=>S_,pool:()=>E_,pow:()=>VD,prelu:()=>L_,print:()=>ID,prod:()=>T_,raggedGather:()=>A_,raggedRange:()=>D_,raggedTensorToTensor:()=>R_,rand:()=>j_,randomGamma:()=>z_,randomNormal:()=>P_,randomStandardNormal:()=>B_,randomUniform:()=>U_,randomUniformInt:()=>W_,range:()=>V_,real:()=>G_,reciprocal:()=>H_,relu:()=>Y_,relu6:()=>Q_,reshape:()=>vj,reverse:()=>J_,reverse1d:()=>Z_,reverse2d:()=>q_,reverse3d:()=>K_,reverse4d:()=>X_,rfft:()=>y$,round:()=>e$,rsqrt:()=>t$,scalar:()=>jD,scatterND:()=>G$,searchSorted:()=>r_,selu:()=>n$,separableConv2d:()=>r$,setdiff1dAsync:()=>a$,sigmoid:()=>Nj,sign:()=>i$,signal:()=>sz,sin:()=>s$,sinh:()=>o$,slice:()=>Ij,slice1d:()=>l$,slice2d:()=>u$,slice3d:()=>c$,slice4d:()=>f$,softmax:()=>d$,softplus:()=>QO,spaceToBatchND:()=>M_,sparse:()=>cz,sparseToDense:()=>H$,spectral:()=>iz,split:()=>g$,sqrt:()=>TD,square:()=>AD,squaredDifference:()=>b$,squeeze:()=>v$,stack:()=>w$,step:()=>x$,stridedSlice:()=>k$,string:()=>fz,sub:()=>GD,sum:()=>CO,tan:()=>C$,tanh:()=>Sj,tensor:()=>uA,tensor1d:()=>N$,tensor2d:()=>I$,tensor3d:()=>CR,tensor4d:()=>S$,tensor5d:()=>M$,tensor6d:()=>E$,tensorScatterUpdate:()=>D$,tile:()=>TO,topk:()=>R$,transpose:()=>W$,truncatedNormal:()=>j$,unique:()=>O$,unsortedSegmentSum:()=>_$,unstack:()=>$$,upperBound:()=>F$,variable:()=>z$,where:()=>sO,whereAsync:()=>B$,zeros:()=>u_,zerosLike:()=>DD});var M={};n.r(M),n.d(M,{mx:()=>_Z,XI:()=>Eq,Nk:()=>Lq,f6:()=>Aq,ct:()=>AZ,YG:()=>Oq,hH:()=>Bq,z3:()=>IK,sG:()=>_K,uM:()=>BK,vS:()=>aX,qB:()=>dX,GG:()=>pX,lg:()=>vX,rq:()=>gX,cu:()=>DX,WR:()=>LX,GE:()=>OX,px:()=>$X,jC:()=>KX,He:()=>t0,hE:()=>f0,BF:()=>yK,Dk:()=>x0,cl:()=>L0,_B:()=>U0,ub:()=>Y0,_f:()=>Z0,Ku:()=>n1,qy:()=>a1,Zy:()=>g1,bu:()=>v1,zv:()=>kZ,dH:()=>GZ,HS:()=>Nq,yH:()=>z1,l3:()=>B1,z9:()=>W1,x6:()=>Q1,_m:()=>t2,eW:()=>s2,GK:()=>u2,SP:()=>d2,yr:()=>p2,dl:()=>YK,Dw:()=>w2,xT:()=>N2,_X:()=>KZ,wz:()=>A2});var E=n(5043),L=n.t(E,2),T=(n(4358),"popstate");function A(){return F((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return O("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?$(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function $(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function F(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",l=null,u=c();function c(){return(s.state||{idx:null}).idx}function f(){o="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:h.location,delta:t})}function d(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:_(e);return n=n.replace(/ $/,"%20"),D(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==u&&(u=0,s.replaceState({...s.state,idx:u},""));let h={get action(){return o},get location(){return e(a,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(T,f),l=e,()=>{a.removeEventListener(T,f),l=null}},createHref:e=>t(a,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=O(h.location,e,t);n&&n(r,e),u=c()+1;let f=j(r,u),d=h.createHref(r);try{s.pushState(f,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(d)}i&&l&&l({action:o,location:h.location,delta:1})},replace:function(e,t){o="REPLACE";let r=O(h.location,e,t);n&&n(r,e),u=c();let a=j(r,u),f=h.createHref(r);s.replaceState(a,"",f),i&&l&&l({action:o,location:h.location,delta:0})},go:e=>s.go(e)};return h}new WeakMap;function z(e,t){return P(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function P(e,t,n,r){let a=te(("string"===typeof t?$(t):t).pathname||"/",n);if(null==a)return null;let i=B(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=ee(a);s=q(i[o],e,r)}return s}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};s.relativePath.startsWith("/")&&(D(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let o=se([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(D(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),B(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:Z(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of U(e.path))a(e,t,n);else a(e,t)})),t}function U(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let s=U(r.join("/")),o=[];return o.push(...s.map((e=>""===e?i:[i,e].join("/")))),a&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var W=/^:[\w-]+$/,V=3,G=2,H=1,Y=10,Q=-2,J=e=>"*"===e;function Z(e,t){let n=e.split("/"),r=n.length;return n.some(J)&&(r+=Q),t&&(r+=G),n.filter((e=>!J(e))).reduce(((e,t)=>e+(W.test(t)?V:""===t?H:Y)),r)}function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},i="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===i?t:t.slice(i.length)||"/",c=K({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),f=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=K({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(a,c.params),s.push({params:a,pathname:se([i,c.pathname]),pathnameBase:oe(se([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=se([i,c.pathnameBase]))}return s}function K(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=X(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function X(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];R("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function ee(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return R(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ne(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function re(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ae(e){let t=re(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function ie(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=$(e):(r={...e},D(!r.pathname||!r.pathname.includes("?"),ne("?","pathname","search",r)),D(!r.pathname||!r.pathname.includes("#"),ne("#","pathname","hash",r)),D(!r.search||!r.search.includes("#"),ne("#","search","hash",r)));let i,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?$(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:le(r),hash:ue(a)}}(r,i),u=o&&"/"!==o&&o.endsWith("/"),c=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var se=e=>e.join("/").replace(/\/\/+/g,"/"),oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),le=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ue=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fe=["POST","PUT","PATCH","DELETE"],de=(new Set(fe),["GET",...fe]);new Set(de),Symbol("ResetLoaderData");var he=E.createContext(null);he.displayName="DataRouter";var pe=E.createContext(null);pe.displayName="DataRouterState";var me=E.createContext({isTransitioning:!1});me.displayName="ViewTransition";var ge=E.createContext(new Map);ge.displayName="Fetchers";var ye=E.createContext(null);ye.displayName="Await";var be=E.createContext(null);be.displayName="Navigation";var ve=E.createContext(null);ve.displayName="Location";var we=E.createContext({outlet:null,matches:[],isDataRoute:!1});we.displayName="Route";var xe=E.createContext(null);xe.displayName="RouteError";function ke(){return null!=E.useContext(ve)}function Ce(){return D(ke(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(ve).location}var Ne="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ie(e){E.useContext(be).static||E.useLayoutEffect(e)}function Se(){let{isDataRoute:e}=E.useContext(we);return e?function(){let{router:e}=_e("useNavigate"),t=Fe("useNavigate"),n=E.useRef(!1);Ie((()=>{n.current=!0}));let r=E.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R(n.current,Ne),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))}),[e,t]);return r}():function(){D(ke(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(he),{basename:t,navigator:n}=E.useContext(be),{matches:r}=E.useContext(we),{pathname:a}=Ce(),i=JSON.stringify(ae(r)),s=E.useRef(!1);Ie((()=>{s.current=!0}));let o=E.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(R(s.current,Ne),!s.current)return;if("number"===typeof r)return void n.go(r);let l=ie(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:se([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)}),[t,n,i,a,e]);return o}()}var Me=E.createContext(null);function Ee(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=E.useContext(we),{pathname:r}=Ce(),a=JSON.stringify(ae(n));return E.useMemo((()=>ie(e,JSON.parse(a),r,"path"===t)),[e,a,r,t])}function Le(e,t,n,r){D(ke(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=E.useContext(be),{matches:s}=E.useContext(we),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",f=o&&o.route;{let e=f&&f.path||"";Be(u,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let d,h=Ce();if(t){let e="string"===typeof t?$(t):t;D("/"===c||e.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${e.pathname}" was given in the \`location\` prop.`),d=e}else d=h;let p=d.pathname||"/",m=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!i&&n&&n.matches&&n.matches.length>0?n.matches:z(e,{pathname:m});R(f||null!=g,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),R(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=je(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:se([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:se([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?E.createElement(ve.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},y):y}function Te(){let e=ze(),t=ce(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=E.createElement(E.Fragment,null,E.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:a},n):null,s)}var Ae=E.createElement(Te,null),De=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?E.createElement(we.Provider,{value:this.props.routeContext},E.createElement(xe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Re(e){let{routeContext:t,match:n,children:r}=e,a=E.useContext(he);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(we.Provider,{value:t},r)}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=n?.errors;if(null!=a){let e=r.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,s=-1;if(n)for(let o=0;o<r.length;o++){let e=r[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=o),e.route.id){let{loaderData:t,errors:a}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||o){i=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight(((e,o,l)=>{let u,c=!1,f=null,d=null;n&&(u=a&&o.route.id?a[o.route.id]:void 0,f=o.route.errorElement||Ae,i&&(s<0&&0===l?(Be("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,d=null):s===l&&(c=!0,d=o.route.hydrateFallbackElement||null)));let h=t.concat(r.slice(0,l+1)),p=()=>{let t;return t=u?f:c?d:o.route.Component?E.createElement(o.route.Component,null):o.route.element?o.route.element:e,E.createElement(Re,{match:o,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===l)?E.createElement(De,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()}),null)}function Oe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _e(e){let t=E.useContext(he);return D(t,Oe(e)),t}function $e(e){let t=E.useContext(pe);return D(t,Oe(e)),t}function Fe(e){let t=function(e){let t=E.useContext(we);return D(t,Oe(e)),t}(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function ze(){let e=E.useContext(xe),t=$e("useRouteError"),n=Fe("useRouteError");return void 0!==e?e:t.errors?.[n]}var Pe={};function Be(e,t,n){t||Pe[e]||(Pe[e]=!0,R(!1,n))}E.memo((function(e){let{routes:t,future:n,state:r}=e;return Le(t,void 0,r,n)}));function Ue(e){return function(e){let t=E.useContext(we).outlet;return t?E.createElement(Me.Provider,{value:e},t):t}(e.context)}function We(e){D(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ve(e){let{basename:t="/",children:n=null,location:r,navigationType:a="POP",navigator:i,static:s=!1}=e;D(!ke(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=E.useMemo((()=>({basename:o,navigator:i,static:s,future:{}})),[o,i,s]);"string"===typeof r&&(r=$(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,p=E.useMemo((()=>{let e=te(u,o);return null==e?null:{location:{pathname:e,search:c,hash:f,state:d,key:h},navigationType:a}}),[o,u,c,f,d,h,a]);return R(null!=p,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:E.createElement(be.Provider,{value:l},E.createElement(ve.Provider,{children:n,value:p}))}function Ge(e){let{children:t,location:n}=e;return Le(He(t),n)}E.Component;function He(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return E.Children.forEach(e,((e,r)=>{if(!E.isValidElement(e))return;let a=[...t,r];if(e.type===E.Fragment)return void n.push.apply(n,He(e.props.children,a));D(e.type===We,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),D(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=He(e.props.children,a)),n.push(i)})),n}var Ye="get",Qe="application/x-www-form-urlencoded";function Je(e){return null!=e&&"string"===typeof e.tagName}var Ze=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ke(e){return null==e||qe.has(e)?e:(R(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qe}"`),null)}function Xe(e,t){let n,r,a,i,s;if(function(e){return Je(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");r=s?te(s,t):null,n=e.getAttribute("method")||Ye,a=Ke(e.getAttribute("enctype"))||Qe,i=new FormData(e)}else if(function(e){return Je(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Je(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?te(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ye,a=Ke(e.getAttribute("formenctype"))||Ke(s.getAttribute("enctype"))||Qe,i=new FormData(s,e),!function(){if(null===Ze)try{new FormData(document.createElement("form"),0),Ze=!1}catch(e){Ze=!0}return Ze}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Je(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ye,r=null,a=Qe,s=e}return i&&"text/plain"===a&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}function et(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function tt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function nt(e){return null!=e&&"string"===typeof e.page}function rt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function at(e,t,n,r,a,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>s(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function it(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a})).flat(1),[...new Set(r)];var r}function st(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,a)=>{if(t&&!nt(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(i)||(n.add(i),e.push({key:i,link:a})),e}),[])}function ot(e){return{__html:e}}Symbol("SingleFetchRedirect");var lt=new Set([100,101,204,205]);function ut(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===te(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}E.Component;function ct(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,a=E.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(ce(t))return E.createElement(ft,{title:"Unhandled Thrown Response!"},E.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return E.createElement(ft,{title:"Application Error!",isOutsideRemixApp:n},E.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),E.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function ft(e){let{title:t,renderScripts:n,isOutsideRemixApp:r,children:a}=e,{routeModules:i}=gt();return i.root?.Layout&&!r?a:E.createElement("html",{lang:"en"},E.createElement("head",null,E.createElement("meta",{charSet:"utf-8"}),E.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),E.createElement("title",null,t)),E.createElement("body",null,E.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,n?E.createElement(Ct,null):null)))}function dt(e){return!0===e}function ht(){let e=E.useContext(he);return et(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pt(){let e=E.useContext(pe);return et(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mt=E.createContext(void 0);function gt(){let e=E.useContext(mt);return et(e,"You must render this element inside a <HydratedRouter> element"),e}function yt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function bt(e,t,n){if(n&&!kt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function vt(e){let{page:t,...n}=e,{router:r}=ht(),a=E.useMemo((()=>z(r.routes,t,r.basename)),[r.routes,t,r.basename]);return a?E.createElement(xt,{page:t,matches:a,...n}):null}function wt(e){let{manifest:t,routeModules:n}=gt(),[r,a]=E.useState([]);return E.useEffect((()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await tt(r,n);return e.links?e.links():[]}return[]})));return st(r.flat(1).filter(rt).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||a(e)})),()=>{r=!0}}),[e,t,n]),r}function xt(e){let{page:t,matches:n,...r}=e,a=Ce(),{manifest:i,routeModules:s}=gt(),{basename:o}=ht(),{loaderData:l,matches:u}=pt(),c=E.useMemo((()=>at(t,n,u,i,a,"data")),[t,n,u,i,a]),f=E.useMemo((()=>at(t,n,u,i,a,"assets")),[t,n,u,i,a]),d=E.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=i.routes[t.route.id];n&&n.hasLoader&&(!c.some((e=>e.route.id===t.route.id))&&t.route.id in l&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let u=ut(t,o);return r&&e.size>0&&u.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[u.pathname+u.search]}),[o,l,a,i,c,n,t,s]),h=E.useMemo((()=>it(f,i)),[f,i]),p=wt(f);return E.createElement(E.Fragment,null,d.map((e=>E.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),h.map((e=>E.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),p.map((e=>{let{key:t,link:n}=e;return E.createElement("link",{key:t,...n})})))}mt.displayName="FrameworkContext";var kt=!1;function Ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:a,renderMeta:i}=gt(),{router:s,static:o,staticContext:l}=ht(),{matches:u}=pt(),c=dt(a);i&&(i.didRenderScripts=!0);let f=bt(u,null,r);E.useEffect((()=>{0}),[]);let d=E.useMemo((()=>{let r=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",a=o?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(t.url)}`};\n${f.map(((e,n)=>{let r=`route${n}`,a=t.routes[e.route.id];et(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:u}=a,c=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...s?[{module:s,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:u,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(u)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${c?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,a=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(i.pop();i.length>0;)s.push(`/${i.join("/")}`),i.pop();s.forEach((e=>{let n=z(t.routes,e,t.basename);n&&n.forEach((e=>a.add(e.route.id)))}));let o=[...a].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(t,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return E.createElement(E.Fragment,null,E.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:ot(r),type:void 0}),E.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:ot(a),type:"module",async:!0}))}),[]),h=kt?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(it(f,t,{includeHydrateFallback:!0}))),p="object"===typeof t.sri?t.sri:{};return kt?null:E.createElement(E.Fragment,null,"object"===typeof t.sri?E.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:p})}}):null,c?null:E.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:p[t.url],suppressHydrationWarning:!0}),E.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:p[t.entry.module],suppressHydrationWarning:!0}),h.map((t=>E.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:p[t],suppressHydrationWarning:!0}))),d)}function Nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var It="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{It&&(window.__reactRouterVersion="7.5.3")}catch(Lae){}function St(e){let{basename:t,children:n,window:r}=e,a=E.useRef();null==a.current&&(a.current=A({window:r,v5Compat:!0}));let i=a.current,[s,o]=E.useState({action:i.action,location:i.location}),l=E.useCallback((e=>{E.startTransition((()=>o(e)))}),[o]);return E.useLayoutEffect((()=>i.listen(l)),[i,l]),E.createElement(Ve,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i})}var Mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=E.forwardRef((function(e,t){let n,{onClick:r,discover:a="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:c,to:f,preventScrollReset:d,viewTransition:h,...p}=e,{basename:m}=E.useContext(be),g="string"===typeof f&&Mt.test(f),y=!1;if("string"===typeof f&&g&&(n=f,It))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=te(t.pathname,m);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:y=!0}catch(Lae){R(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(ke(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(be),{hash:a,pathname:i,search:s}=Ee(e,{relative:t}),o=i;return"/"!==n&&(o="/"===i?n:se([n,i])),r.createHref({pathname:o,search:s,hash:a})}(f,{relative:s}),[v,w,x]=function(e,t){let n=E.useContext(mt),[r,a]=E.useState(!1),[i,s]=E.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=E.useRef(null);E.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return d.current&&e.observe(d.current),()=>{e.disconnect()}}}),[e]),E.useEffect((()=>{if(r){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let h=()=>{a(!0)},p=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,d,{}]:[i,d,{onFocus:yt(o,h),onBlur:yt(l,p),onMouseEnter:yt(u,h),onMouseLeave:yt(c,p),onTouchStart:yt(f,h)}]:[!1,d,{}]}(i,p),k=function(e){let{target:t,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Se(),l=Ce(),u=Ee(e,{relative:i});return E.useCallback((c=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(c,t)){c.preventDefault();let t=void 0!==n?n:_(l)===_(u);o(e,{replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:s})}}),[l,o,u,n,r,t,e,a,i,s])}(f,{replace:l,state:u,target:c,preventScrollReset:d,relative:s,viewTransition:h});let C=E.createElement("a",{...p,...x,href:n||b,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:Nt(t,w),target:c,"data-discover":g||"render"!==a?void 0:"true"});return v&&!g?E.createElement(E.Fragment,null,C,E.createElement(vt,{page:b})):C}));Et.displayName="Link";var Lt=E.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...c}=e,f=Ee(o,{relative:c.relative}),d=Ce(),h=E.useContext(pe),{navigator:p,basename:m}=E.useContext(be),g=null!=h&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=E.useContext(me);D(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dt("useViewTransitionState"),a=Ee(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=te(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=te(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=K(a.pathname,s)||null!=K(a.pathname,i)}(f)&&!0===l,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,b=d.pathname,v=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(b=b.toLowerCase(),v=v?v.toLowerCase():null,y=y.toLowerCase()),v&&m&&(v=te(v,m)||v);const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let x,k=b===y||!i&&b.startsWith(y)&&"/"===b.charAt(w),C=null!=v&&(v===y||!i&&v.startsWith(y)&&"/"===v.charAt(y.length)),N={isActive:k,isPending:C,isTransitioning:g},I=k?n:void 0;x="function"===typeof a?a(N):[a,k?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let S="function"===typeof s?s(N):s;return E.createElement(Et,{...c,"aria-current":I,className:x,ref:t,style:S,to:o,viewTransition:l},"function"===typeof u?u(N):u)}));Lt.displayName="NavLink";var Tt=E.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:a,reloadDocument:i,replace:s,state:o,method:l=Ye,action:u,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:h,...p}=e,m=Ot(),g=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=E.useContext(be),r=E.useContext(we);D(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Ee(e||".",{relative:t})},s=Ce();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();i.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:se([n,i.pathname]));return _(i)}(u,{relative:f}),y="get"===l.toLowerCase()?"get":"post",b="string"===typeof u&&Mt.test(u);return E.createElement("form",{ref:t,method:y,action:g,onSubmit:i?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||l;m(t||e.currentTarget,{fetcherKey:r,method:n,navigate:a,replace:s,state:o,relative:f,preventScrollReset:d,viewTransition:h})},...p,"data-discover":b||"render"!==n?void 0:"true"})}));function At(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dt(e){let t=E.useContext(he);return D(t,At(e)),t}Tt.displayName="Form";var Rt=0,jt=()=>`__${String(++Rt)}__`;function Ot(){let{router:e}=Dt("useSubmit"),{basename:t}=E.useContext(be),n=Fe("useRouteId");return E.useCallback((async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:o,formData:l,body:u}=Xe(r,t);if(!1===a.navigate){let t=a.fetcherKey||jt();await e.fetch(t,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,n])}new TextEncoder;var _t=n(4391);function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Pt=()=>{};let Bt={},Ut={},Wt=null,Vt={mark:Pt,measure:Pt};try{"undefined"!==typeof window&&(Bt=window),"undefined"!==typeof document&&(Ut=document),"undefined"!==typeof MutationObserver&&(Wt=MutationObserver),"undefined"!==typeof performance&&(Vt=performance)}catch(Lae){}const{userAgent:Gt=""}=Bt.navigator||{},Ht=Bt,Yt=Ut,Qt=Wt,Jt=Vt,Zt=(Ht.document,!!Yt.documentElement&&!!Yt.head&&"function"===typeof Yt.addEventListener&&"function"===typeof Yt.createElement),qt=~Gt.indexOf("MSIE")||~Gt.indexOf("Trident/");var Kt={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Xt=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],en="classic",tn="duotone",nn=[en,tn,"sharp","sharp-duotone"],rn=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),an=["fak","fa-kit","fakd","fa-kit-duotone"],sn={fak:"kit","fa-kit":"kit"},on={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},ln=["fak","fakd"],un={kit:"fak"},cn={"kit-duotone":"fakd"},fn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dn=["fak","fa-kit","fakd","fa-kit-duotone"],hn={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},pn=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],mn=[1,2,3,4,5,6,7,8,9,10],gn=mn.concat([11,12,13,14,15,16,17,18,19,20]),yn=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",fn.GROUP,fn.SWAP_OPACITY,fn.PRIMARY,fn.SECONDARY].concat(mn.map((e=>"".concat(e,"x")))).concat(gn.map((e=>"w-".concat(e))));const bn="___FONT_AWESOME___",vn=16,wn="svg-inline--fa",xn="data-fa-i2svg",kn="data-fa-pseudo-element",Cn="data-prefix",Nn="data-icon",In="fontawesome-i2svg",Sn=["HTML","HEAD","STYLE","SCRIPT"],Mn=(()=>{try{return!0}catch(e){return!1}})();function En(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[en]})}const Ln=zt({},Kt);Ln[en]=zt(zt(zt(zt({},{"fa-duotone":"duotone"}),Kt[en]),sn),on);const Tn=En(Ln),An=zt({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});An[en]=zt(zt(zt(zt({},{duotone:"fad"}),An[en]),un),cn);const Dn=En(An),Rn=zt({},hn);Rn[en]=zt(zt({},Rn[en]),{fak:"fa-kit"});const jn=En(Rn),On=zt({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});On[en]=zt(zt({},On[en]),{"fa-kit":"fak"});En(On);const _n=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,$n="fa-layers-text",Fn=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,zn=(En(zt({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Pn={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Bn=["kit",...yn],Un=Ht.FontAwesomeConfig||{};if(Yt&&"function"===typeof Yt.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const r=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Yt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==r&&null!==r&&(Un[n]=r)}))}const Wn={styleDefault:"solid",familyDefault:en,cssPrefix:"fa",replacementClass:wn,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Un.familyPrefix&&(Un.cssPrefix=Un.familyPrefix);const Vn=zt(zt({},Wn),Un);Vn.autoReplaceSvg||(Vn.observeMutations=!1);const Gn={};Object.keys(Wn).forEach((e=>{Object.defineProperty(Gn,e,{enumerable:!0,set:function(t){Vn[e]=t,Hn.forEach((e=>e(Gn)))},get:function(){return Vn[e]}})})),Object.defineProperty(Gn,"familyPrefix",{enumerable:!0,set:function(e){Vn.cssPrefix=e,Hn.forEach((e=>e(Gn)))},get:function(){return Vn.cssPrefix}}),Ht.FontAwesomeConfig=Gn;const Hn=[];const Yn=vn,Qn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Jn(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Zn(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function qn(e){return e.classList?Zn(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function Kn(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xn(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function er(e){return e.size!==Qn.size||e.x!==Qn.x||e.y!==Qn.y||e.rotate!==Qn.rotate||e.flipX||e.flipY}function tr(){const e="fa",t=wn,n=Gn.cssPrefix,r=Gn.replacementClass;let a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");a=a.replace(i,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(o,".".concat(r))}return a}let nr=!1;function rr(){Gn.autoAddCss&&!nr&&(!function(e){if(!e||!Zt)return;const t=Yt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=Yt.head.childNodes;let r=null;for(let a=n.length-1;a>-1;a--){const e=n[a],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(r=e)}Yt.head.insertBefore(t,r)}(tr()),nr=!0)}var ar={mixout:()=>({dom:{css:tr,insertCss:rr}}),hooks:()=>({beforeDOMElementCreation(){rr()},beforeI2svg(){rr()}})};const ir=Ht||{};ir[bn]||(ir[bn]={}),ir[bn].styles||(ir[bn].styles={}),ir[bn].hooks||(ir[bn].hooks={}),ir[bn].shims||(ir[bn].shims=[]);var sr=ir[bn];const or=[],lr=function(){Yt.removeEventListener("DOMContentLoaded",lr),ur=1,or.map((e=>e()))};let ur=!1;function cr(e){const{tag:t,attributes:n={},children:r=[]}=e;return"string"===typeof e?Kn(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(Kn(e[n]),'" ')),"").trim()}(n),">").concat(r.map(cr).join(""),"</").concat(t,">")}function fr(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Zt&&(ur=(Yt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Yt.readyState),ur||Yt.addEventListener("DOMContentLoaded",lr));var dr=function(e,t,n,r){var a,i,s,o=Object.keys(e),l=o.length,u=void 0!==r?function(e,t){return function(n,r,a,i){return e.call(t,n,r,a,i)}}(t,r):t;for(void 0===n?(a=1,s=e[o[0]]):(a=0,s=n);a<l;a++)s=u(s,e[i=o[a]],i,e);return s};function hr(e){const t=function(e){const t=[];let n=0;const r=e.length;for(;n<r;){const a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),n--)}else t.push(a)}return t}(e);return 1===t.length?t[0].toString(16):null}function pr(e){return Object.keys(e).reduce(((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=n,a=pr(t);"function"!==typeof sr.hooks.addPack||r?sr.styles[e]=zt(zt({},sr.styles[e]||{}),a):sr.hooks.addPack(e,pr(t)),"fas"===e&&mr("fa",t)}const{styles:gr,shims:yr}=sr,br=Object.keys(jn),vr=br.reduce(((e,t)=>(e[t]=Object.keys(jn[t]),e)),{});let wr=null,xr={},kr={},Cr={},Nr={},Ir={};function Sr(e,t){const n=t.split("-"),r=n[0],a=n.slice(1).join("-");return r!==e||""===a||(i=a,~Bn.indexOf(i))?null:a;var i}const Mr=()=>{const e=e=>dr(gr,((t,n,r)=>(t[r]=dr(n,e,{}),t)),{});xr=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),kr=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Ir=e(((e,t,n)=>{const r=t[2];return e[n]=n,r.forEach((t=>{e[t]=n})),e}));const t="far"in gr||Gn.autoFetchSvg,n=dr(yr,((e,n)=>{const r=n[0];let a=n[1];const i=n[2];return"far"!==a||t||(a="fas"),"string"===typeof r&&(e.names[r]={prefix:a,iconName:i}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:a,iconName:i}),e}),{names:{},unicodes:{}});Cr=n.names,Nr=n.unicodes,wr=Rr(Gn.styleDefault,{family:Gn.familyDefault})};var Er;function Lr(e,t){return(xr[e]||{})[t]}function Tr(e,t){return(Ir[e]||{})[t]}function Ar(e){return Cr[e]||{prefix:null,iconName:null}}function Dr(){return wr}Er=e=>{wr=Rr(e.styleDefault,{family:Gn.familyDefault})},Hn.push(Er),Mr();function Rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=en}=t,r=Tn[n][e];if(n===tn&&!e)return"fad";const a=Dn[n][e]||Dn[n][r],i=e in sr.styles?e:null;return a||i||null}function jr(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function Or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const a=pn.concat(dn),i=jr(e.filter((e=>a.includes(e)))),s=jr(e.filter((e=>!pn.includes(e)))),o=i.filter((e=>(r=e,!Xt.includes(e)))),[l=null]=o,u=function(e){let t=en;const n=br.reduce(((e,t)=>(e[t]="".concat(Gn.cssPrefix,"-").concat(t),e)),{});return nn.forEach((r=>{(e.includes(n[r])||e.some((e=>vr[r].includes(e))))&&(t=r)})),t}(i),c=zt(zt({},function(e){let t=[],n=null;return e.forEach((e=>{const r=Sr(Gn.cssPrefix,e);r?n=r:e&&t.push(e)})),{iconName:n,rest:t}}(s)),{},{prefix:Rr(l,{family:u})});return zt(zt(zt({},c),function(e){const{values:t,family:n,canonical:r,givenPrefix:a="",styles:i={},config:s={}}=e,o=n===tn,l=t.includes("fa-duotone")||t.includes("fad"),u="duotone"===s.familyDefault,c="fad"===r.prefix||"fa-duotone"===r.prefix;!o&&(l||u||c)&&(r.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab");if(!r.prefix&&_r.includes(n)){if(Object.keys(i).find((e=>$r.includes(e)))||s.autoFetchSvg){const e=rn.get(n).defaultShortPrefixId;r.prefix=e,r.iconName=Tr(r.prefix,r.iconName)||r.iconName}}"fa"!==r.prefix&&"fa"!==a||(r.prefix=Dr()||"fas");return r}({values:e,family:u,styles:gr,config:Gn,canonical:c,givenPrefix:r})),function(e,t,n){let{prefix:r,iconName:a}=n;if(e||!r||!a)return{prefix:r,iconName:a};const i="fa"===t?Ar(a):{},s=Tr(r,a);a=i.iconName||s||a,r=i.prefix||r,"far"!==r||gr.far||!gr.fas||Gn.autoFetchSvg||(r="fas");return{prefix:r,iconName:a}}(n,r,c))}const _r=nn.filter((e=>e!==en||e!==tn)),$r=Object.keys(hn).filter((e=>e!==en)).map((e=>Object.keys(hn[e]))).flat();let Fr=[],zr={};const Pr={},Br=Object.keys(Pr);function Ur(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(zr[e]||[]).forEach((e=>{t=e.apply(null,[t,...r])})),t}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(zr[e]||[]).forEach((e=>{e.apply(null,n)}))}function Vr(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Pr[e]?Pr[e].apply(null,t):void 0}function Gr(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Dr();if(t)return t=Tr(n,t)||t,fr(Hr.definitions,n,t)||fr(sr.styles,n,t)}const Hr=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(this._pullDefinitions,{});Object.keys(r).forEach((e=>{this.definitions[e]=zt(zt({},this.definitions[e]||{}),r[e]),mr(e,r[e]);const t=jn[en][e];t&&mr(t,r[e]),Mr()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:r,iconName:a,icon:i}=n[t],s=i[2];e[r]||(e[r]={}),s.length>0&&s.forEach((t=>{"string"===typeof t&&(e[r][t]=i)})),e[r][a]=i})),e}},Yr={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zt?(Wr("beforeI2svg",e),Vr("pseudoElements2svg",e),Vr("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===Gn.autoReplaceSvg&&(Gn.autoReplaceSvg=!0),Gn.observeMutations=!0,n=()=>{Zr({autoReplaceSvgRoot:t}),Wr("watch",e)},Zt&&(ur?setTimeout(n,0):or.push(n))}},Qr={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Tr(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Rr(e[0]);return{prefix:n,iconName:Tr(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Gn.cssPrefix,"-"))>-1||e.match(_n))){const t=Or(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Dr(),iconName:Tr(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=Dr();return{prefix:t,iconName:Tr(t,e)||e}}}},Jr={noAuto:()=>{Gn.autoReplaceSvg=!1,Gn.observeMutations=!1,Wr("noAuto")},config:Gn,dom:Yr,parse:Qr,library:Hr,findIconDefinition:Gr,toHtml:cr},Zr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=Yt}=e;(Object.keys(sr.styles).length>0||Gn.autoFetchSvg)&&Zt&&Gn.autoReplaceSvg&&Jr.dom.i2svg({node:t})};function qr(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>cr(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!Zt)return;const t=Yt.createElement("div");return t.innerHTML=e.html,t.children}}),e}function Kr(e){const{icons:{main:t,mask:n},prefix:r,iconName:a,transform:i,symbol:s,title:o,maskId:l,titleId:u,extra:c,watchable:f=!1}=e,{width:d,height:h}=n.found?n:t,p=ln.includes(r),m=[Gn.replacementClass,a?"".concat(Gn.cssPrefix,"-").concat(a):""].filter((e=>-1===c.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(c.classes).join(" ");let g={children:[],attributes:zt(zt({},c.attributes),{},{"data-prefix":r,"data-icon":a,class:m,role:c.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(h)})};const y=p&&!~c.classes.indexOf("fa-fw")?{width:"".concat(d/h*16*.0625,"em")}:{};f&&(g.attributes[xn]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(u||Jn())},children:[o]}),delete g.attributes.title);const b=zt(zt({},g),{},{prefix:r,iconName:a,main:t,mask:n,maskId:l,transform:i,symbol:s,styles:zt(zt({},y),c.styles)}),{children:v,attributes:w}=n.found&&t.found?Vr("generateAbstractMask",b)||{children:[],attributes:{}}:Vr("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=v,b.attributes=w,s?function(e){let{prefix:t,iconName:n,children:r,attributes:a,symbol:i}=e;const s=!0===i?"".concat(t,"-").concat(Gn.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:zt(zt({},a),{},{id:s}),children:r}]}]}(b):function(e){let{children:t,main:n,mask:r,attributes:a,styles:i,transform:s}=e;if(er(s)&&n.found&&!r.found){const{width:e,height:t}=n,r={x:e/t/2,y:.5};a.style=Xn(zt(zt({},i),{},{"transform-origin":"".concat(r.x+s.x/16,"em ").concat(r.y+s.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(b)}function Xr(e){const{content:t,width:n,height:r,transform:a,title:i,extra:s,watchable:o=!1}=e,l=zt(zt(zt({},s.attributes),i?{title:i}:{}),{},{class:s.classes.join(" ")});o&&(l[xn]="");const u=zt({},s.styles);er(a)&&(u.transform=function(e){let{transform:t,width:n=vn,height:r=vn,startCentered:a=!1}=e,i="";return i+=a&&qt?"translate(".concat(t.x/Yn-n/2,"em, ").concat(t.y/Yn-r/2,"em) "):a?"translate(calc(-50% + ".concat(t.x/Yn,"em), calc(-50% + ").concat(t.y/Yn,"em)) "):"translate(".concat(t.x/Yn,"em, ").concat(t.y/Yn,"em) "),i+="scale(".concat(t.size/Yn*(t.flipX?-1:1),", ").concat(t.size/Yn*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}({transform:a,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const c=Xn(u);c.length>0&&(l.style=c);const f=[];return f.push({tag:"span",attributes:l,children:[t]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}const{styles:ea}=sr;function ta(e){const t=e[0],n=e[1],[r]=e.slice(4);let a=null;return a=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Gn.cssPrefix,"-").concat(Pn.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Gn.cssPrefix,"-").concat(Pn.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Gn.cssPrefix,"-").concat(Pn.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:a}}const na={found:!1,width:512,height:512};function ra(e,t){let n=t;return"fa"===t&&null!==Gn.styleDefault&&(t=Dr()),new Promise(((r,a)=>{if("fa"===n){const n=Ar(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&ea[t]&&ea[t][e]){return r(ta(ea[t][e]))}!function(e,t){Mn||Gn.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(zt(zt({},na),{},{icon:Gn.showMissingIcons&&e&&Vr("missingIconAbstract")||{}}))}))}const aa=()=>{},ia=Gn.measurePerformance&&Jt&&Jt.mark&&Jt.measure?Jt:{mark:aa,measure:aa},sa='FA "6.7.2"',oa=e=>{ia.mark("".concat(sa," ").concat(e," ends")),ia.measure("".concat(sa," ").concat(e),"".concat(sa," ").concat(e," begins"),"".concat(sa," ").concat(e," ends"))};var la=e=>(ia.mark("".concat(sa," ").concat(e," begins")),()=>oa(e));const ua=()=>{};function ca(e){return"string"===typeof(e.getAttribute?e.getAttribute(xn):null)}function fa(e){return Yt.createElementNS("http://www.w3.org/2000/svg",e)}function da(e){return Yt.createElement(e)}function ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?fa:da)}=t;if("string"===typeof e)return Yt.createTextNode(e);const r=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){r.appendChild(ha(e,{ceFn:n}))})),r}const pa={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(ha(e),t)})),null===t.getAttribute(xn)&&Gn.keepOriginalSource){let e=Yt.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~qn(t).indexOf(Gn.replacementClass))return pa.replace(e);const r=new RegExp("".concat(Gn.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===Gn.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const a=n.map((e=>cr(e))).join("\n");t.setAttribute(xn,""),t.innerHTML=a}};function ma(e){e()}function ga(e,t){const n="function"===typeof t?t:ua;if(0===e.length)n();else{let t=ma;"async"===Gn.mutateApproach&&(t=Ht.requestAnimationFrame||ma),t((()=>{const t=!0===Gn.autoReplaceSvg?pa.replace:pa[Gn.autoReplaceSvg]||pa.replace,r=la("mutate");e.map(t),r(),n()}))}}let ya=!1;function ba(){ya=!0}function va(){ya=!1}let wa=null;function xa(e){if(!Qt)return;if(!Gn.observeMutations)return;const{treeCallback:t=ua,nodeCallback:n=ua,pseudoElementsCallback:r=ua,observeMutationsRoot:a=Yt}=e;wa=new Qt((e=>{if(ya)return;const a=Dr();Zn(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!ca(e.addedNodes[0])&&(Gn.searchPseudoElements&&r(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&Gn.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&ca(e.target)&&~zn.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(Cn):null,n=e.getAttribute?e.getAttribute(Nn):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=Or(qn(e.target));e.target.setAttribute(Cn,t||a),n&&e.target.setAttribute(Nn,n)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Gn.replacementClass)})(e.target)&&n(e.target)}))})),Zt&&wa.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function ka(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"";let a=Or(qn(e));return a.prefix||(a.prefix=Dr()),t&&n&&(a.prefix=t,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=(i=a.prefix,s=e.innerText,(kr[i]||{})[s]||Lr(a.prefix,hr(e.innerText)))),!a.iconName&&Gn.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a;var i,s}function Ca(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:a}=ka(e),i=function(e){const t=Zn(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Gn.autoA11y&&(n?t["aria-labelledby"]="".concat(Gn.replacementClass,"-title-").concat(r||Jn()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Ur("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),r=n[0],a=n.slice(1);return r&&a.length>0&&(e[r]=a.join(":").trim()),e}),{})),n}(e):[];return zt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Qn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:o,attributes:i}},s)}const{styles:Na}=sr;function Ia(e){const t="nest"===Gn.autoReplaceSvg?Ca(e,{styleParser:!1}):Ca(e);return~t.extra.classes.indexOf($n)?Vr("generateLayersText",e,t):Vr("generateSvgReplacementMutation",e,t)}function Sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Zt)return Promise.resolve();const n=Yt.documentElement.classList,r=e=>n.add("".concat(In,"-").concat(e)),a=e=>n.remove("".concat(In,"-").concat(e)),i=Gn.autoFetchSvg?[...an,...pn]:Xt.concat(Object.keys(Na));i.includes("fa")||i.push("fa");const s=[".".concat($n,":not([").concat(xn,"])")].concat(i.map((e=>".".concat(e,":not([").concat(xn,"])")))).join(", ");if(0===s.length)return Promise.resolve();let o=[];try{o=Zn(e.querySelectorAll(s))}catch(c){}if(!(o.length>0))return Promise.resolve();r("pending"),a("complete");const l=la("onTree"),u=o.reduce(((e,t)=>{try{const n=Ia(t);n&&e.push(n)}catch(c){Mn||"MissingIcon"===c.name&&console.error(c)}return e}),[]);return new Promise(((e,n)=>{Promise.all(u).then((n=>{ga(n,(()=>{r("active"),r("complete"),a("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((e=>{l(),n(e)}))}))}function Ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ia(e).then((e=>{e&&ga([e],t)}))}function Ea(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(t||{}).icon?t:Gr(t||{});let{mask:a}=n;return a&&(a=(a||{}).icon?a:Gr(a||{})),e(r,zt(zt({},n),{},{mask:a}))}}const La=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Qn,symbol:r=!1,mask:a=null,maskId:i=null,title:s=null,titleId:o=null,classes:l=[],attributes:u={},styles:c={}}=t;if(!e)return;const{prefix:f,iconName:d,icon:h}=e;return qr(zt({type:"icon"},e),(()=>(Wr("beforeDOMElementCreation",{iconDefinition:e,params:t}),Gn.autoA11y&&(s?u["aria-labelledby"]="".concat(Gn.replacementClass,"-title-").concat(o||Jn()):(u["aria-hidden"]="true",u.focusable="false")),Kr({icons:{main:ta(h),mask:a?ta(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:d,transform:zt(zt({},Qn),n),symbol:r,title:s,maskId:i,titleId:o,extra:{attributes:u,styles:c,classes:l}}))))};var Ta={mixout:()=>({icon:Ea(La)}),hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Sa,e.nodeCallback=Ma,e)}),provides(e){e.i2svg=function(e){const{node:t=Yt,callback:n=()=>{}}=e;return Sa(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:r,titleId:a,prefix:i,transform:s,symbol:o,mask:l,maskId:u,extra:c}=t;return new Promise(((t,f)=>{Promise.all([ra(n,i),l.iconName?ra(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((l=>{let[f,d]=l;t([e,Kr({icons:{main:f,mask:d},prefix:i,iconName:n,transform:s,symbol:o,maskId:u,title:r,titleId:a,extra:c,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:r,transform:a,styles:i}=e;const s=Xn(i);let o;return s.length>0&&(n.style=s),er(a)&&(o=Vr("generateAbstractTransformGrouping",{main:r,transform:a,containerWidth:r.width,iconWidth:r.width})),t.push(o||r.icon),{children:t,attributes:n}}}},Aa={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return qr({type:"layer"},(()=>{Wr("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e((e=>{Array.isArray(e)?e.map((e=>{r=r.concat(e.abstract)})):r=r.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Gn.cssPrefix,"-layers"),...n].join(" ")},children:r}]}))}})},Da={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:r=[],attributes:a={},styles:i={}}=t;return qr({type:"counter",content:e},(()=>(Wr("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:r}=e,a=zt(zt(zt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=Xn(r.styles);i.length>0&&(a.style=i);const s=[];return s.push({tag:"span",attributes:a,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:n,extra:{attributes:a,styles:i,classes:["".concat(Gn.cssPrefix,"-layers-counter"),...r]}}))))}})},Ra={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=Qn,title:r=null,classes:a=[],attributes:i={},styles:s={}}=t;return qr({type:"text",content:e},(()=>(Wr("beforeDOMElementCreation",{content:e,params:t}),Xr({content:e,transform:zt(zt({},Qn),n),title:r,extra:{attributes:i,styles:s,classes:["".concat(Gn.cssPrefix,"-layers-text"),...a]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:r,extra:a}=t;let i=null,s=null;if(qt){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();i=n.width/t,s=n.height/t}return Gn.autoA11y&&!n&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,Xr({content:e.innerHTML,width:i,height:s,transform:r,title:n,extra:a,watchable:!0})])}}};const ja=new RegExp('"',"ug"),Oa=[1105920,1112319],_a=zt(zt(zt(zt({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),$a=Object.keys(_a).reduce(((e,t)=>(e[t.toLowerCase()]=_a[t],e)),{}),Fa=Object.keys($a).reduce(((e,t)=>{const n=$a[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function za(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((r,a)=>{if(null!==e.getAttribute(n))return r();const i=Zn(e.children).filter((e=>e.getAttribute(kn)===t))[0],s=Ht.getComputedStyle(e,t),o=s.getPropertyValue("font-family"),l=o.match(Fn),u=s.getPropertyValue("font-weight"),c=s.getPropertyValue("content");if(i&&!l)return e.removeChild(i),r();if(l&&"none"!==c&&""!==c){const c=s.getPropertyValue("content");let f=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),a=isNaN(r)?"normal":r;return($a[n]||{})[a]||Fa[n]}(o,u);const{value:d,isSecondary:h}=function(e){const t=e.replace(ja,""),n=function(e,t){const n=e.length;let r,a=e.charCodeAt(t);return a>=55296&&a<=56319&&n>t+1&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?1024*(a-55296)+r-56320+65536:a}(t,0),r=n>=Oa[0]&&n<=Oa[1],a=2===t.length&&t[0]===t[1];return{value:hr(a?t[0]:t),isSecondary:r||a}}(c),p=l[0].startsWith("FontAwesome");let m=Lr(f,d),g=m;if(p){const e=function(e){const t=Nr[e],n=Lr("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);e.iconName&&e.prefix&&(m=e.iconName,f=e.prefix)}if(!m||h||i&&i.getAttribute(Cn)===f&&i.getAttribute(Nn)===g)r();else{e.setAttribute(n,g),i&&e.removeChild(i);const s={iconName:null,title:null,titleId:null,prefix:null,transform:Qn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=s;o.attributes[kn]=t,ra(m,f).then((a=>{const i=Kr(zt(zt({},s),{},{icons:{main:a,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:g,extra:o,watchable:!0})),l=Yt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=i.map((e=>cr(e))).join("\n"),e.removeAttribute(n),r()})).catch(a)}}else r()}))}function Pa(e){return Promise.all([za(e,"::before"),za(e,"::after")])}function Ba(e){return e.parentNode!==document.head&&!~Sn.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(kn)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Ua(e){if(Zt)return new Promise(((t,n)=>{const r=Zn(e.querySelectorAll("*")).filter(Ba).map(Pa),a=la("searchPseudoElements");ba(),Promise.all(r).then((()=>{a(),va(),t()})).catch((()=>{a(),va(),n()}))}))}var Wa={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=Ua,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=Yt}=e;Gn.searchPseudoElements&&Ua(t)}}};let Va=!1;var Ga={mixout:()=>({dom:{unwatch(){ba(),Va=!0}}}),hooks:()=>({bootstrap(){xa(Ur("mutationObserverCallbacks",{}))},noAuto(){wa&&wa.disconnect()},watch(e){const{observeMutationsRoot:t}=e;Va?va():xa(Ur("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const Ha=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),r=n[0];let a=n.slice(1).join("-");if(r&&"h"===a)return e.flipX=!0,e;if(r&&"v"===a)return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(r){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var Ya={mixout:()=>({parse:{transform:e=>Ha(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Ha(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:r,iconWidth:a}=e;const i={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),u={outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:zt({},u.outer),children:[{tag:"g",attributes:zt({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:zt(zt({},t.icon.attributes),u.path)}]}]}}}};const Qa={x:0,y:0,width:"100%",height:"100%"};function Ja(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Za={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Or(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Dr()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:r,mask:a,maskId:i,transform:s}=e;const{width:o,icon:l}=r,{width:u,icon:c}=a,f=function(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const a={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(i," ").concat(s," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:o}),d={tag:"rect",attributes:zt(zt({},Qa),{},{fill:"white"})},h=l.children?{children:l.children.map(Ja)}:{},p={tag:"g",attributes:zt({},f.inner),children:[Ja(zt({tag:l.tag,attributes:zt(zt({},l.attributes),f.path)},h))]},m={tag:"g",attributes:zt({},f.outer),children:[p]},g="mask-".concat(i||Jn()),y="clip-".concat(i||Jn()),b={tag:"mask",attributes:zt(zt({},Qa),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(w=c,"g"===w.tag?w.children:[w])},b]};var w;return t.push(v,{tag:"rect",attributes:zt({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},Qa)}),{children:t,attributes:n}}}},qa={provides(e){let t=!1;Ht.matchMedia&&(t=Ht.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:zt(zt({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=zt(zt({},r),{},{attributeName:"opacity"}),i={tag:"circle",attributes:zt(zt({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:zt(zt({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:zt(zt({},a),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:zt(zt({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:zt(zt({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:zt(zt({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:zt(zt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},Ka={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}})};!function(e,t){let{mixoutsTo:n}=t;Fr=e,zr={},Object.keys(Pr).forEach((e=>{-1===Br.indexOf(e)&&delete Pr[e]})),Fr.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((r=>{n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{zr[e]||(zr[e]=[]),zr[e].push(t[e])}))}e.provides&&e.provides(Pr)}))}([ar,Ta,Aa,Da,Ra,Wa,Ga,Ya,Za,qa,Ka],{mixoutsTo:Jr});const Xa=Jr.parse,ei=Jr.icon;var ti=n(5173),ni=n.n(ti);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oi(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function li(e){return function(e){if(Array.isArray(e))return ui(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ui(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var fi=["style"];var di=!1;try{di=!0}catch(Lae){}function hi(e){return e&&"object"===ii(e)&&e.prefix&&e.iconName&&e.icon?e:Xa.icon?Xa.icon(e):null===e?null:e&&"object"===ii(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function pi(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?si({},e,t):{}}var mi={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},gi=E.forwardRef((function(e,t){var n=ai(ai({},mi),e),r=n.icon,a=n.mask,i=n.symbol,s=n.className,o=n.title,l=n.titleId,u=n.maskId,c=hi(r),f=pi("classes",[].concat(li(function(e){var t,n=e.beat,r=e.fade,a=e.beatFade,i=e.bounce,s=e.shake,o=e.flash,l=e.spin,u=e.spinPulse,c=e.spinReverse,f=e.pulse,d=e.fixedWidth,h=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,b=e.rotation,v=e.pull,w=(si(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":a,"fa-bounce":i,"fa-shake":s,"fa-flash":o,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":d,"fa-inverse":h,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),si(t,"fa-rotate-".concat(b),"undefined"!==typeof b&&null!==b&&0!==b),si(t,"fa-pull-".concat(v),"undefined"!==typeof v&&null!==v),si(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(n)),li((s||"").split(" ")))),d=pi("transform","string"===typeof n.transform?Xa.transform(n.transform):n.transform),h=pi("mask",hi(a)),p=ei(c,ai(ai(ai(ai({},f),d),h),{},{symbol:i,title:o,titleId:l,maskId:u}));if(!p)return function(){var e;!di&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var m=p.abstract,g={ref:t};return Object.keys(n).forEach((function(e){mi.hasOwnProperty(e)||(g[e]=n[e])})),yi(m[0],g)}));gi.displayName="FontAwesomeIcon",gi.propTypes={beat:ni().bool,border:ni().bool,beatFade:ni().bool,bounce:ni().bool,className:ni().string,fade:ni().bool,flash:ni().bool,mask:ni().oneOfType([ni().object,ni().array,ni().string]),maskId:ni().string,fixedWidth:ni().bool,inverse:ni().bool,flip:ni().oneOf([!0,!1,"horizontal","vertical","both"]),icon:ni().oneOfType([ni().object,ni().array,ni().string]),listItem:ni().bool,pull:ni().oneOf(["right","left"]),pulse:ni().bool,rotation:ni().oneOf([0,90,180,270]),shake:ni().bool,size:ni().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ni().bool,spinPulse:ni().bool,spinReverse:ni().bool,symbol:ni().oneOfType([ni().bool,ni().string]),title:ni().string,titleId:ni().string,transform:ni().oneOfType([ni().string,ni().object]),swapOpacity:ni().bool};var yi=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var a=(n.children||[]).map((function(n){return e(t,n)})),i=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),a=ci(t.slice(0,r)),i=t.slice(r+1).trim();return a.startsWith("webkit")?e[(n=a,n.charAt(0).toUpperCase()+n.slice(1))]=i:e[a]=i,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[ci(t)]=r}return e}),{attrs:{}}),s=r.style,o=void 0===s?{}:s,l=oi(r,fi);return i.attrs.style=ai(ai({},i.attrs.style),o),t.apply(void 0,[n.tag,ai(ai({},i.attrs),l)].concat(li(a)))}.bind(null,E.createElement),bi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vi=E.createContext&&E.createContext(bi),wi=function(){return wi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},wi.apply(this,arguments)},xi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ki(e){return e&&e.map((function(e,t){return E.createElement(e.tag,wi({key:t},e.attr),ki(e.child))}))}function Ci(e){return function(t){return E.createElement(Ni,wi({attr:wi({},e.attr)},t),ki(e.child))}}function Ni(e){var t=function(t){var n,r=e.attr,a=e.size,i=e.title,s=xi(e,["attr","size","title"]),o=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),E.createElement("svg",wi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:wi(wi({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&E.createElement("title",null,i),e.children)};return void 0!==vi?E.createElement(vi.Consumer,null,(function(e){return t(e)})):t(bi)}function Ii(e){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Si(e){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function Mi(e){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464.8 80c-26.9-.4-48.8 21.2-48.8 48h-8V96.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v32h-8V80.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v48h-8V96.8c0-26.3-20.9-48.3-47.2-48.8-26.9-.4-48.8 21.2-48.8 48v136l-8-7.1v-48.1c0-26.3-20.9-48.3-47.2-48.8C21.9 127.6 0 149.2 0 176v66.4c0 27.4 11.7 53.5 32.2 71.8l111.7 99.3c10.2 9.1 16.1 22.2 16.1 35.9v6.7c0 13.3 10.7 24 24 24h240c13.3 0 24-10.7 24-24v-2.9c0-12.8 2.6-25.5 7.5-37.3l49-116.3c5-11.8 7.5-24.5 7.5-37.3V128.8c0-26.3-20.9-48.4-47.2-48.8z"}}]})(e)}function Ei(e){return Ci({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function Li(e){return Ci({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}const Ti=Object.create(null);Ti.open="0",Ti.close="1",Ti.ping="2",Ti.pong="3",Ti.message="4",Ti.upgrade="5",Ti.noop="6";const Ai=Object.create(null);Object.keys(Ti).forEach((e=>{Ai[Ti[e]]=e}));const Di={type:"error",data:"parser error"},Ri="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ji="function"===typeof ArrayBuffer,Oi=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_i=(e,t,n)=>{let{type:r,data:a}=e;return Ri&&a instanceof Blob?t?n(a):$i(a,n):ji&&(a instanceof ArrayBuffer||Oi(a))?t?n(a):$i(new Blob([a]),n):n(Ti[r]+(a||""))},$i=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Fi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let zi;const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bi="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Bi[Pi.charCodeAt(n)]=n;const Ui="function"===typeof ArrayBuffer,Wi=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Gi(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Vi(e.substring(1),t)};return Ai[n]?e.length>1?{type:Ai[n],data:e.substring(1)}:{type:Ai[n]}:Di},Vi=(e,t)=>{if(Ui){const n=(e=>{let t,n,r,a,i,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const u=new ArrayBuffer(s),c=new Uint8Array(u);for(t=0;t<o;t+=4)n=Bi[e.charCodeAt(t)],r=Bi[e.charCodeAt(t+1)],a=Bi[e.charCodeAt(t+2)],i=Bi[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|a>>2,c[l++]=(3&a)<<6|63&i;return u})(e);return Gi(n,t)}return{base64:!0,data:e}},Gi=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Hi=String.fromCharCode(30);function Yi(){return new TransformStream({transform(e,t){!function(e,t){Ri&&e.data instanceof Blob?e.data.arrayBuffer().then(Fi).then(t):ji&&(e.data instanceof ArrayBuffer||Oi(e.data))?t(Fi(e.data)):_i(e,!1,(e=>{zi||(zi=new TextEncoder),t(zi.encode(e))}))}(e,(n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const e=new DataView(a.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{a=new Uint8Array(9);const e=new DataView(a.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(a[0]|=128),t.enqueue(a),t.enqueue(n)}))}})}let Qi;function Ji(e){return e.reduce(((e,t)=>e+t.length),0)}function Zi(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)n[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function qi(e){if(e)return function(e){for(var t in qi.prototype)e[t]=qi.prototype[t];return e}(e)}qi.prototype.on=qi.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},qi.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},qi.prototype.off=qi.prototype.removeListener=qi.prototype.removeAllListeners=qi.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},qi.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},qi.prototype.emitReserved=qi.prototype.emit,qi.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},qi.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ki="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Xi="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function es(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const ts=Xi.setTimeout,ns=Xi.clearTimeout;function rs(e,t){t.useNativeTimers?(e.setTimeoutFn=ts.bind(Xi),e.clearTimeoutFn=ns.bind(Xi)):(e.setTimeoutFn=Xi.setTimeout.bind(Xi),e.clearTimeoutFn=Xi.clearTimeout.bind(Xi))}function as(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class is extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ss extends qi{constructor(e){super(),this.writable=!1,rs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new is(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Wi(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class os extends ss{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Hi),r=[];for(let a=0;a<n.length;a++){const e=Wi(n[a],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let a=0;e.forEach(((e,i)=>{_i(e,!1,(e=>{r[i]=e,++a===n&&t(r.join(Hi))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=as()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let ls=!1;try{ls="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Tae){}const us=ls;function cs(){}class fs extends os{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class ds extends qi{constructor(e,t,n){super(),this.createRequest=e,rs(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=es(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Lae){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Lae){}try{n.setRequestHeader("Accept","*/*")}catch(Lae){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(Lae){return void this.setTimeoutFn((()=>{this._onError(Lae)}),0)}"undefined"!==typeof document&&(this._index=ds.requestsCount++,ds.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=cs,e)try{this._xhr.abort()}catch(Lae){}"undefined"!==typeof document&&delete ds.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(ds.requestsCount=0,ds.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",hs);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Xi?"pagehide":"unload",hs,!1)}function hs(){for(let e in ds.requests)ds.requests.hasOwnProperty(e)&&ds.requests[e].abort()}const ps=function(){const e=ms({xdomain:!1});return e&&null!==e.responseType}();function ms(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||us))return new XMLHttpRequest}catch(Lae){}if(!t)try{return new(Xi[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Lae){}}const gs="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ys extends ss{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=gs?{}:es(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(Tae){return this.emitReserved("error",Tae)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;_i(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(Lae){}r&&Ki((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=as()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const bs=Xi.WebSocket||Xi.MozWebSocket;const vs={websocket:class extends ys{createSocket(e,t,n){return gs?new bs(e,t,n):t?new bs(e,t):new bs(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends ss{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Tae){return this.emitReserved("error",Tae)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Qi||(Qi=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(0===r){if(Ji(n)<1)break;const e=Zi(n,1);i=128===(128&e[0]),a=127&e[0],r=a<126?3:126===a?1:2}else if(1===r){if(Ji(n)<2)break;const e=Zi(n,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Ji(n)<8)break;const e=Zi(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){o.enqueue(Di);break}a=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Ji(n)<a)break;const e=Zi(n,a);o.enqueue(Wi(i?e:Qi.decode(e),t)),r=0}if(0===a||a>e){o.enqueue(Di);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=Yi();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),a())})).catch((e=>{}))};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&Ki((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends fs{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ps&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new ds(ms,this.uri(),e)}}},ws=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xs=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ks(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let a=ws.exec(e||""),i={},s=14;for(;s--;)i[xs[s]]=a[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}const Cs="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ns=[];Cs&&addEventListener("offline",(()=>{Ns.forEach((e=>e()))}),!1);class Is extends qi{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=ks(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=ks(t.host).host);rs(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,a=n.length;r<a;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Cs&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ns.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Is.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Is.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ki((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(Is.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Cs&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Ns.indexOf(this._offlineEventListener);-1!==e&&Ns.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Is.protocol=4;class Ss extends Is{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Is.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Is.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){n||(n=!0,u(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,a(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function o(){i("socket closed")}function l(e){t&&e.name!==t.name&&a()}const u=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",o),this.off("upgrading",l)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Ms extends Ss{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>vs[e])).filter((e=>!!e))),super(e,t)}}const Es="function"===typeof ArrayBuffer,Ls=Object.prototype.toString,Ts="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Ls.call(Blob),As="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Ls.call(File);function Ds(e){return Es&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ts&&e instanceof Blob||As&&e instanceof File}function Rs(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Rs(e[t]))return!0;return!1}if(Ds(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Rs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Rs(e[n]))return!0;return!1}function js(e){const t=[],n=e.data,r=e;return r.data=Os(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Os(e,t){if(!e)return e;if(Ds(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Os(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Os(e[r],t));return n}return e}function _s(e,t){return e.data=$s(e.data,t),delete e.attachments,e}function $s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=$s(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=$s(e[n],t));return e}const Fs=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zs=5;var Ps;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ps||(Ps={}));class Bs{constructor(e){this.replacer=e}encode(e){return e.type!==Ps.EVENT&&e.type!==Ps.ACK||!Rs(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ps.EVENT?Ps.BINARY_EVENT:Ps.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ps.BINARY_EVENT&&e.type!==Ps.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=js(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Us(e){return"[object Object]"===Object.prototype.toString.call(e)}class Ws extends qi{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===Ps.BINARY_EVENT;n||t.type===Ps.BINARY_ACK?(t.type=n?Ps.EVENT:Ps.ACK,this.reconstructor=new Vs(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ds(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===Ps[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ps.BINARY_EVENT||n.type===Ps.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Ws.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Lae){return!1}}static isPayloadValid(e,t){switch(e){case Ps.CONNECT:return Us(t);case Ps.DISCONNECT:return void 0===t;case Ps.CONNECT_ERROR:return"string"===typeof t||Us(t);case Ps.EVENT:case Ps.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Fs.indexOf(t[0]));case Ps.ACK:case Ps.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vs{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=_s(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Gs(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Hs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ys extends qi{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gs(e,"open",this.onopen.bind(this)),Gs(e,"packet",this.onpacket.bind(this)),Gs(e,"error",this.onerror.bind(this)),Gs(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Hs.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const o={type:Ps.EVENT,data:i,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,u=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),a),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const a=(e,n)=>e?r(e):t(n);a.withError=!0,n.push(a),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ps.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ps.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ps.EVENT:case Ps.BINARY_EVENT:this.onevent(e);break;case Ps.ACK:case Ps.BINARY_ACK:this.onack(e);break;case Ps.DISCONNECT:this.ondisconnect();break;case Ps.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:Ps.ACK,id:e,data:a})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ps.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Qs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Qs.prototype.reset=function(){this.attempts=0},Qs.prototype.setMin=function(e){this.ms=e},Qs.prototype.setMax=function(e){this.max=e},Qs.prototype.setJitter=function(e){this.jitter=e};class Js extends qi{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,rs(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Qs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||e;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ms(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Gs(t,"open",(function(){n.onopen(),e&&e()})),a=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Gs(t,"error",a);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),a(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gs(e,"ping",this.onping.bind(this)),Gs(e,"data",this.ondata.bind(this)),Gs(e,"error",this.onerror.bind(this)),Gs(e,"close",this.onclose.bind(this)),Gs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Lae){this.onclose("parse error",Lae)}}ondecoded(e){Ki((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ys(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Zs={};function qs(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=ks(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,a=n.id,i=n.path,s=Zs[a]&&i in Zs[a].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new Js(r,t):(Zs[a]||(Zs[a]=new Js(r,t)),o=Zs[a]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(qs,{Manager:Js,Socket:Ys,io:qs,connect:qs});const Ks=qs("https://gesture-recognition-tml8.onrender.com/");var Xs=n(6593),eo=n.n(Xs),to=n(579);const no=(0,E.createContext)(),ro=e=>{let{children:t}=e;const[n,r]=(0,E.useState)(null),[a,i]=(0,E.useState)({}),[s,o]=(0,E.useState)(!1),[l,u]=(0,E.useState)(!1),[c,f]=(0,E.useState)(""),[d,h]=(0,E.useState)(""),[p,m]=(0,E.useState)([]),[g,y]=(0,E.useState)(""),[b,v]=(0,E.useState)(""),[w,x]=(0,E.useState)(""),[k,C]=(0,E.useState)(!0),[N,I]=(0,E.useState)(),[S,M]=(0,E.useState)(!0),[L,T]=(0,E.useState)(),[A,D]=(0,E.useState)(!1),R=(0,E.useRef)(),j=(0,E.useRef)(),O=(0,E.useRef)(),_=(0,E.useRef)();(0,E.useEffect)((()=>{(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});r(e),R.current&&(R.current.srcObject=e)}catch(e){console.error("Error accessing media devices:",e)}})(),Ks.on("socketId",(e=>{f(e)})),Ks.on("mediaStatusChanged",(e=>{let{mediaType:t,isActive:n}=e;null!==n&&("video"===t?I(n):"audio"===t?T(n):(T(n[0]),I(n[1])))})),Ks.on("callTerminated",(()=>{u(!0),window.location.reload()})),Ks.on("incomingCall",(e=>{let{from:t,name:n,signal:r}=e;i({isReceivingCall:!0,from:t,name:n,signal:r})})),Ks.on("receiveMessage",(e=>{let{message:t,senderName:n}=e;y({text:t,senderName:n});const r=setTimeout((()=>{y({})}),1e3);return()=>clearTimeout(r)}))}),[]);return(0,to.jsx)(no.Provider,{value:{call:a,isCallAccepted:s,myVideoRef:R,partnerVideoRef:j,userStream:n,name:b,setName:v,isCallEnded:l,myUserId:c,callUser:e=>{const t=new(eo())({initiator:!0,trickle:!1,stream:n});h(e);t.on("signal",(t=>{Ks.emit("initiateCall",{targetId:e,signalData:t,senderId:c,senderName:b})})),t.on("stream",(e=>{j.current.srcObject=e})),Ks.on("callAnswered",(e=>{let{signal:n,userName:r}=e;o(!0),x(r),t.signal(n),Ks.emit("changeMediaStatus",{mediaType:"both",isActive:[S,k]})})),O.current=t},endCall:()=>{u(!0),Ks.emit("terminateCall",{targetId:d}),O.current.destroy(),window.location.reload()},receiveCall:()=>{o(!0),h(a.from);const e=new(eo())({initiator:!1,trickle:!1,stream:n});e.on("signal",(e=>{Ks.emit("answerCall",{signal:e,to:a.from,userName:b,mediaType:"both",mediaStatus:[S,k]})})),e.on("stream",(e=>{j.current&&(j.current.srcObject=e)})),e.signal(a.signal),O.current=e},sendMessage:e=>{const t={message:e,type:"sent",timestamp:Date.now(),sender:b};m((e=>[...e,t])),Ks.emit("sendMessage",{targetId:d,message:e,senderName:b})},receivedMessage:g,chatMessages:p,setChatMessages:m,setReceivedMessage:y,setPartnerUserId:h,endIncomingCall:()=>{Ks.emit("terminateCall",{targetId:d})},opponentName:w,isMyVideoActive:k,setIsMyVideoActive:C,isPartnerVideoActive:N,setIsPartnerVideoActive:I,toggleVideo:()=>{const e=!k;return C(e),n.getVideoTracks().forEach((t=>{t.enabled=e})),Ks.emit("changeMediaStatus",{mediaType:"video",isActive:e}),e},isMyMicActive:S,isPartnerMicActive:L,toggleMicrophone:()=>{const e=!S;return M(e),n.getAudioTracks().forEach((t=>{t.enabled=e})),Ks.emit("changeMediaStatus",{mediaType:"audio",isActive:e}),e},isScreenSharing:A,toggleScreenSharingMode:()=>{k?A?(_.current.stop(),_.current.onended()):navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((e=>{const t=e.getTracks()[0],r=O.current.streams[0].getTracks().find((e=>"video"===e.kind));O.current.replaceTrack(r,t,n),t.onended=()=>{O.current.replaceTrack(t,r,n),R.current.srcObject=n,D(!1)},R.current.srcObject=e,_.current=t,D(!0)})).catch((e=>{console.log("Failed to get screen sharing stream")})):alert("Please turn on your video to share the screen")},toggleFullScreen:e=>{const t=e.target;document.fullscreenElement?document.exitFullscreen():t.requestFullscreen().catch((e=>{console.error(`Error: ${e.message}`)}))}},children:t})};function ao(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"}}]})(e)}function io(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}}]})(e)}function so(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}}]})(e)}function oo(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}}]})(e)}function lo(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08a.956.956 0 01-.29-.7c0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 00-2.67-1.85.996.996 0 01-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}}]})(e)}function uo(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}}]})(e)}function co(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}}]})(e)}function fo(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6a2 2 0 01-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3a2 2 0 012 2z"}}]})(e)}function ho(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}}]})(e)}function po(e){return Ci({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h12v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}}]})(e)}var mo=n(8139),go=n.n(mo);const yo=["xxl","xl","lg","md","sm","xs"],bo="xs",vo=E.createContext({prefixes:{},breakpoints:yo,minBreakpoint:bo}),{Consumer:wo,Provider:xo}=vo;function ko(e,t){const{prefixes:n}=(0,E.useContext)(vo);return e||n[t]||t}function Co(){const{breakpoints:e}=(0,E.useContext)(vo);return e}function No(){const{minBreakpoint:e}=(0,E.useContext)(vo);return e}const Io=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...i}=e;const s=ko(n,"row"),o=Co(),l=No(),u=`${s}-cols`,c=[];return o.forEach((e=>{const t=i[e];let n;delete i[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?`-${e}`:"";null!=n&&c.push(`${u}${r}-${n}`)})),(0,to.jsx)(a,{ref:t,...i,className:go()(r,s,...c)})}));Io.displayName="Row";const So=Io;const Mo=E.forwardRef(((e,t)=>{const[{className:n,...r},{as:a="div",bsPrefix:i,spans:s}]=function(e){let{as:t,bsPrefix:n,className:r,...a}=e;n=ko(n,"col");const i=Co(),s=No(),o=[],l=[];return i.forEach((e=>{const t=a[e];let r,i,u;delete a[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:u}=t):r=t;const c=e!==s?`-${e}`:"";r&&o.push(!0===r?`${n}${c}`:`${n}${c}-${r}`),null!=u&&l.push(`order${c}-${u}`),null!=i&&l.push(`offset${c}-${i}`)})),[{...a,className:go()(r,...o,...l)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,to.jsx)(a,{...r,ref:t,className:go()(n,!s.length&&i)})}));Mo.displayName="Col";const Eo=Mo,Lo=["as","disabled"];function To(e){let{tagName:t,disabled:n,href:r,target:a,rel:i,role:s,onClick:o,tabIndex:l=0,type:u}=e;t||(t=null!=r||null!=a||null!=i?"a":"button");const c={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},c];const f=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:f,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),f(e))}},c]}const Ao=E.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Lo);const[i,{tagName:s}]=To(Object.assign({tagName:n,disabled:r},a));return(0,to.jsx)(s,Object.assign({},a,i,{ref:t}))}));Ao.displayName="Button";const Do=E.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:a="primary",size:i,active:s=!1,disabled:o=!1,className:l,...u}=e;const c=ko(r,"btn"),[f,{tagName:d}]=To({tagName:n,disabled:o,...u}),h=d;return(0,to.jsx)(h,{...f,...u,ref:t,disabled:o,className:go()(l,c,s&&"active",a&&`${c}-${a}`,i&&`${c}-${i}`,u.href&&o&&"disabled")})}));Do.displayName="Button";const Ro=Do;function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}function Oo(e){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(e)}var _o=Symbol.for("react.element"),$o=Symbol.for("react.transitional.element"),Fo=Symbol.for("react.fragment");function zo(e){return e&&"object"===Oo(e)&&(e.$$typeof===_o||e.$$typeof===$o)&&e.type===Fo}function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return E.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Po(e)):zo(e)&&e.props?n=n.concat(Po(e.props.children,t)):n.push(e))})),n}var Bo={},Uo=[];function Wo(e,t){}function Vo(e,t){}function Go(e,t,n){t||Bo[n]||(e(!1,n),Bo[n]=!0)}function Ho(e,t){Go(Wo,e,t)}Ho.preMessage=function(e){Uo.push(e)},Ho.resetWarned=function(){Bo={}},Ho.noteOnce=function(e,t){Go(Vo,e,t)};const Yo=Ho;function Qo(e){var t=function(e,t){if("object"!=Oo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oo(t)?t:t+""}function Jo(e,t,n){return(t=Qo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ko=n(7950);function Xo(e){return e instanceof HTMLElement||e instanceof SVGElement}function el(e){var t,n=function(e){return e&&"object"===Oo(e)&&Xo(e.nativeElement)?e.nativeElement:Xo(e)?e:null}(e);return n||(e instanceof E.Component?null===(t=Ko.findDOMNode)||void 0===t?void 0:t.call(Ko,e):null)}var tl=n(2086);var nl=Number(E.version.split(".")[0]),rl=function(e,t){"function"===typeof e?e(t):"object"===Oo(e)&&e&&"current"in e&&(e.current=t)},al=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){rl(t,e)}))}},il=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n){var r=E.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}((function(){return al.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},sl=function(e){var t,n;if(!e)return!1;if(ol(e)&&nl>=19)return!0;var r=(0,tl.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===tl.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===tl.ForwardRef)};function ol(e){return(0,E.isValidElement)(e)&&!zo(e)}var ll=function(e){if(e&&ol(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null},ul=E.createContext(null);var cl=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),fl="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,dl="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),hl="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(dl):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var pl=["top","right","bottom","left","width","height","size","weight"],ml="undefined"!==typeof MutationObserver,gl=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&o()}function s(){hl(i)}function o(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=e}return o}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){fl&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ml?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){fl&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;pl.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),yl=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},bl=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||dl},vl=Il(0,0,0,0);function wl(e){return parseFloat(e)||0}function xl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+wl(e["border-"+n+"-width"])}),0)}function kl(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return vl;var r=bl(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=wl(i)}return t}(r),i=a.left+a.right,s=a.top+a.bottom,o=wl(r.width),l=wl(r.height);if("border-box"===r.boxSizing&&(Math.round(o+i)!==t&&(o-=xl(r,"left","right")+i),Math.round(l+s)!==n&&(l-=xl(r,"top","bottom")+s)),!function(e){return e===bl(e).document.documentElement}(e)){var u=Math.round(o+i)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(o-=u),1!==Math.abs(c)&&(l-=c)}return Il(a.left,a.top,o,l)}var Cl="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof bl(e).SVGGraphicsElement}:function(e){return e instanceof bl(e).SVGElement&&"function"===typeof e.getBBox};function Nl(e){return fl?Cl(e)?function(e){var t=e.getBBox();return Il(0,0,t.width,t.height)}(e):kl(e):vl}function Il(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Sl=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Il(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Nl(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ml=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,i="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(i.prototype);return yl(s,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),s}(t);yl(this,{target:e,contentRect:n})},El=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new cl,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Sl(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof bl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ml(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ll="undefined"!==typeof WeakMap?new WeakMap:new cl,Tl=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=gl.getInstance(),r=new El(t,n,this);Ll.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Tl.prototype[e]=function(){var t;return(t=Ll.get(this))[e].apply(t,arguments)}}));const Al="undefined"!==typeof dl.ResizeObserver?dl.ResizeObserver:Tl;var Dl=new Map;var Rl=new Al((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Dl.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qo(r.key),r)}}function _l(e,t,n){return t&&Ol(e.prototype,t),n&&Ol(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $l(e,t){return $l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$l(e,t)}function Fl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$l(e,t)}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zl(e)}function Pl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pl=function(){return!!e})()}function Bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ul(e){var t=Pl();return function(){var n,r=zl(e);if(t){var a=zl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==Oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bl(e)}(this,n)}}var Wl=function(e){Fl(n,e);var t=Ul(n);function n(){return jl(this,n),t.apply(this,arguments)}return _l(n,[{key:"render",value:function(){return this.props.children}}]),n}(E.Component);function Vl(e,t){var n=e.children,r=e.disabled,a=E.useRef(null),i=E.useRef(null),s=E.useContext(ul),o="function"===typeof n,l=o?n(a):n,u=E.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!o&&E.isValidElement(l)&&sl(l),f=c?ll(l):null,d=il(f,a),h=function(){var e;return el(a.current)||(a.current&&"object"===Oo(a.current)?el(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||el(i.current)};E.useImperativeHandle(t,(function(){return h()}));var p=E.useRef(e);p.current=e;var m=E.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),i=a.width,o=a.height,l=e.offsetWidth,c=e.offsetHeight,f=Math.floor(i),d=Math.floor(o);if(u.current.width!==f||u.current.height!==d||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var h={width:f,height:d,offsetWidth:l,offsetHeight:c};u.current=h;var m=l===Math.round(i)?i:l,g=c===Math.round(o)?o:c,y=qo(qo({},h),{},{offsetWidth:m,offsetHeight:g});null===s||void 0===s||s(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return E.useEffect((function(){var e,t,n=h();return n&&!r&&(e=n,t=m,Dl.has(e)||(Dl.set(e,new Set),Rl.observe(e)),Dl.get(e).add(t)),function(){return function(e,t){Dl.has(e)&&(Dl.get(e).delete(t),Dl.get(e).size||(Rl.unobserve(e),Dl.delete(e)))}(n,m)}}),[a.current,r]),E.createElement(Wl,{ref:i},c?E.cloneElement(l,{ref:d}):l)}const Gl=E.forwardRef(Vl);function Hl(e,t){var n=e.children;return("function"===typeof n?[n]:Po(n)).map((function(n,r){var a=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return E.createElement(Gl,jo({},e,{key:a,ref:0===r?t:void 0}),n)}))}var Yl=E.forwardRef(Hl);Yl.Collection=function(e){var t=e.children,n=e.onBatchResize,r=E.useRef(0),a=E.useRef([]),i=E.useContext(ul),s=E.useCallback((function(e,t,s){r.current+=1;var o=r.current;a.current.push({size:e,element:t,data:s}),Promise.resolve().then((function(){o===r.current&&(null===n||void 0===n||n(a.current),a.current=[])})),null===i||void 0===i||i(e,t,s)}),[n,i]);return E.createElement(ul.Provider,{value:s},t)};const Ql=Yl;function Jl(e){if(Array.isArray(e))return e}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ql(e,t){if(e){if("string"==typeof e)return Zl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}function Kl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xl(e,t){return Jl(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||ql(e,t)||Kl()}function eu(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function tu(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||eu(e)||ql(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const nu=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function ru(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var au="data-rc-order",iu="data-rc-priority",su=new Map;function ou(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function lu(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function uu(e){return Array.from((su.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ru())return null;var n=t.csp,r=t.prepend,a=t.priority,i=void 0===a?0:a,s=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),o="prependQueue"===s,l=document.createElement("style");l.setAttribute(au,s),o&&i&&l.setAttribute(iu,"".concat(i)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var u=lu(t),c=u.firstChild;if(r){if(o){var f=(t.styles||uu(u)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(au)))return!1;var t=Number(e.getAttribute(iu)||0);return i>=t}));if(f.length)return u.insertBefore(l,f[f.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function fu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=lu(t);return(t.styles||uu(n)).find((function(n){return n.getAttribute(ou(t))===e}))}function du(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=fu(e,t);n&&lu(t).removeChild(n)}function hu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=lu(n),a=uu(r),i=qo(qo({},n),{},{styles:a});!function(e,t){var n=su.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=cu("",t),a=r.parentNode;su.set(e,a),e.removeChild(r)}}(r,i);var s=fu(t,i);if(s){var o,l,u;if(null!==(o=i.csp)&&void 0!==o&&o.nonce&&s.nonce!==(null===(l=i.csp)||void 0===l?void 0:l.nonce))s.nonce=null===(u=i.csp)||void 0===u?void 0:u.nonce;return s.innerHTML!==e&&(s.innerHTML=e),s}var c=cu(e,i);return c.setAttribute(ou(i),t),c}const pu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=r.has(t);if(Yo(!s,"Warning: There may be circular references"),s)return!1;if(t===a)return!0;if(n&&i>1)return!1;r.add(t);var o=i+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],a[l],o))return!1;return!0}if(t&&a&&"object"===Oo(t)&&"object"===Oo(a)){var u=Object.keys(t);return u.length===Object.keys(a).length&&u.every((function(n){return e(t[n],a[n],o)}))}return!1}(e,t)};function mu(e){return e.join("%")}var gu=function(){function e(t){jl(this,e),Jo(this,"instanceId",void 0),Jo(this,"cache",new Map),this.instanceId=t}return _l(e,[{key:"get",value:function(e){return this.opGet(mu(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(mu(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const yu=gu;var bu="data-token-hash",vu="data-css-hash",wu="__cssinjs_instance__";function xu(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(vu,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[wu]=t[wu]||e,t[wu]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(vu,"]"))).forEach((function(t){var n,a=t.getAttribute(vu);r[a]?t[wu]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[a]=!0}))}return new yu(e)}var ku=E.createContext({hashPriority:"low",cache:xu(),defaultCache:!0});const Cu=ku;var Nu="CALC_UNIT";new RegExp(Nu,"g");var Iu=function(){function e(){jl(this,e),Jo(this,"cache",void 0),Jo(this,"keys",void 0),Jo(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return _l(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={map:this.cache};return e.forEach((function(e){var t;a?a=null===(t=a)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):a=void 0})),null!==(t=a)&&void 0!==t&&t.value&&r&&(a.value[1]=this.cacheCallTimes++),null===(n=a)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce((function(e,t){var n=Xl(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),i=Xl(a,1)[0];this.delete(i)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,a){if(a===t.length-1)s.set(e,{value:[n,r.cacheCallTimes++]});else{var i=s.get(e);i?i.map||(i.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var a=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),a}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();Jo(Iu,"MAX_CACHE_SIZE",20),Jo(Iu,"MAX_CACHE_OFFSET",5);var Su=0,Mu=function(){function e(t){jl(this,e),Jo(this,"derivatives",void 0),Jo(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Su,0===t.length&&t.length,Su+=1}return _l(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),Eu=new Iu;var Lu=new WeakMap,Tu={};var Au=new WeakMap;function Du(e){var t=Au.get(e)||"";return t||(Object.keys(e).forEach((function(n){var r=e[n];t+=n,r instanceof Mu?t+=r.id:r&&"object"===Oo(r)?t+=Du(r):t+=r})),t=nu(t),Au.set(e,t)),t}function Ru(e,t){return nu("".concat(t,"_").concat(Du(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var ju=ru();function Ou(e){return"number"===typeof e?"".concat(e,"px"):e}function _u(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var a=qo(qo({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(Jo(r={},bu,t),Jo(r,vu,n),r)),i=Object.keys(a).map((function(e){var t=a[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(i,">").concat(e,"</style>")}var $u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Fu=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=Xl(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},zu=function(e,t,n){var r={},a={};return Object.entries(e).forEach((function(e){var t,i,s=Xl(e,2),o=s[0],l=s[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[o])a[o]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(i=n.ignore)||void 0===i||!i[o])){var u,c=$u(o,null===n||void 0===n?void 0:n.prefix);r[c]="number"!==typeof l||null!==n&&void 0!==n&&null!==(u=n.unitless)&&void 0!==u&&u[o]?String(l):"".concat(l,"px"),a[o]="var(".concat(c,")")}})),[a,Fu(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},Pu=ru()?E.useLayoutEffect:E.useEffect,Bu=function(e,t){var n=E.useRef(!0);Pu((function(){return e(n.current)}),t),Pu((function(){return n.current=!1,function(){n.current=!0}}),[])},Uu=function(e,t){Bu((function(t){if(!t)return e()}),t)};const Wu=Bu;var Vu=qo({},L).useInsertionEffect;const Gu=Vu?function(e,t,n){return Vu((function(){return e(),t()}),n)}:function(e,t,n){E.useMemo(e,n),Wu((function(){return t(!0)}),n)};var Hu="undefined"!==typeof qo({},L).useInsertionEffect?function(e){var t=[],n=!1;return E.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};const Yu=Hu;const Qu=function(){return!1};function Ju(e,t,n,r,a){var i=E.useContext(Cu).cache,s=mu([e].concat(tu(t))),o=Yu([s]),l=(Qu(),function(e){i.opUpdate(s,(function(t){var r=Xl(t||[void 0,void 0],2),a=r[0];var i=[void 0===a?0:a,r[1]||n()];return e?e(i):i}))});E.useMemo((function(){l()}),[s]);var u=i.opGet(s)[1];return Gu((function(){null===a||void 0===a||a(u)}),(function(e){return l((function(t){var n=Xl(t,2),r=n[0],i=n[1];return e&&0===r&&(null===a||void 0===a||a(u)),[r+1,i]})),function(){i.opUpdate(s,(function(t){var n=Xl(t||[],2),a=n[0],l=void 0===a?0:a,u=n[1];return 0===l-1?(o((function(){!e&&i.opGet(s)||null===r||void 0===r||r(u,!1)})),null):[l-1,u]}))}}),[s]),u}var Zu={},qu=new Map;function Ku(e,t){qu.set(e,(qu.get(e)||0)-1);var n=Array.from(qu.keys()),r=n.filter((function(e){return(qu.get(e)||0)<=0}));n.length-r.length>0&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(bu,'="').concat(e,'"]')).forEach((function(e){var n;e[wu]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),qu.delete(e)}))}var Xu="token";function ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,E.useContext)(Cu),a=r.cache.instanceId,i=r.container,s=n.salt,o=void 0===s?"":s,l=n.override,u=void 0===l?Zu:l,c=n.formatToken,f=n.getComputedToken,d=n.cssVar,h=function(e,t){for(var n=Lu,r=0;r<t.length;r+=1){var a=t[r];n.has(a)||n.set(a,new WeakMap),n=n.get(a)}return n.has(Tu)||n.set(Tu,e()),n.get(Tu)}((function(){return Object.assign.apply(Object,[{}].concat(tu(t)))}),t),p=Du(h),m=Du(u),g=d?Du(d):"",y=Ju(Xu,[o,e.id,p,m,g],(function(){var t,n=f?f(h,u,e):function(e,t,n,r){var a=qo(qo({},n.getDerivativeToken(e)),t);return r&&(a=r(a)),a}(h,u,e,c),r=qo({},n),a="";if(d){var i=Xl(zu(n,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),2);n=i[0],a=i[1]}var s=Ru(n,o);n._tokenKey=s,r._tokenKey=Ru(r,o);var l=null!==(t=null===d||void 0===d?void 0:d.key)&&void 0!==t?t:s;n._themeKey=l,function(e){qu.set(e,(qu.get(e)||0)+1)}(l);var p="".concat("css","-").concat(nu(s));return n._hashId=p,[n,p,r,a,(null===d||void 0===d?void 0:d.key)||""]}),(function(e){Ku(e[0]._themeKey,a)}),(function(e){var t=Xl(e,4),n=t[0],r=t[3];if(d&&r){var s=hu(r,nu("css-variables-".concat(n._themeKey)),{mark:vu,prepend:"queue",attachTo:i,priority:-999});s[wu]=a,s.setAttribute(bu,n._themeKey)}}));return y}const tc={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var nc="comm",rc="rule",ac="decl",ic=Math.abs,sc=String.fromCharCode;Object.assign;function oc(e){return e.trim()}function lc(e,t,n){return e.replace(t,n)}function uc(e,t,n){return e.indexOf(t,n)}function cc(e,t){return 0|e.charCodeAt(t)}function fc(e,t,n){return e.slice(t,n)}function dc(e){return e.length}function hc(e,t){return t.push(e),e}function pc(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function mc(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case ac:return e.return=e.return||e.value;case nc:return"";case"@keyframes":return e.return=e.value+"{"+pc(e.children,r)+"}";case rc:if(!dc(e.value=e.props.join(",")))return""}return dc(n=pc(e.children,r))?e.return=e.value+"{"+n+"}":""}var gc=1,yc=1,bc=0,vc=0,wc=0,xc="";function kc(e,t,n,r,a,i,s,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:gc,column:yc,length:s,return:"",siblings:o}}function Cc(){return wc=vc>0?cc(xc,--vc):0,yc--,10===wc&&(yc=1,gc--),wc}function Nc(){return wc=vc<bc?cc(xc,vc++):0,yc++,10===wc&&(yc=1,gc++),wc}function Ic(){return cc(xc,vc)}function Sc(){return vc}function Mc(e,t){return fc(xc,e,t)}function Ec(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Lc(e){return gc=yc=1,bc=dc(xc=e),vc=0,[]}function Tc(e){return xc="",e}function Ac(e){return oc(Mc(vc-1,jc(91===e?e+2:40===e?e+1:e)))}function Dc(e){for(;(wc=Ic())&&wc<33;)Nc();return Ec(e)>2||Ec(wc)>3?"":" "}function Rc(e,t){for(;--t&&Nc()&&!(wc<48||wc>102||wc>57&&wc<65||wc>70&&wc<97););return Mc(e,Sc()+(t<6&&32==Ic()&&32==Nc()))}function jc(e){for(;Nc();)switch(wc){case e:return vc;case 34:case 39:34!==e&&39!==e&&jc(wc);break;case 40:41===e&&jc(e);break;case 92:Nc()}return vc}function Oc(e,t){for(;Nc()&&e+wc!==57&&(e+wc!==84||47!==Ic()););return"/*"+Mc(t,vc-1)+"*"+sc(47===e?e:Nc())}function _c(e){for(;!Ec(Ic());)Nc();return Mc(e,vc)}function $c(e){return Tc(Fc("",null,null,null,[""],e=Lc(e),0,[0],e))}function Fc(e,t,n,r,a,i,s,o,l){for(var u=0,c=0,f=s,d=0,h=0,p=0,m=1,g=1,y=1,b=0,v="",w=a,x=i,k=r,C=v;g;)switch(p=b,b=Nc()){case 40:if(108!=p&&58==cc(C,f-1)){-1!=uc(C+=lc(Ac(b),"&","&\f"),"&\f",ic(u?o[u-1]:0))&&(y=-1);break}case 34:case 39:case 91:C+=Ac(b);break;case 9:case 10:case 13:case 32:C+=Dc(p);break;case 92:C+=Rc(Sc()-1,7);continue;case 47:switch(Ic()){case 42:case 47:hc(Pc(Oc(Nc(),Sc()),t,n,l),l),5!=Ec(p||1)&&5!=Ec(Ic()||1)||!dc(C)||" "===fc(C,-1,void 0)||(C+=" ");break;default:C+="/"}break;case 123*m:o[u++]=dc(C)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:-1==y&&(C=lc(C,/\f/g,"")),h>0&&(dc(C)-f||0===m&&47===p)&&hc(h>32?Bc(C+";",r,n,f-1,l):Bc(lc(C," ","")+";",r,n,f-2,l),l);break;case 59:C+=";";default:if(hc(k=zc(C,t,n,u,c,a,o,v,w=[],x=[],f,i),i),123===b)if(0===c)Fc(C,t,k,k,w,i,f,o,x);else{switch(d){case 99:if(110===cc(C,3))break;case 108:if(97===cc(C,2))break;default:c=0;case 100:case 109:case 115:}c?Fc(e,k,k,r&&hc(zc(e,k,k,0,0,a,o,v,a,w=[],f,x),x),a,x,f,o,r?w:x):Fc(C,k,k,k,[""],x,0,o,x)}}u=c=h=0,m=y=1,v=C="",f=s;break;case 58:f=1+dc(C),h=p;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==Cc())continue;switch(C+=sc(b),b*m){case 38:y=c>0?1:(C+="\f",-1);break;case 44:o[u++]=(dc(C)-1)*y,y=1;break;case 64:45===Ic()&&(C+=Ac(Nc())),d=Ic(),c=f=dc(v=C+=_c(Sc())),b++;break;case 45:45===p&&2==dc(C)&&(m=0)}}return i}function zc(e,t,n,r,a,i,s,o,l,u,c,f){for(var d=a-1,h=0===a?i:[""],p=function(e){return e.length}(h),m=0,g=0,y=0;m<r;++m)for(var b=0,v=fc(e,d+1,d=ic(g=s[m])),w=e;b<p;++b)(w=oc(g>0?h[b]+" "+v:lc(v,/&\f/g,h[b])))&&(l[y++]=w);return kc(e,t,n,0===a?rc:o,l,u,c,f)}function Pc(e,t,n,r){return kc(e,t,n,nc,sc(wc),fc(e,2,-2),0,r)}function Bc(e,t,n,r,a){return kc(e,t,n,ac,fc(e,0,r),fc(e,r+1,-1),r,a)}var Uc,Wc="data-ant-cssinjs-cache-path",Vc="_FILE_STYLE__";var Gc=!0;function Hc(e){return function(){if(!Uc&&(Uc={},ru())){var e=document.createElement("div");e.className=Wc,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=Xl(e.split(":"),2),n=t[0],r=t[1];Uc[n]=r}));var n,r=document.querySelector("style[".concat(Wc,"]"));r&&(Gc=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!Uc[e]}var Yc="_multi_value_";function Qc(e){return pc($c(e),mc).replace(/\{%%%\:[^;];}/g,";")}function Jc(e,t,n){if(!t)return e;var r=".".concat(t),a="low"===n?":where(".concat(r,")"):r,i=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",i=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(i).concat(a).concat(r.slice(i.length))].concat(tu(n.slice(1))).join(" ")}));return i.join(",")}var Zc=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,i=r.injectHash,s=r.parentSelectors,o=n.hashId,l=n.layer,u=(n.path,n.hashPriority),c=n.transformers,f=void 0===c?[]:c,d=(n.linters,""),h={};function p(t){var r=t.getName(o);if(!h[r]){var a=Xl(e(t.style,n,{root:!1,parentSelectors:s}),1)[0];h[r]="@keyframes ".concat(t.getName(o)).concat(a)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var r="string"!==typeof t||a?t:{};if("string"===typeof r)d+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=f.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==Oo(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===Oo(e)&&e&&("_skip_check_"in e||Yc in e)}(r)){var c;function x(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;tc[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(o)),d+="".concat(n,":").concat(r,";")}var f=null!==(c=null===r||void 0===r?void 0:r.value)&&void 0!==c?c:r;"object"===Oo(r)&&null!==r&&void 0!==r&&r[Yc]&&Array.isArray(f)?f.forEach((function(e){x(t,e)})):x(t,f)}else{var m=!1,g=t.trim(),y=!1;(a||i)&&o?g.startsWith("@")?m=!0:g=Jc("&"===g?"":t,o,u):!a||o||"&"!==g&&""!==g||(g="",y=!0);var b=Xl(e(r,n,{root:y,injectHash:m,parentSelectors:[].concat(tu(s),[g])}),2),v=b[0],w=b[1];h=qo(qo({},h),w),d+="".concat(g).concat(v)}}))}})),a?l&&(d&&(d="@layer ".concat(l.name," {").concat(d,"}")),l.dependencies&&(h["@layer ".concat(l.name)]=l.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(l.name,";")})).join("\n"))):d="{".concat(d,"}"),[d,h]};function qc(e,t){return nu("".concat(e.join("%")).concat(t))}function Kc(){return null}var Xc="style";function ef(e,t){var n=e.token,r=e.path,a=e.hashId,i=e.layer,s=e.nonce,o=e.clientOnly,l=e.order,u=void 0===l?0:l,c=E.useContext(Cu),f=c.autoClear,d=(c.mock,c.defaultCache),h=c.hashPriority,p=c.container,m=c.ssrInline,g=c.transformers,y=c.linters,b=c.cache,v=c.layer,w=n._tokenKey,x=[w];v&&x.push("layer"),x.push.apply(x,tu(r));var k=ju;var C=Ju(Xc,x,(function(){var e=x.join("|");if(Hc(e)){var n=function(e){var t=Uc[e],n=null;if(t&&ru())if(Gc)n=Vc;else{var r=document.querySelector("style[".concat(vu,'="').concat(Uc[e],'"]'));r?n=r.innerHTML:delete Uc[e]}return[n,t]}(e),s=Xl(n,2),l=s[0],c=s[1];if(l)return[l,w,c,{},o,u]}var f=t(),d=Xl(Zc(f,{hashId:a,hashPriority:h,layer:v?i:void 0,path:r.join("-"),transformers:g,linters:y}),2),p=d[0],m=d[1],b=Qc(p),k=qc(x,b);return[b,w,k,m,o,u]}),(function(e,t){var n=Xl(e,3)[2];(t||f)&&ju&&du(n,{mark:vu})}),(function(e){var t=Xl(e,4),n=t[0],r=(t[1],t[2]),a=t[3];if(k&&n!==Vc){var i={mark:vu,prepend:!v&&"queue",attachTo:p,priority:u},o="function"===typeof s?s():s;o&&(i.csp={nonce:o});var l=[],c=[];Object.keys(a).forEach((function(e){e.startsWith("@layer")?l.push(e):c.push(e)})),l.forEach((function(e){hu(Qc(a[e]),"_layer-".concat(e),qo(qo({},i),{},{prepend:!0}))}));var f=hu(n,r,i);f[wu]=b.instanceId,f.setAttribute(bu,w),c.forEach((function(e){hu(Qc(a[e]),"_effect-".concat(e),i)}))}})),N=Xl(C,3),I=N[0],S=N[1],M=N[2];return function(e){var t,n;m&&!k&&d?t=E.createElement("style",jo({},(Jo(n={},bu,S),Jo(n,vu,M),n),{dangerouslySetInnerHTML:{__html:I}})):t=E.createElement(Kc,null);return E.createElement(E.Fragment,null,t,e)}}var tf="cssVar";const nf=function(e,t){var n=e.key,r=e.prefix,a=e.unitless,i=e.ignore,s=e.token,o=e.scope,l=void 0===o?"":o,u=(0,E.useContext)(Cu),c=u.cache.instanceId,f=u.container,d=s._tokenKey,h=[].concat(tu(e.path),[n,l,d]),p=Ju(tf,h,(function(){var e=t(),s=Xl(zu(e,n,{prefix:r,unitless:a,ignore:i,scope:l}),2),o=s[0],u=s[1];return[o,u,qc(h,u),n]}),(function(e){var t=Xl(e,3)[2];ju&&du(t,{mark:vu})}),(function(e){var t=Xl(e,3),r=t[1],a=t[2];if(r){var i=hu(r,a,{mark:vu,prepend:"queue",attachTo:f,priority:-999});i[wu]=c,i.setAttribute(bu,n)}}));return p};var rf;Jo(rf={},Xc,(function(e,t,n){var r=Xl(e,6),a=r[0],i=r[1],s=r[2],o=r[3],l=r[4],u=r[5],c=(n||{}).plain;if(l)return null;var f=a,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return f=_u(a,i,s,d,c),o&&Object.keys(o).forEach((function(e){if(!t[e]){t[e]=!0;var n=_u(Qc(o[e]),i,"_effect-".concat(e),d,c);e.startsWith("@layer")?f=n+f:f+=n}})),[u,s,f]})),Jo(rf,Xu,(function(e,t,n){var r=Xl(e,5),a=r[2],i=r[3],s=r[4],o=(n||{}).plain;if(!i)return null;var l=a._tokenKey;return[-999,l,_u(i,s,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},o)]})),Jo(rf,tf,(function(e,t,n){var r=Xl(e,4),a=r[1],i=r[2],s=r[3],o=(n||{}).plain;if(!a)return null;return[-999,i,_u(a,s,i,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},o)]}));var af=function(){function e(t,n){jl(this,e),Jo(this,"name",void 0),Jo(this,"style",void 0),Jo(this,"_keyframe",!0),this.name=t,this.style=n}return _l(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const sf=af;function of(e){return e.notSplit=!0,e}of(["borderTop","borderBottom"]),of(["borderTop"]),of(["borderBottom"]),of(["borderLeft","borderRight"]),of(["borderLeft"]),of(["borderRight"]);const lf={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},uf=Object.assign(Object.assign({},lf),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),cf={token:uf,override:{override:uf},hashed:!0},ff=E.createContext(cf),df=Math.round;function hf(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map((e=>parseFloat(e)));for(let a=0;a<3;a+=1)r[a]=t(r[a]||0,n[a]||"",a);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const pf=(e,t,n)=>0===n?e:e/100;function mf(e,t){const n=t||255;return e>n?n:e<0?0:e}class gf{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(Jo(this,"isValid",!0),Jo(this,"r",0),Jo(this,"g",0),Jo(this,"b",0),Jo(this,"a",1),Jo(this,"_h",void 0),Jo(this,"_s",void 0),Jo(this,"_l",void 0),Jo(this,"_v",void 0),Jo(this,"_max",void 0),Jo(this,"_min",void 0),Jo(this,"_brightness",void 0),e)if("string"===typeof e){const n=e.trim();function r(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):r("rgb")?this.fromRgbString(n):r("hsl")?this.fromHslString(n):(r("hsv")||r("hsb"))&&this.fromHsvString(n)}else if(e instanceof gf)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=mf(e.r),this.g=mf(e.g),this.b=mf(e.b),this.a="number"===typeof e.a?mf(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:df(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),r=t/100,a=e=>(n[e]-this[e])*r+this[e],i={r:df(a("r")),g:df(a("g")),b:df(a("b")),a:df(100*a("a"))/100};return this._c(i)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>df((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=df(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=df(100*this.getSaturation()),n=df(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=mf(t,n),r}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:r,a:a}=e;if(this._h=t%360,this._s=n,this._l=r,this.a="number"===typeof a?a:1,n<=0){const e=df(255*r);this.r=e,this.g=e,this.b=e}let i=0,s=0,o=0;const l=t/60,u=(1-Math.abs(2*r-1))*n,c=u*(1-Math.abs(l%2-1));l>=0&&l<1?(i=u,s=c):l>=1&&l<2?(i=c,s=u):l>=2&&l<3?(s=u,o=c):l>=3&&l<4?(s=c,o=u):l>=4&&l<5?(i=c,o=u):l>=5&&l<6&&(i=u,o=c);const f=r-u/2;this.r=df(255*(i+f)),this.g=df(255*(s+f)),this.b=df(255*(o+f))}fromHsv(e){let{h:t,s:n,v:r,a:a}=e;this._h=t%360,this._s=n,this._v=r,this.a="number"===typeof a?a:1;const i=df(255*r);if(this.r=i,this.g=i,this.b=i,n<=0)return;const s=t/60,o=Math.floor(s),l=s-o,u=df(r*(1-n)*255),c=df(r*(1-n*l)*255),f=df(r*(1-n*(1-l))*255);switch(o){case 0:this.g=f,this.b=u;break;case 1:this.r=c,this.b=u;break;case 2:this.r=u,this.b=f;break;case 3:this.r=u,this.g=c;break;case 4:this.r=f,this.g=u;break;default:this.g=u,this.b=c}}fromHsvString(e){const t=hf(e,pf);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=hf(e,pf);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=hf(e,((e,t)=>t.includes("%")?df(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var yf=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function bf(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function vf(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function wf(e,t,n){var r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function xf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new gf(e),a=r.toHsv(),i=5;i>0;i-=1){var s=new gf({h:bf(a,i,!0),s:vf(a,i,!0),v:wf(a,i,!0)});n.push(s)}n.push(r);for(var o=1;o<=4;o+=1){var l=new gf({h:bf(a,o),s:vf(a,o),v:wf(a,o)});n.push(l)}return"dark"===t.theme?yf.map((function(e){var r=e.index,a=e.amount;return new gf(t.backgroundColor||"#141414").mix(n[r],a).toHexString()})):n.map((function(e){return e.toHexString()}))}var kf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Cf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Cf.primary=Cf[5];var Nf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Nf.primary=Nf[5];var If=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];If.primary=If[5];var Sf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Sf.primary=Sf[5];var Mf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Mf.primary=Mf[5];var Ef=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Ef.primary=Ef[5];var Lf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Lf.primary=Lf[5];var Tf=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Tf.primary=Tf[5];var Af=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Af.primary=Af[5];var Df=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Df.primary=Df[5];var Rf=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Rf.primary=Rf[5];var jf=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];jf.primary=jf[5];var Of=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Of.primary=Of[5];var _f={red:Cf,volcano:Nf,orange:If,gold:Sf,yellow:Mf,lime:Ef,green:Lf,cyan:Tf,blue:Af,geekblue:Df,purple:Rf,magenta:jf,grey:Of},$f=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];$f.primary=$f[5];var Ff=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Ff.primary=Ff[5];var zf=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];zf.primary=zf[5];var Pf=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Pf.primary=Pf[5];var Bf=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Bf.primary=Bf[5];var Uf=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Uf.primary=Uf[5];var Wf=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Wf.primary=Wf[5];var Vf=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Vf.primary=Vf[5];var Gf=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Gf.primary=Gf[5];var Hf=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Hf.primary=Hf[5];var Yf=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Yf.primary=Yf[5];var Qf=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Qf.primary=Qf[5];var Jf=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Jf.primary=Jf[5];const Zf=e=>{let t=e,n=e,r=e,a=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?a=4:e>=8&&(a=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:a}};const qf=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};const Kf=e=>{const t=function(e){const t=Array.from({length:10}).map(((t,n)=>{const r=n-1,a=e*Math.pow(Math.E,r/5),i=n>1?Math.floor(a):Math.ceil(a);return 2*Math.floor(i/2)}));return t[1]=e,t.map((e=>{return{size:e,lineHeight:(t=e,(t+8)/t)};var t}))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),a=n[1],i=n[0],s=n[2],o=r[1],l=r[0],u=r[2];return{fontSizeSM:i,fontSize:a,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:o,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(o*a),fontHeightLG:Math.round(u*s),fontHeightSM:Math.round(l*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const Xf=(e,t)=>new gf(e).setA(t).toRgbString(),ed=(e,t)=>new gf(e).darken(t).toHexString(),td=e=>{const t=xf(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},nd=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Xf(r,.88),colorTextSecondary:Xf(r,.65),colorTextTertiary:Xf(r,.45),colorTextQuaternary:Xf(r,.25),colorFill:Xf(r,.15),colorFillSecondary:Xf(r,.06),colorFillTertiary:Xf(r,.04),colorFillQuaternary:Xf(r,.02),colorBgSolid:Xf(r,1),colorBgSolidHover:Xf(r,.75),colorBgSolidActive:Xf(r,.95),colorBgLayout:ed(n,4),colorBgContainer:ed(n,0),colorBgElevated:ed(n,0),colorBgSpotlight:Xf(r,.85),colorBgBlur:"transparent",colorBorder:ed(n,15),colorBorderSecondary:ed(n,6)}};const rd=function(e){var t=Array.isArray(e)?e:[e];return Eu.has(t)||Eu.set(t,new Mu(t)),Eu.get(t)}((function(e){kf.pink=kf.magenta,_f.pink=_f.magenta;const t=Object.keys(lf).map((t=>{const n=e[t]===kf[t]?_f[t]:xf(e[t]);return Array.from({length:10},(()=>1)).reduce(((e,r,a)=>(e[`${t}-${a+1}`]=n[a],e[`${t}${a+1}`]=n[a],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:a,colorWarning:i,colorError:s,colorInfo:o,colorPrimary:l,colorBgBase:u,colorTextBase:c}=e,f=n(l),d=n(a),h=n(i),p=n(s),m=n(o),g=r(u,c),y=n(e.colorLink||e.colorInfo),b=new gf(p[1]).mix(new gf(p[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:b,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new gf("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:td,generateNeutralColorPalettes:nd})),Kf(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),qf(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:a}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:a+1},Zf(r))}(e))})),ad=rd;function id(e){return e>=0&&e<=255}const sd=function(e,t){const{r:n,g:r,b:a,a:i}=new gf(e).toRgb();if(i<1)return e;const{r:s,g:o,b:l}=new gf(t).toRgb();for(let u=.01;u<=1;u+=.01){const e=Math.round((n-s*(1-u))/u),t=Math.round((r-o*(1-u))/u),i=Math.round((a-l*(1-u))/u);if(id(e)&&id(t)&&id(i))return new gf({r:e,g:t,b:i,a:Math.round(100*u)/100}).toRgbString()}return new gf({r:n,g:r,b:a,a:1}).toRgbString()};var od=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ld(e){const{override:t}=e,n=od(e,["override"]),r=Object.assign({},t);Object.keys(uf).forEach((e=>{delete r[e]}));const a=Object.assign(Object.assign({},n),r),i=1200,s=1600;if(!1===a.motion){const e="0s";a.motionDurationFast=e,a.motionDurationMid=e,a.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:sd(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:sd(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:sd(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:3*a.lineWidth,lineWidth:a.lineWidth,controlOutlineWidth:2*a.lineWidth,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:sd(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:i,screenXLMin:i,screenXLMax:1599,screenXXL:s,screenXXLMin:s,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new gf("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new gf("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new gf("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var ud=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const cd={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},fd={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},dd={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},hd=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:a}=t,i=ud(t,["override"]);let s=Object.assign(Object.assign({},r),{override:a});return s=ld(s),i&&Object.entries(i).forEach((e=>{let[t,n]=e;const{theme:r}=n,a=ud(n,["theme"]);let i=a;r&&(i=hd(Object.assign(Object.assign({},s),a),{override:a},r)),s[t]=i})),s};function pd(){const{token:e,hashed:t,theme:n,override:r,cssVar:a}=E.useContext(ff),i=`5.24.9-${t||""}`,s=n||ad,[o,l,u]=ec(s,[uf,e],{salt:i,override:r,getComputedToken:hd,formatToken:ld,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:cd,ignore:fd,preserve:dd}});return[s,u,t?l:"",o,a]}const md=["xxl","xl","lg","md","sm","xs"],gd=()=>{const[,e]=pd(),t=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(md).reverse();return n.forEach(((e,r)=>{const a=e.toUpperCase(),i=`screen${a}Min`,s=`screen${a}`;if(!(t[i]<=t[s]))throw new Error(`${i}<=${s} fails : !(${t[i]}<=${t[s]})`);if(r<n.length-1){const e=`screen${a}Max`;if(!(t[s]<=t[e]))throw new Error(`${s}<=${e} fails : !(${t[s]}<=${t[e]})`);const i=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[i]))throw new Error(`${e}<=${i} fails : !(${t[e]}<=${t[i]})`)}})),e})(e));return E.useMemo((()=>{const e=new Map;let n=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:t=>(r=t,e.forEach((e=>e(r))),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(r),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.keys(t).forEach((e=>{const n=t[e],a=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},r),{[e]:n}))},i=window.matchMedia(n);i.addListener(a),this.matchHandlers[n]={mql:i,listener:a},a(i)}))},unregister(){Object.keys(t).forEach((e=>{const n=t[e],r=this.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),e.clear()}}}),[e])},yd="anticon",bd=E.createContext({getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:yd}),{Consumer:vd}=bd,wd={};function xd(e){const t=E.useContext(bd),{getPrefixCls:n,direction:r,getPopupContainer:a}=t,i=t[e];return Object.assign(Object.assign({classNames:wd,styles:wd},i),{getPrefixCls:n,direction:r,getPopupContainer:a})}const kd=e=>{const[,,,,t]=pd();return t?`${e}-css-var`:""},Cd=E.createContext(void 0),Nd=Cd,Id=e=>{const t=E.useContext(Nd);return E.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:t:"function"===typeof e?e(t):t:t),[e,t])};const Sd=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,E.useRef)(t),r=function(){const[,e]=E.useReducer((e=>e+1),0);return e}(),a=gd();return Wu((()=>{const t=a.subscribe((t=>{n.current=t,e&&r()}));return()=>a.unsubscribe(t)}),[]),n.current},Md=E.createContext({}),Ed=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}};const Ld=_l((function e(){jl(this,e)}));var Td="CALC_UNIT",Ad=new RegExp(Td,"g");function Dd(e){return"number"===typeof e?"".concat(e).concat(Td):e}var Rd=function(e){Fl(n,e);var t=Ul(n);function n(e,r){var a;jl(this,n),Jo(Bl(a=t.call(this)),"result",""),Jo(Bl(a),"unitlessCssVar",void 0),Jo(Bl(a),"lowPriority",void 0);var i=Oo(e);return a.unitlessCssVar=r,e instanceof n?a.result="(".concat(e.result,")"):"number"===i?a.result=Dd(e):"string"===i&&(a.result=e),a}return _l(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(Dd(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(Dd(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"===typeof n?r=n:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(r=!1),this.result=this.result.replace(Ad,r?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(Ld);const jd=function(e){Fl(n,e);var t=Ul(n);function n(e){var r;return jl(this,n),Jo(Bl(r=t.call(this)),"result",0),e instanceof n?r.result=e.result:"number"===typeof e&&(r.result=e),r}return _l(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(Ld);const Od=function(e,t){var n="css"===e?Rd:jd;return function(e){return new n(e,t)}};const _d=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function $d(e){var t=E.useRef();t.current=e;var n=E.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function Fd(e){var t=E.useRef(!1),n=Xl(E.useState(e),2),r=n[0],a=n[1];return E.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||a(e)}]}function zd(e){return void 0!==e}function Pd(e,t){var n=t||{},r=n.defaultValue,a=n.value,i=n.onChange,s=n.postState,o=Xl(Fd((function(){return zd(a)?a:zd(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=o[0],u=o[1],c=void 0!==a?a:l,f=s?s(c):c,d=$d(i),h=Xl(Fd([c]),2),p=h[0],m=h[1];return Uu((function(){var e=p[0];l!==e&&d(l,e)}),[p]),Uu((function(){zd(a)||u(a)}),[a]),[f,$d((function(e,t){u(e,t),m([c],t)}))]}function Bd(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Ud(e,t,n,r){if(!t.length)return n;var a,i=function(e){return Jl(e)||eu(e)||ql(e)||Kl()}(t),s=i[0],o=i.slice(1);return a=e||"number"!==typeof s?Array.isArray(e)?tu(e):qo({},e):[],r&&void 0===n&&1===o.length?delete a[s][o[0]]:a[s]=Ud(a[s],o,n,r),a}function Wd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Bd(e,t.slice(0,-1))?e:Ud(e,t,n,r)}function Vd(e){return Array.isArray(e)?[]:{}}var Gd="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function Hd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Vd(t[0]);return t.forEach((function(e){!function t(n,a){var i,s=new Set(a),o=Bd(e,n),l=Array.isArray(o);if(l||"object"===Oo(i=o)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!s.has(o)){s.add(o);var u=Bd(r,n);l?r=Wd(r,n,[]):u&&"object"===Oo(u)||(r=Wd(r,n,Vd(o))),Gd(o).forEach((function(e){t([].concat(tu(n),[e]),s)}))}}else r=Wd(r,n,o)}([])})),r}const Yd=function(e,t,n,r){var a=qo({},t[e]);null!==r&&void 0!==r&&r.deprecatedTokens&&r.deprecatedTokens.forEach((function(e){var t,n=Xl(e,2),r=n[0],i=n[1];(null!==a&&void 0!==a&&a[r]||null!==a&&void 0!==a&&a[i])&&(null!==(t=a[i])&&void 0!==t||(a[i]=null===a||void 0===a?void 0:a[r]))}));var i=qo(qo({},n),a);return Object.keys(i).forEach((function(e){i[e]===t[e]&&delete i[e]})),i};var Qd="undefined"!==typeof CSSINJS_STATISTIC,Jd=!0;function Zd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Qd)return Object.assign.apply(Object,[{}].concat(t));Jd=!1;var r={};return t.forEach((function(e){"object"===Oo(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),Jd=!0,r}var qd={};function Kd(){}const Xd=function(e){var t,n=e,r=Kd;return Qd&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;Jd&&(null===(r=t)||void 0===r||r.add(n));return e[n]}}),r=function(e,n){var r;qd[e]={global:Array.from(t),component:qo(qo({},null===(r=qd[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};const eh=function(e,t,n){var r;return"function"===typeof n?n(Zd(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}};const th=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((function(e){return Ou(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((function(e){return Ou(e)})).join(","),")")}}};var nh=function(){function e(){jl(this,e),Jo(this,"map",new Map),Jo(this,"objectIDMap",new WeakMap),Jo(this,"nextID",0),Jo(this,"lastAccessBeat",new Map),Jo(this,"accessBeat",0)}return _l(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map((function(e){return e&&"object"===Oo(e)?"obj_".concat(t.getObjectID(e)):"".concat(Oo(e),"_").concat(e)})).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))})),this.accessBeat=0}}}]),e}(),rh=new nh;const ah=function(e,t){return E.useMemo((function(){var n=rh.get(t);if(n)return n;var r=e();return rh.set(t,r),r}),t)};const ih=function(){return{}};const sh=function(e){var t=e.useCSP,n=void 0===t?ih:t,r=e.useToken,a=e.usePrefix,i=e.getResetStyles,s=e.getCommonStyle,o=e.getCompUnitless;function l(t,o,l){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Array.isArray(t)?t:[t,t],f=Xl(c,1)[0],d=c.join("-"),h=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,c=r(),p=c.theme,m=c.realToken,g=c.hashId,y=c.token,b=c.cssVar,v=a(),w=v.rootPrefixCls,x=v.iconPrefixCls,k=n(),C=b?"css":"js",N=ah((function(){var e=new Set;return b&&Object.keys(u.unitless||{}).forEach((function(t){e.add($u(t,b.prefix)),e.add($u(t,_d(f,b.prefix)))})),Od(C,e)}),[C,f,null===b||void 0===b?void 0:b.prefix]),I=th(C),S=I.max,M=I.min,E={theme:p,token:y,hashId:g,nonce:function(){return k.nonce},clientOnly:u.clientOnly,layer:h,order:u.order||-999};return"function"===typeof i&&ef(qo(qo({},E),{},{clientOnly:!1,path:["Shared",w]}),(function(){return i(y,{prefix:{rootPrefixCls:w,iconPrefixCls:x},csp:k})})),[ef(qo(qo({},E),{},{path:[d,e,x]}),(function(){if(!1===u.injectStyle)return[];var n=Xd(y),r=n.token,a=n.flush,i=eh(f,m,l),c=".".concat(e),d=Yd(f,m,i,{deprecatedTokens:u.deprecatedTokens});b&&i&&"object"===Oo(i)&&Object.keys(i).forEach((function(e){i[e]="var(".concat($u(e,_d(f,b.prefix)),")")}));var h=Zd(r,{componentCls:c,prefixCls:e,iconCls:".".concat(x),antCls:".".concat(w),calc:N,max:S,min:M},b?i:d),p=o(h,{hashId:g,prefixCls:e,rootPrefixCls:w,iconPrefixCls:x});a(f,d);var v="function"===typeof s?s(h,e,t,u.resetFont):null;return[!1===u.resetStyle?null:v,p]})),g]}}return{genStyleHooks:function(e,t,n,a){var i=Array.isArray(e)?e[0]:e;function s(e){return"".concat(String(i)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var u=(null===a||void 0===a?void 0:a.unitless)||{},c=qo(qo({},"function"===typeof o?o(e):{}),{},Jo({},s("zIndexPopup"),!0));Object.keys(u).forEach((function(e){c[s(e)]=u[e]}));var f=qo(qo({},a),{},{unitless:c,prefixToken:s}),d=l(e,t,n,f),h=function(e,t,n){var a=n.unitless,i=n.injectStyle,s=void 0===i||i,o=n.prefixToken,l=n.ignore,u=function(i){var s=i.rootCls,u=i.cssVar,c=void 0===u?{}:u,f=r().realToken;return nf({path:[e],prefix:c.prefix,key:c.key,unitless:a,ignore:l,token:f,scope:s},(function(){var r=eh(e,f,t),a=Yd(e,f,r,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(r).forEach((function(e){a[o(e)]=a[e],delete a[e]})),a})),null},c=function(t){var n=r().cssVar;return[function(r){return s&&n?E.createElement(E.Fragment,null,E.createElement(u,{rootCls:t,cssVar:n,component:e}),r):r},null===n||void 0===n?void 0:n.key]};return c}(i,n,f);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=Xl(d(e,t),2)[1],r=Xl(h(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=l(e,t,n,qo({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:l}},{genStyleHooks:oh,genComponentStyleHook:lh,genSubStyleComponent:uh}=sh({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,E.useContext)(bd);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,a]=pd();return{theme:e,realToken:t,hashId:n,token:r,cssVar:a}},useCSP:()=>{const{csp:e}=(0,E.useContext)(bd);return null!==e&&void 0!==e?e:{}},getResetStyles:(e,t)=>{var n;const r=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[r,{"&":r},(a=null!==(n=null===t||void 0===t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:yd,{[`.${a}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${a} .${a}-icon`]:{display:"block"}})})];var a},getCommonStyle:(e,t,n,r)=>{const a=`[class^="${t}"], [class*=" ${t}"]`,i=n?`.${n}`:a,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let o={};return!1!==r&&(o={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},o),s),{[a]:s})}},getCompUnitless:()=>cd}),ch=e=>{const{antCls:t,componentCls:n,iconCls:r,avatarBg:a,avatarColor:i,containerSize:s,containerSizeLG:o,containerSizeSM:l,textFontSize:u,textFontSizeLG:c,textFontSizeSM:f,borderRadius:d,borderRadiusLG:h,borderRadiusSM:p,lineWidth:m,lineType:g}=e,y=(e,t,a)=>({width:e,height:e,borderRadius:"50%",[`&${n}-square`]:{borderRadius:a},[`&${n}-icon`]:{fontSize:t,[`> ${r}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ed(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${Ou(m)} ${g} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),y(s,u,d)),{"&-lg":Object.assign({},y(o,c,h)),"&-sm":Object.assign({},y(l,f,p)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},fh=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:r,groupSpace:a}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:a}}}},dh=oh("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,r=Zd(e,{avatarBg:n,avatarColor:t});return[ch(r),fh(r)]}),(e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:r,fontSize:a,fontSizeLG:i,fontSizeXL:s,fontSizeHeading3:o,marginXS:l,marginXXS:u,colorBorderBg:c}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:r,textFontSize:Math.round((i+s)/2),textFontSizeLG:o,textFontSizeSM:a,groupSpace:u,groupOverlapping:-l,groupBorderColor:c}}));var hh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const ph=E.forwardRef(((e,t)=>{const{prefixCls:n,shape:r,size:a,src:i,srcSet:s,icon:o,className:l,rootClassName:u,style:c,alt:f,draggable:d,children:h,crossOrigin:p,gap:m=4,onError:g}=e,y=hh(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","style","alt","draggable","children","crossOrigin","gap","onError"]),[b,v]=E.useState(1),[w,x]=E.useState(!1),[k,C]=E.useState(!0),N=E.useRef(null),I=E.useRef(null),S=al(t,N),{getPrefixCls:M,avatar:L}=E.useContext(bd),T=E.useContext(Md),A=()=>{if(!I.current||!N.current)return;const e=I.current.offsetWidth,t=N.current.offsetWidth;0!==e&&0!==t&&2*m<t&&v(t-2*m<e?(t-2*m)/e:1)};E.useEffect((()=>{x(!0)}),[]),E.useEffect((()=>{C(!0),v(1)}),[i]),E.useEffect(A,[m]);const D=()=>{!1!==(null===g||void 0===g?void 0:g())&&C(!1)},R=Id((e=>{var t,n;return null!==(n=null!==(t=null!==a&&void 0!==a?a:null===T||void 0===T?void 0:T.size)&&void 0!==t?t:e)&&void 0!==n?n:"default"})),j=Object.keys("object"===typeof R&&R||{}).some((e=>["xs","sm","md","lg","xl","xxl"].includes(e))),O=Sd(j),_=E.useMemo((()=>{if("object"!==typeof R)return{};const e=md.find((e=>O[e])),t=R[e];return t?{width:t,height:t,fontSize:t&&(o||h)?t/2:18}:{}}),[O,R]);const $=M("avatar",n),F=kd($),[z,P,B]=dh($,F),U=go()({[`${$}-lg`]:"large"===R,[`${$}-sm`]:"small"===R}),W=E.isValidElement(i),V=r||(null===T||void 0===T?void 0:T.shape)||"circle",G=go()($,U,null===L||void 0===L?void 0:L.className,`${$}-${V}`,{[`${$}-image`]:W||i&&k,[`${$}-icon`]:!!o},B,F,l,u,P),H="number"===typeof R?{width:R,height:R,fontSize:o?R/2:18}:{};let Y;if("string"===typeof i&&k)Y=E.createElement("img",{src:i,draggable:d,srcSet:s,onError:D,alt:f,crossOrigin:p});else if(W)Y=i;else if(o)Y=o;else if(w||1!==b){const e=`scale(${b})`,t={msTransform:e,WebkitTransform:e,transform:e};Y=E.createElement(Ql,{onResize:A},E.createElement("span",{className:`${$}-string`,ref:I,style:Object.assign({},t)},h))}else Y=E.createElement("span",{className:`${$}-string`,style:{opacity:0},ref:I},h);return z(E.createElement("span",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign(Object.assign({},H),_),null===L||void 0===L?void 0:L.style),c),className:G,ref:S}),Y))}));const mh=ph;function gh(e,t){return((e,t,n)=>E.isValidElement(e)?E.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t)(e,e,t)}var yh={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=yh.F1&&t<=yh.F12)return!1;switch(t){case yh.ALT:case yh.CAPS_LOCK:case yh.CONTEXT_MENU:case yh.CTRL:case yh.DOWN:case yh.END:case yh.ESC:case yh.HOME:case yh.INSERT:case yh.LEFT:case yh.MAC_FF_META:case yh.META:case yh.NUMLOCK:case yh.NUM_CENTER:case yh.PAGE_DOWN:case yh.PAGE_UP:case yh.PAUSE:case yh.PRINT_SCREEN:case yh.RIGHT:case yh.SHIFT:case yh.UP:case yh.WIN_KEY:case yh.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=yh.ZERO&&e<=yh.NINE)return!0;if(e>=yh.NUM_ZERO&&e<=yh.NUM_MULTIPLY)return!0;if(e>=yh.A&&e<=yh.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case yh.SPACE:case yh.QUESTION_MARK:case yh.NUM_PLUS:case yh.NUM_MINUS:case yh.NUM_PERIOD:case yh.NUM_DIVISION:case yh.SEMICOLON:case yh.DASH:case yh.EQUALS:case yh.COMMA:case yh.PERIOD:case yh.SLASH:case yh.APOSTROPHE:case yh.SINGLE_QUOTE:case yh.OPEN_SQUARE_BRACKET:case yh.BACKSLASH:case yh.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const bh=yh,vh=e=>e?"function"===typeof e?e():e:null,wh=(e,t,n)=>void 0!==n?n:`${e}-${t}`;function xh(e){var t=e.children,n=e.prefixCls,r=e.id,a=e.overlayInnerStyle,i=e.bodyClassName,s=e.className,o=e.style;return E.createElement("div",{className:go()("".concat(n,"-content"),s),style:o},E.createElement("div",{className:go()("".concat(n,"-inner"),i),id:r,role:"tooltip",style:a},"function"===typeof t?t():t))}function kh(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Ch(e,t){if(null==e)return{};var n,r,a=kh(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Nh=E.createContext(null);var Ih=[];function Sh(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,a,i=n.style;if(i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll",e){var s=getComputedStyle(e);i.scrollbarColor=s.scrollbarColor,i.scrollbarWidth=s.scrollbarWidth;var o=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(o.width,10),u=parseInt(o.height,10);try{var c=l?"width: ".concat(o.width,";"):"",f=u?"height: ".concat(o.height,";"):"";hu("\n#".concat(t,"::-webkit-scrollbar {\n").concat(c,"\n").concat(f,"\n}"),t)}catch(Lae){console.error(Lae),r=l,a=u}}document.body.appendChild(n);var d=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),du(t),{width:d,height:h}}var Mh="rc-util-locker-".concat(Date.now()),Eh=0;function Lh(e){var t=!!e,n=Xl(E.useState((function(){return Eh+=1,"".concat(Mh,"_").concat(Eh)})),1)[0];Wu((function(){if(t){var e=(a=document.body,"undefined"!==typeof document&&a&&a instanceof Element?Sh(a):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;hu("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else du(n);var a;return function(){du(n)}}),[t,n])}var Th=!1;var Ah=function(e){return!1!==e&&(ru()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},Dh=E.forwardRef((function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,o=e.children,l=Xl(E.useState(n),2),u=l[0],c=l[1],f=u||n;E.useEffect((function(){(s||n)&&c(n)}),[n,s]);var d=Xl(E.useState((function(){return Ah(a)})),2),h=d[0],p=d[1];E.useEffect((function(){var e=Ah(a);p(null!==e&&void 0!==e?e:null)}));var m=function(e){var t=Xl(E.useState((function(){return ru()?document.createElement("div"):null})),1)[0],n=E.useRef(!1),r=E.useContext(Nh),a=Xl(E.useState(Ih),2),i=a[0],s=a[1],o=r||(n.current?void 0:function(e){s((function(t){return[e].concat(tu(t))}))});function l(){t.parentElement||document.body.appendChild(t),n.current=!0}function u(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return Wu((function(){return e?r?r(l):l():u(),u}),[e]),Wu((function(){i.length&&(i.forEach((function(e){return e()})),s(Ih))}),[i]),[t,o]}(f&&!h),g=Xl(m,2),y=g[0],b=g[1],v=null!==h&&void 0!==h?h:y;Lh(r&&n&&ru()&&(v===y||v===document.body));var w=null;o&&sl(o)&&t&&(w=o.ref);var x=il(w,t);if(!f||!ru()||void 0===h)return null;var k,C=!1===v||("boolean"===typeof k&&(Th=k),Th),N=o;return t&&(N=E.cloneElement(o,{ref:x})),E.createElement(Nh.Provider,{value:b},C?N:(0,Ko.createPortal)(N,v))}));const Rh=Dh;function jh(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Oh(e){return function(e){return jh(e)instanceof ShadowRoot}(e)?jh(e):null}var _h=0;var $h=qo({},L).useId;const Fh=$h?function(e){var t=$h();return e||t}:function(e){var t=Xl(E.useState("ssr-id"),2),n=t[0],r=t[1];return E.useEffect((function(){var e=_h;_h+=1,r("rc_unique_".concat(e))}),[]),e||n};var zh=E.createContext({});var Ph=function(e){Fl(n,e);var t=Ul(n);function n(){return jl(this,n),t.apply(this,arguments)}return _l(n,[{key:"render",value:function(){return this.props.children}}]),n}(E.Component);const Bh=Ph;var Uh="none",Wh="appear",Vh="enter",Gh="leave",Hh="none",Yh="prepare",Qh="start",Jh="active",Zh="end",qh="prepared";function Kh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Xh=function(e,t){var n={animationend:Kh("Animation","AnimationEnd"),transitionend:Kh("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ru(),"undefined"!==typeof window?window:{}),ep={};if(ru()){var tp=document.createElement("div");ep=tp.style}var np={};function rp(e){if(np[e])return np[e];var t=Xh[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var i=n[a];if(Object.prototype.hasOwnProperty.call(t,i)&&i in ep)return np[e]=t[i],np[e]}return""}var ap=rp("animationend"),ip=rp("transitionend"),sp=!(!ap||!ip),op=ap||"animationend",lp=ip||"transitionend";function up(e,t){if(!e)return null;if("object"===Oo(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const cp=ru()?E.useLayoutEffect:E.useEffect;var fp=function(e){return+setTimeout(e,16)},dp=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(fp=function(e){return window.requestAnimationFrame(e)},dp=function(e){return window.cancelAnimationFrame(e)});var hp=0,pp=new Map;function mp(e){pp.delete(e)}var gp=function(e){var t=hp+=1;return function n(r){if(0===r)mp(t),e();else{var a=fp((function(){n(r-1)}));pp.set(t,a)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};gp.cancel=function(e){var t=pp.get(e);return mp(e),dp(t)};const yp=gp;var bp=[Yh,Qh,Jh,Zh],vp=[Yh,qh],wp=!1;function xp(e){return e===Jh||e===Zh}const kp=function(e,t,n){var r=Xl(Fd(Hh),2),a=r[0],i=r[1],s=function(){var e=E.useRef(null);function t(){yp.cancel(e.current)}return E.useEffect((function(){return function(){t()}}),[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=yp((function(){a<=1?r({isCanceled:function(){return i!==e.current}}):n(r,a-1)}));e.current=i},t]}(),o=Xl(s,2),l=o[0],u=o[1];var c=t?vp:bp;return cp((function(){if(a!==Hh&&a!==Zh){var e=c.indexOf(a),t=c[e+1],r=n(a);r===wp?i(t,!0):t&&l((function(e){function n(){e.isCanceled()||i(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,a]),E.useEffect((function(){return function(){u()}}),[]),[function(){i(Yh,!0)},a]};function Cp(e,t,n,r){var a=r.motionEnter,i=void 0===a||a,s=r.motionAppear,o=void 0===s||s,l=r.motionLeave,u=void 0===l||l,c=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,m=r.onAppearStart,g=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,v=r.onEnterActive,w=r.onLeaveActive,x=r.onAppearEnd,k=r.onEnterEnd,C=r.onLeaveEnd,N=r.onVisibleChanged,I=Xl(Fd(),2),S=I[0],M=I[1],L=function(e){var t=E.useReducer((function(e){return e+1}),0),n=Xl(t,2)[1],r=E.useRef(e);return[$d((function(){return r.current})),$d((function(e){r.current="function"===typeof e?e(r.current):e,n()}))]}(Uh),T=Xl(L,2),A=T[0],D=T[1],R=Xl(Fd(null),2),j=R[0],O=R[1],_=A(),$=(0,E.useRef)(!1),F=(0,E.useRef)(null);function z(){return n()}var P=(0,E.useRef)(!1);function B(){D(Uh),O(null,!0)}var U=$d((function(e){var t=A();if(t!==Uh){var n=z();if(!e||e.deadline||e.target===n){var r,a=P.current;t===Wh&&a?r=null===x||void 0===x?void 0:x(n,e):t===Vh&&a?r=null===k||void 0===k?void 0:k(n,e):t===Gh&&a&&(r=null===C||void 0===C?void 0:C(n,e)),a&&!1!==r&&B()}}})),W=function(e){var t=(0,E.useRef)();function n(t){t&&(t.removeEventListener(lp,e),t.removeEventListener(op,e))}return E.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(lp,e),r.addEventListener(op,e),t.current=r)},n]}(U),V=Xl(W,1)[0],G=function(e){switch(e){case Wh:return Jo(Jo(Jo({},Yh,d),Qh,m),Jh,b);case Vh:return Jo(Jo(Jo({},Yh,h),Qh,g),Jh,v);case Gh:return Jo(Jo(Jo({},Yh,p),Qh,y),Jh,w);default:return{}}},H=E.useMemo((function(){return G(_)}),[_]),Y=Xl(kp(_,!e,(function(e){if(e===Yh){var t=H[Yh];return t?t(z()):wp}var n;J in H&&O((null===(n=H[J])||void 0===n?void 0:n.call(H,z(),null))||null);return J===Jh&&_!==Uh&&(V(z()),c>0&&(clearTimeout(F.current),F.current=setTimeout((function(){U({deadline:!0})}),c))),J===qh&&B(),true})),2),Q=Y[0],J=Y[1],Z=xp(J);P.current=Z;var q=(0,E.useRef)(null);cp((function(){if(!$.current||q.current!==t){M(t);var n,r=$.current;$.current=!0,!r&&t&&o&&(n=Wh),r&&t&&i&&(n=Vh),(r&&!t&&u||!r&&f&&!t&&u)&&(n=Gh);var a=G(n);n&&(e||a[Yh])?(D(n),Q()):D(Uh),q.current=t}}),[t]),(0,E.useEffect)((function(){(_===Wh&&!o||_===Vh&&!i||_===Gh&&!u)&&D(Uh)}),[o,i,u]),(0,E.useEffect)((function(){return function(){$.current=!1,clearTimeout(F.current)}}),[]);var K=E.useRef(!1);(0,E.useEffect)((function(){S&&(K.current=!0),void 0!==S&&_===Uh&&((K.current||S)&&(null===N||void 0===N||N(S)),K.current=!0)}),[S,_]);var X=j;return H[Yh]&&J===Qh&&(X=qo({transition:"none"},X)),[_,J,X,null!==S&&void 0!==S?S:t]}const Np=function(e){var t=e;"object"===Oo(e)&&(t=e.transitionSupport);var n=E.forwardRef((function(e,n){var r=e.visible,a=void 0===r||r,i=e.removeOnLeave,s=void 0===i||i,o=e.forceRender,l=e.children,u=e.motionName,c=e.leavedClassName,f=e.eventProps,d=function(e,n){return!(!e.motionName||!t||!1===n)}(e,E.useContext(zh).motion),h=(0,E.useRef)(),p=(0,E.useRef)();var m=Xl(Cp(d,a,(function(){try{return h.current instanceof HTMLElement?h.current:el(p.current)}catch(Lae){return null}}),e),4),g=m[0],y=m[1],b=m[2],v=m[3],w=E.useRef(v);v&&(w.current=!0);var x,k=E.useCallback((function(e){h.current=e,rl(n,e)}),[n]),C=qo(qo({},f),{},{visible:a});if(l)if(g===Uh)x=v?l(qo({},C),k):!s&&w.current&&c?l(qo(qo({},C),{},{className:c}),k):o||!s&&!c?l(qo(qo({},C),{},{style:{display:"none"}}),k):null;else{var N;y===Yh?N="prepare":xp(y)?N="active":y===Qh&&(N="start");var I=up(u,"".concat(g,"-").concat(N));x=l(qo(qo({},C),{},{className:go()(up(u,g),Jo(Jo({},I,I&&N),u,"string"===typeof u)),style:b}),k)}else x=null;E.isValidElement(x)&&sl(x)&&(ll(x)||(x=E.cloneElement(x,{ref:k})));return E.createElement(Bh,{ref:p},x)}));return n.displayName="CSSMotion",n}(sp);var Ip="add",Sp="keep",Mp="remove",Ep="removed";function Lp(e){var t;return qo(qo({},t=e&&"object"===Oo(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Tp(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Lp)}var Ap=["component","children","onVisibleChanged","onAllRemoved"],Dp=["status"],Rp=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Np,t=function(t){Fl(r,t);var n=Ul(r);function r(){var e;jl(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return Jo(Bl(e=n.call.apply(n,[this].concat(a))),"state",{keyEntities:[]}),Jo(Bl(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:qo(qo({},e),{},{status:Ep})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==Ep})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return _l(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,a=r.component,i=r.children,s=r.onVisibleChanged,o=(r.onAllRemoved,Ch(r,Ap)),l=a||E.Fragment,u={};return Rp.forEach((function(e){u[e]=o[e],delete o[e]})),delete o.keys,E.createElement(l,o,n.map((function(n,r){var a=n.status,o=Ch(n,Dp),l=a===Ip||a===Sp;return E.createElement(e,jo({},u,{key:o.key,visible:l,eventProps:o,onVisibleChanged:function(e){null===s||void 0===s||s(e,{key:o.key}),e||t.removeKey(o.key)}}),(function(e,t){return i(qo(qo({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=Tp(n),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,i=Tp(e),s=Tp(t);i.forEach((function(e){for(var t=!1,i=r;i<a;i+=1){var o=s[i];if(o.key===e.key){r<i&&(n=n.concat(s.slice(r,i).map((function(e){return qo(qo({},e),{},{status:Ip})}))),r=i),n.push(qo(qo({},o),{},{status:Sp})),r+=1,t=!0;break}}t||n.push(qo(qo({},e),{},{status:Mp}))})),r<a&&(n=n.concat(s.slice(r).map((function(e){return qo(qo({},e),{},{status:Ip})}))));var o={};return n.forEach((function(e){var t=e.key;o[t]=(o[t]||0)+1})),Object.keys(o).filter((function(e){return o[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Mp}))).forEach((function(t){t.key===e&&(t.status=Sp)}))})),n}(r,a);return{keyEntities:i.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Ep||e.status!==Mp}))}}}]),r}(E.Component);Jo(t,"defaultProps",{component:"div"})}(sp);const jp=Np;function Op(e){var t=e.prefixCls,n=e.align,r=e.arrow,a=e.arrowPos,i=r||{},s=i.className,o=i.content,l=a.x,u=void 0===l?0:l,c=a.y,f=void 0===c?0:c,d=E.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],m=n.points[1],g=p[0],y=p[1],b=m[0],v=m[1];g!==b&&["t","b"].includes(g)?"t"===g?h.top=0:h.bottom=0:h.top=f,y!==v&&["l","r"].includes(y)?"l"===y?h.left=0:h.right=0:h.left=u}return E.createElement("div",{ref:d,className:go()("".concat(t,"-arrow"),s),style:h},o)}function _p(e){var t=e.prefixCls,n=e.open,r=e.zIndex,a=e.mask,i=e.motion;return a?E.createElement(jp,jo({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return E.createElement("div",{style:{zIndex:r},className:go()("".concat(t,"-mask"),n)})})):null}var $p=E.memo((function(e){return e.children}),(function(e,t){return t.cache}));const Fp=$p;var zp=E.forwardRef((function(e,t){var n=e.popup,r=e.className,a=e.prefixCls,i=e.style,s=e.target,o=e.onVisibleChanged,l=e.open,u=e.keepDom,c=e.fresh,f=e.onClick,d=e.mask,h=e.arrow,p=e.arrowPos,m=e.align,g=e.motion,y=e.maskMotion,b=e.forceRender,v=e.getPopupContainer,w=e.autoDestroy,x=e.portal,k=e.zIndex,C=e.onMouseEnter,N=e.onMouseLeave,I=e.onPointerEnter,S=e.onPointerDownCapture,M=e.ready,L=e.offsetX,T=e.offsetY,A=e.offsetR,D=e.offsetB,R=e.onAlign,j=e.onPrepare,O=e.stretch,_=e.targetWidth,$=e.targetHeight,F="function"===typeof n?n():n,z=l||u,P=(null===v||void 0===v?void 0:v.length)>0,B=Xl(E.useState(!v||!P),2),U=B[0],W=B[1];if(Wu((function(){!U&&P&&s&&W(!0)}),[U,P,s]),!U)return null;var V="auto",G={left:"-1000vw",top:"-1000vh",right:V,bottom:V};if(M||!l){var H,Y=m.points,Q=m.dynamicInset||(null===(H=m._experimental)||void 0===H?void 0:H.dynamicInset),J=Q&&"r"===Y[0][1],Z=Q&&"b"===Y[0][0];J?(G.right=A,G.left=V):(G.left=L,G.right=V),Z?(G.bottom=D,G.top=V):(G.top=T,G.bottom=V)}var q={};return O&&(O.includes("height")&&$?q.height=$:O.includes("minHeight")&&$&&(q.minHeight=$),O.includes("width")&&_?q.width=_:O.includes("minWidth")&&_&&(q.minWidth=_)),l||(q.pointerEvents="none"),E.createElement(x,{open:b||z,getContainer:v&&function(){return v(s)},autoDestroy:w},E.createElement(_p,{prefixCls:a,open:l,zIndex:k,mask:d,motion:y}),E.createElement(Ql,{onResize:R,disabled:!l},(function(e){return E.createElement(jp,jo({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:j,onEnterPrepare:j,visible:l,onVisibleChanged:function(e){var t;null===g||void 0===g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),o(e)}}),(function(n,s){var o=n.className,u=n.style,d=go()(a,o,r);return E.createElement("div",{ref:al(e,t,s),className:d,style:qo(qo(qo(qo({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},G),q),u),{},{boxSizing:"border-box",zIndex:k},i),onMouseEnter:C,onMouseLeave:N,onPointerEnter:I,onClick:f,onPointerDownCapture:S},h&&E.createElement(Op,{prefixCls:a,arrow:h,arrowPos:p,align:m}),E.createElement(Fp,{cache:!l&&!c},F))}))})))}));const Pp=zp;var Bp=E.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=sl(n),i=E.useCallback((function(e){rl(t,r?r(e):e)}),[r]),s=il(i,ll(n));return a?E.cloneElement(n,{ref:s}):n}));const Up=Bp;const Wp=E.createContext(null);function Vp(e){return e?Array.isArray(e)?e:[e]:[]}function Gp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Hp(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Yp(e){return e.ownerDocument.defaultView}function Qp(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=Yp(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Jp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Zp(e){return Jp(parseFloat(e),0)}function qp(e,t){var n=qo({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Yp(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,i=t.borderTopWidth,s=t.borderBottomWidth,o=t.borderLeftWidth,l=t.borderRightWidth,u=e.getBoundingClientRect(),c=e.offsetHeight,f=e.clientHeight,d=e.offsetWidth,h=e.clientWidth,p=Zp(i),m=Zp(s),g=Zp(o),y=Zp(l),b=Jp(Math.round(u.width/d*1e3)/1e3),v=Jp(Math.round(u.height/c*1e3)/1e3),w=(d-h-g-y)*b,x=(c-f-p-m)*v,k=p*v,C=m*v,N=g*b,I=y*b,S=0,M=0;if("clip"===r){var E=Zp(a);S=E*b,M=E*v}var L=u.x+N-S,T=u.y+k-M,A=L+u.width+2*S-N-I-w,D=T+u.height+2*M-k-C-x;n.left=Math.max(n.left,L),n.top=Math.max(n.top,T),n.right=Math.min(n.right,A),n.bottom=Math.min(n.bottom,D)}})),n}function Kp(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Xp(e,t){var n=Xl(t||[],2),r=n[0],a=n[1];return[Kp(e.width,r),Kp(e.height,a)]}function em(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function tm(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function nm(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}function rm(e,t,n,r,a,i,s){var o=Xl(E.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),2),l=o[0],u=o[1],c=E.useRef(0),f=E.useMemo((function(){return t?Qp(t):[]}),[t]),d=E.useRef({});e||(d.current={});var h=$d((function(){if(t&&n&&e){var o,l,c,h,p,m=t,g=m.ownerDocument,y=Yp(m).getComputedStyle(m),b=y.width,v=y.height,w=y.position,x=m.style.left,k=m.style.top,C=m.style.right,N=m.style.bottom,I=m.style.overflow,S=qo(qo({},a[r]),i),M=g.createElement("div");if(null===(o=m.parentElement)||void 0===o||o.appendChild(M),M.style.left="".concat(m.offsetLeft,"px"),M.style.top="".concat(m.offsetTop,"px"),M.style.position=w,M.style.height="".concat(m.offsetHeight,"px"),M.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var E,L,T=n.getBoundingClientRect();T.x=null!==(E=T.x)&&void 0!==E?E:T.left,T.y=null!==(L=T.y)&&void 0!==L?L:T.top,p={x:T.x,y:T.y,width:T.width,height:T.height}}var A=m.getBoundingClientRect();A.x=null!==(l=A.x)&&void 0!==l?l:A.left,A.y=null!==(c=A.y)&&void 0!==c?c:A.top;var D=g.documentElement,R=D.clientWidth,j=D.clientHeight,O=D.scrollWidth,_=D.scrollHeight,$=D.scrollTop,F=D.scrollLeft,z=A.height,P=A.width,B=p.height,U=p.width,W={left:0,top:0,right:R,bottom:j},V={left:-F,top:-$,right:O-F,bottom:_-$},G=S.htmlRegion,H="visible",Y="visibleFirst";"scroll"!==G&&G!==Y&&(G=H);var Q=G===Y,J=qp(V,f),Z=qp(W,f),q=G===H?Z:J,K=Q?Z:q;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var X=m.getBoundingClientRect();m.style.left=x,m.style.top=k,m.style.right=C,m.style.bottom=N,m.style.overflow=I,null===(h=m.parentElement)||void 0===h||h.removeChild(M);var ee=Jp(Math.round(P/parseFloat(b)*1e3)/1e3),te=Jp(Math.round(z/parseFloat(v)*1e3)/1e3);if(0===ee||0===te||Xo(n)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),i=a.width,s=a.height;if(i||s)return!0}}return!1}(n))return;var ne=S.offset,re=S.targetOffset,ae=Xl(Xp(A,ne),2),ie=ae[0],se=ae[1],oe=Xl(Xp(p,re),2),le=oe[0],ue=oe[1];p.x-=le,p.y-=ue;var ce=Xl(S.points||[],2),fe=ce[0],de=em(ce[1]),he=em(fe),pe=tm(p,de),me=tm(A,he),ge=qo({},S),ye=pe.x-me.x+ie,be=pe.y-me.y+se;function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q,r=A.x+e,a=A.y+t,i=r+P,s=a+z,o=Math.max(r,n.left),l=Math.max(a,n.top),u=Math.min(i,n.right),c=Math.min(s,n.bottom);return Math.max(0,(u-o)*(c-l))}var ve,we,xe,ke,Ce=ft(ye,be),Ne=ft(ye,be,Z),Ie=tm(p,["t","l"]),Se=tm(A,["t","l"]),Me=tm(p,["b","r"]),Ee=tm(A,["b","r"]),Le=S.overflow||{},Te=Le.adjustX,Ae=Le.adjustY,De=Le.shiftX,Re=Le.shiftY,je=function(e){return"boolean"===typeof e?e:e>=0};function dt(){ve=A.y+be,we=ve+z,xe=A.x+ye,ke=xe+P}dt();var Oe=je(Ae),_e=he[0]===de[0];if(Oe&&"t"===he[0]&&(we>K.bottom||d.current.bt)){var $e=be;_e?$e-=z-B:$e=Ie.y-Ee.y-se;var Fe=ft(ye,$e),ze=ft(ye,$e,Z);Fe>Ce||Fe===Ce&&(!Q||ze>=Ne)?(d.current.bt=!0,be=$e,se=-se,ge.points=[nm(he,0),nm(de,0)]):d.current.bt=!1}if(Oe&&"b"===he[0]&&(ve<K.top||d.current.tb)){var Pe=be;_e?Pe+=z-B:Pe=Me.y-Se.y-se;var Be=ft(ye,Pe),Ue=ft(ye,Pe,Z);Be>Ce||Be===Ce&&(!Q||Ue>=Ne)?(d.current.tb=!0,be=Pe,se=-se,ge.points=[nm(he,0),nm(de,0)]):d.current.tb=!1}var We=je(Te),Ve=he[1]===de[1];if(We&&"l"===he[1]&&(ke>K.right||d.current.rl)){var Ge=ye;Ve?Ge-=P-U:Ge=Ie.x-Ee.x-ie;var He=ft(Ge,be),Ye=ft(Ge,be,Z);He>Ce||He===Ce&&(!Q||Ye>=Ne)?(d.current.rl=!0,ye=Ge,ie=-ie,ge.points=[nm(he,1),nm(de,1)]):d.current.rl=!1}if(We&&"r"===he[1]&&(xe<K.left||d.current.lr)){var Qe=ye;Ve?Qe+=P-U:Qe=Me.x-Se.x-ie;var Je=ft(Qe,be),Ze=ft(Qe,be,Z);Je>Ce||Je===Ce&&(!Q||Ze>=Ne)?(d.current.lr=!0,ye=Qe,ie=-ie,ge.points=[nm(he,1),nm(de,1)]):d.current.lr=!1}dt();var qe=!0===De?0:De;"number"===typeof qe&&(xe<Z.left&&(ye-=xe-Z.left-ie,p.x+U<Z.left+qe&&(ye+=p.x-Z.left+U-qe)),ke>Z.right&&(ye-=ke-Z.right-ie,p.x>Z.right-qe&&(ye+=p.x-Z.right+qe)));var Ke=!0===Re?0:Re;"number"===typeof Ke&&(ve<Z.top&&(be-=ve-Z.top-se,p.y+B<Z.top+Ke&&(be+=p.y-Z.top+B-Ke)),we>Z.bottom&&(be-=we-Z.bottom-se,p.y>Z.bottom-Ke&&(be+=p.y-Z.bottom+Ke)));var Xe=A.x+ye,et=Xe+P,tt=A.y+be,nt=tt+z,rt=p.x,at=rt+U,it=p.y,st=it+B,ot=(Math.max(Xe,rt)+Math.min(et,at))/2-Xe,lt=(Math.max(tt,it)+Math.min(nt,st))/2-tt;null===s||void 0===s||s(t,ge);var ut=X.right-A.x-(ye+A.width),ct=X.bottom-A.y-(be+A.height);1===ee&&(ye=Math.round(ye),ut=Math.round(ut)),1===te&&(be=Math.round(be),ct=Math.round(ct)),u({ready:!0,offsetX:ye/ee,offsetY:be/te,offsetR:ut/ee,offsetB:ct/te,arrowX:ot/ee,arrowY:lt/te,scaleX:ee,scaleY:te,align:ge})}})),p=function(){u((function(e){return qo(qo({},e),{},{ready:!1})}))};return Wu(p,[r]),Wu((function(){e||p()}),[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){c.current+=1;var e=c.current;Promise.resolve().then((function(){c.current===e&&h()}))}]}var am=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rh,t=E.forwardRef((function(t,n){var r=t.prefixCls,a=void 0===r?"rc-trigger-popup":r,i=t.children,s=t.action,o=void 0===s?"hover":s,l=t.showAction,u=t.hideAction,c=t.popupVisible,f=t.defaultPopupVisible,d=t.onPopupVisibleChange,h=t.afterPopupVisibleChange,p=t.mouseEnterDelay,m=t.mouseLeaveDelay,g=void 0===m?.1:m,y=t.focusDelay,b=t.blurDelay,v=t.mask,w=t.maskClosable,x=void 0===w||w,k=t.getPopupContainer,C=t.forceRender,N=t.autoDestroy,I=t.destroyPopupOnHide,S=t.popup,M=t.popupClassName,L=t.popupStyle,T=t.popupPlacement,A=t.builtinPlacements,D=void 0===A?{}:A,R=t.popupAlign,j=t.zIndex,O=t.stretch,_=t.getPopupClassNameFromAlign,$=t.fresh,F=t.alignPoint,z=t.onPopupClick,P=t.onPopupAlign,B=t.arrow,U=t.popupMotion,W=t.maskMotion,V=t.popupTransitionName,G=t.popupAnimation,H=t.maskTransitionName,Y=t.maskAnimation,Q=t.className,J=t.getTriggerDOMNode,Z=Ch(t,am),q=N||I||!1,K=Xl(E.useState(!1),2),X=K[0],ee=K[1];Wu((function(){ee(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[]);var te=E.useRef({}),ne=E.useContext(Wp),re=E.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}}),[ne]),ae=Fh(),ie=Xl(E.useState(null),2),se=ie[0],oe=ie[1],le=E.useRef(null),ue=$d((function(e){le.current=e,Xo(e)&&se!==e&&oe(e),null===ne||void 0===ne||ne.registerSubPopup(ae,e)})),ce=Xl(E.useState(null),2),fe=ce[0],de=ce[1],he=E.useRef(null),pe=$d((function(e){Xo(e)&&fe!==e&&(de(e),he.current=e)})),me=E.Children.only(i),ge=(null===me||void 0===me?void 0:me.props)||{},ye={},be=$d((function(e){var t,n,r=fe;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=Oh(r))||void 0===t?void 0:t.host)===e||e===r||(null===se||void 0===se?void 0:se.contains(e))||(null===(n=Oh(se))||void 0===n?void 0:n.host)===e||e===se||Object.values(te.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),ve=Hp(a,U,G,V),we=Hp(a,W,Y,H),xe=Xl(E.useState(f||!1),2),ke=xe[0],Ce=xe[1],Ne=null!==c&&void 0!==c?c:ke,Ie=$d((function(e){void 0===c&&Ce(e)}));Wu((function(){Ce(c||!1)}),[c]);var Se=E.useRef(Ne);Se.current=Ne;var Me=E.useRef([]);Me.current=[];var Ee=$d((function(e){var t;Ie(e),(null!==(t=Me.current[Me.current.length-1])&&void 0!==t?t:Ne)!==e&&(Me.current.push(e),null===d||void 0===d||d(e))})),Le=E.useRef(),Te=function(){clearTimeout(Le.current)},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Te(),0===t?Ee(e):Le.current=setTimeout((function(){Ee(e)}),1e3*t)};E.useEffect((function(){return Te}),[]);var De=Xl(E.useState(!1),2),Re=De[0],je=De[1];Wu((function(e){e&&!Ne||je(!0)}),[Ne]);var Oe=Xl(E.useState(null),2),_e=Oe[0],$e=Oe[1],Fe=Xl(E.useState(null),2),ze=Fe[0],Pe=Fe[1],Be=function(e){Pe([e.clientX,e.clientY])},Ue=Xl(rm(Ne,se,F&&null!==ze?ze:fe,T,D,R,P),11),We=Ue[0],Ve=Ue[1],Ge=Ue[2],He=Ue[3],Ye=Ue[4],Qe=Ue[5],Je=Ue[6],Ze=Ue[7],qe=Ue[8],Ke=Ue[9],Xe=Ue[10],et=function(e,t,n,r){return E.useMemo((function(){var a=Vp(null!==n&&void 0!==n?n:t),i=Vp(null!==r&&void 0!==r?r:t),s=new Set(a),o=new Set(i);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),o.has("hover")&&(o.delete("hover"),o.add("click"))),[s,o]}),[e,t,n,r])}(X,o,l,u),tt=Xl(et,2),nt=tt[0],rt=tt[1],at=nt.has("click"),it=rt.has("click")||rt.has("contextMenu"),st=$d((function(){Re||Xe()}));!function(e,t,n,r,a){Wu((function(){if(e&&t&&n){var i=n,s=Qp(t),o=Qp(i),l=Yp(i),u=new Set([l].concat(tu(s),tu(o)));function c(){r(),a()}return u.forEach((function(e){e.addEventListener("scroll",c,{passive:!0})})),l.addEventListener("resize",c,{passive:!0}),r(),function(){u.forEach((function(e){e.removeEventListener("scroll",c),l.removeEventListener("resize",c)}))}}}),[e,t,n])}(Ne,fe,se,st,(function(){Se.current&&F&&it&&Ae(!1)})),Wu((function(){st()}),[ze,T]),Wu((function(){!Ne||null!==D&&void 0!==D&&D[T]||st()}),[JSON.stringify(R)]);var ot=E.useMemo((function(){var e=function(e,t,n,r){for(var a=n.points,i=Object.keys(e),s=0;s<i.length;s+=1){var o,l=i[s];if(Gp(null===(o=e[l])||void 0===o?void 0:o.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(D,a,Ke,F);return go()(e,null===_||void 0===_?void 0:_(Ke))}),[Ke,_,D,a,F]);E.useImperativeHandle(n,(function(){return{nativeElement:he.current,popupElement:le.current,forceAlign:st}}));var lt=Xl(E.useState(0),2),ut=lt[0],ct=lt[1],ft=Xl(E.useState(0),2),dt=ft[0],ht=ft[1],pt=function(){if(O&&fe){var e=fe.getBoundingClientRect();ct(e.width),ht(e.height)}};function mt(e,t,n,r){ye[e]=function(a){var i;null===r||void 0===r||r(a),Ae(t,n);for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];null===(i=ge[e])||void 0===i||i.call.apply(i,[ge,a].concat(o))}}Wu((function(){_e&&(Xe(),_e(),$e(null))}),[_e]),(at||it)&&(ye.onClick=function(e){var t;Se.current&&it?Ae(!1):!Se.current&&at&&(Be(e),Ae(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=ge.onClick)||void 0===t||t.call.apply(t,[ge,e].concat(r))});var gt,yt,bt=function(e,t,n,r,a,i,s,o){var l=E.useRef(e);l.current=e;var u=E.useRef(!1);return E.useEffect((function(){if(t&&r&&(!a||i)){var e=function(){u.current=!1},c=function(e){var t;!l.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||o(!1)},f=Yp(r);f.addEventListener("pointerdown",e,!0),f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0);var d=Oh(n);return d&&(d.addEventListener("mousedown",c,!0),d.addEventListener("contextmenu",c,!0)),function(){f.removeEventListener("pointerdown",e,!0),f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0),d&&(d.removeEventListener("mousedown",c,!0),d.removeEventListener("contextmenu",c,!0))}}}),[t,n,r,a,i]),function(){u.current=!0}}(Ne,it,fe,se,v,x,be,Ae),vt=nt.has("hover"),wt=rt.has("hover");vt&&(mt("onMouseEnter",!0,p,(function(e){Be(e)})),mt("onPointerEnter",!0,p,(function(e){Be(e)})),gt=function(e){(Ne||Re)&&null!==se&&void 0!==se&&se.contains(e.target)&&Ae(!0,p)},F&&(ye.onMouseMove=function(e){var t;null===(t=ge.onMouseMove)||void 0===t||t.call(ge,e)})),wt&&(mt("onMouseLeave",!1,g),mt("onPointerLeave",!1,g),yt=function(){Ae(!1,g)}),nt.has("focus")&&mt("onFocus",!0,y),rt.has("focus")&&mt("onBlur",!1,b),nt.has("contextMenu")&&(ye.onContextMenu=function(e){var t;Se.current&&rt.has("contextMenu")?Ae(!1):(Be(e),Ae(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=ge.onContextMenu)||void 0===t||t.call.apply(t,[ge,e].concat(r))}),Q&&(ye.className=go()(ge.className,Q));var xt=qo(qo({},ge),ye),kt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Z[e]&&(kt[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=xt[e])||void 0===t||t.call.apply(t,[xt].concat(r)),Z[e].apply(Z,r)})}));var Ct=E.cloneElement(me,qo(qo({},xt),kt)),Nt={x:Qe,y:Je},It=B?qo({},!0!==B?B:{}):null;return E.createElement(E.Fragment,null,E.createElement(Ql,{disabled:!Ne,ref:pe,onResize:function(){pt(),st()}},E.createElement(Up,{getTriggerDOMNode:J},Ct)),E.createElement(Wp.Provider,{value:re},E.createElement(Pp,{portal:e,ref:ue,prefixCls:a,popup:S,className:go()(M,ot),style:L,target:fe,onMouseEnter:gt,onMouseLeave:yt,onPointerEnter:gt,zIndex:j,open:Ne,keepDom:Re,fresh:$,onClick:z,onPointerDownCapture:bt,mask:v,motion:ve,maskMotion:we,onVisibleChanged:function(e){je(!1),Xe(),null===h||void 0===h||h(e)},onPrepare:function(){return new Promise((function(e){pt(),$e((function(){return e}))}))},forceRender:C,autoDestroy:q,getPopupContainer:k,align:Ke,arrow:It,arrowPos:Nt,ready:We,offsetX:Ve,offsetY:Ge,offsetR:He,offsetB:Ye,onAlign:st,stretch:O,targetWidth:ut/Ze,targetHeight:dt/qe})))}));return t}(Rh);var sm={shiftX:64,adjustY:1},om={adjustX:1,shiftY:!0},lm=[0,0],um={left:{points:["cr","cl"],overflow:om,offset:[-4,0],targetOffset:lm},right:{points:["cl","cr"],overflow:om,offset:[4,0],targetOffset:lm},top:{points:["bc","tc"],overflow:sm,offset:[0,-4],targetOffset:lm},bottom:{points:["tc","bc"],overflow:sm,offset:[0,4],targetOffset:lm},topLeft:{points:["bl","tl"],overflow:sm,offset:[0,-4],targetOffset:lm},leftTop:{points:["tr","tl"],overflow:om,offset:[-4,0],targetOffset:lm},topRight:{points:["br","tr"],overflow:sm,offset:[0,-4],targetOffset:lm},rightTop:{points:["tl","tr"],overflow:om,offset:[4,0],targetOffset:lm},bottomRight:{points:["tr","br"],overflow:sm,offset:[0,4],targetOffset:lm},rightBottom:{points:["bl","br"],overflow:om,offset:[4,0],targetOffset:lm},bottomLeft:{points:["tl","bl"],overflow:sm,offset:[0,4],targetOffset:lm},leftBottom:{points:["br","bl"],overflow:om,offset:[-4,0],targetOffset:lm}};var cm=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],fm=function(e,t){var n=e.overlayClassName,r=e.trigger,a=void 0===r?["hover"]:r,i=e.mouseEnterDelay,s=void 0===i?0:i,o=e.mouseLeaveDelay,l=void 0===o?.1:o,u=e.overlayStyle,c=e.prefixCls,f=void 0===c?"rc-tooltip":c,d=e.children,h=e.onVisibleChange,p=e.afterVisibleChange,m=e.transitionName,g=e.animation,y=e.motion,b=e.placement,v=void 0===b?"right":b,w=e.align,x=void 0===w?{}:w,k=e.destroyTooltipOnHide,C=void 0!==k&&k,N=e.defaultVisible,I=e.getTooltipContainer,S=e.overlayInnerStyle,M=(e.arrowContent,e.overlay),L=e.id,T=e.showArrow,A=void 0===T||T,D=e.classNames,R=e.styles,j=Ch(e,cm),O=Fh(L),_=(0,E.useRef)(null);(0,E.useImperativeHandle)(t,(function(){return _.current}));var $=qo({},j);"visible"in e&&($.popupVisible=e.visible);return E.createElement(im,jo({popupClassName:go()(n,null===D||void 0===D?void 0:D.root),prefixCls:f,popup:function(){return E.createElement(xh,{key:"content",prefixCls:f,id:O,bodyClassName:null===D||void 0===D?void 0:D.body,overlayInnerStyle:qo(qo({},S),null===R||void 0===R?void 0:R.body)},M)},action:a,builtinPlacements:um,popupPlacement:v,ref:_,popupAlign:x,getPopupContainer:I,onPopupVisibleChange:h,afterPopupVisibleChange:p,popupTransitionName:m,popupAnimation:g,popupMotion:y,defaultPopupVisible:N,autoDestroy:C,mouseLeaveDelay:l,popupStyle:qo(qo({},u),null===R||void 0===R?void 0:R.root),mouseEnterDelay:s,arrow:A},$),function(){var e=E.Children.only(d),t=qo(qo({},(null===e||void 0===e?void 0:e.props)||{}),{},{"aria-describedby":M?O:null});return E.cloneElement(d,t)}())};const dm=(0,E.forwardRef)(fm);function hm(){hm=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function l(e,t,n,r){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(t,n,r,a){var i=n&&n.prototype instanceof d?n:d,s=Object.create(i.prototype);return l(s,"_invoke",function(t,n,r){var a=1;return function(i,s){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var o=r.delegate;if(o){var l=x(o,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===a)throw a=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=3;var u=c(t,n,r);if("normal"===u.type){if(a=r.done?4:2,u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=4,r.method="throw",r.arg=u.arg)}}}(t,r,new N(a||[])),!0),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==n&&r.call(y,i)&&(m=y);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,s,o){var l=c(e[a],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Oo(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(f).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,o)}))}o(l.arg)}var a;l(this,"_invoke",(function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}),!0)}function x(t,n){var r=n.method,a=t.i[r];if(a===e)return n.delegate=null,"throw"===r&&t.i.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=c(a,t.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;var s=i.arg;return s?s.done?(n[t.r]=s.value,n.next=t.n,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function k(e){this.tryEntries.push(e)}function C(t){var n=t[4]||{};n.type="normal",n.arg=e,t[4]=n}function N(e){this.tryEntries=[[-1]],e.forEach(k,this),this.reset(!0)}function I(t){if(null!=t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(Oo(t)+" is not iterable")}return h.prototype=p,l(b,"constructor",p),l(p,"constructor",h),h.displayName=l(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},v(w.prototype),l(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var s=new w(u(e,n,r,a),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},v(b),l(b,o,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},t.values=I,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(e){s.type="throw",s.arg=t,n.next=e}for(var a=n.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i[4],o=this.prev,l=i[1],u=i[2];if(-1===i[0])return r("end"),!1;if(!l&&!u)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=o){if(o<l)return this.method="next",this.arg=e,r(l),!0;if(o<u)return r(u),!1}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var a=r;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var i=a?a[4]:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a[2],f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[2]===e)return this.complete(n[4],n[3]),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n[0]===e){var r=n[4];if("throw"===r.type){var a=r.arg;C(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={i:I(t),r:n,n:r},"next"===this.method&&(this.arg=e),f}},t}function pm(e,t,n,r,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,a)}function mm(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){pm(i,r,a,s,o,"next",e)}function o(e){pm(i,r,a,s,o,"throw",e)}s(void 0)}))}}var gm="RC_FORM_INTERNAL_HOOKS",ym=function(){Yo(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const bm=E.createContext({getFieldValue:ym,getFieldsValue:ym,getFieldError:ym,getFieldWarning:ym,getFieldsError:ym,isFieldsTouched:ym,isFieldTouched:ym,isFieldValidating:ym,isFieldsValidating:ym,resetFields:ym,setFields:ym,setFieldValue:ym,setFieldsValue:ym,validateFields:ym,submit:ym,getInternalHooks:function(){return ym(),{dispatch:ym,initEntityValue:ym,registerField:ym,useSubscribe:ym,setInitialValues:ym,destroyForm:ym,setCallbacks:ym,registerWatch:ym,getFields:ym,setValidateMessages:ym,setPreserve:ym,getInitialValue:ym}}});const vm=E.createContext(null);function wm(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function xm(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var km=xm();function Cm(e){var t="function"==typeof Map?new Map:void 0;return Cm=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Pl())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&$l(a,n.prototype),a}(e,arguments,zl(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),$l(n,e)},Cm(e)}var Nm=/%[sdj%]/g;function Im(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Sm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,i=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var s=e.replace(Nm,(function(e){if("%%"===e)return"%";if(a>=i)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(cw){return"[Circular]"}break;default:return e}}));return s}return e}function Mm(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Em(e,t,n){var r=0,a=e.length;!function i(s){if(s&&s.length)n(s);else{var o=r;r+=1,o<a?t(e[o],i):n([])}}([])}var Lm=function(e){Fl(n,e);var t=Ul(n);function n(e,r){var a;return jl(this,n),Jo(Bl(a=t.call(this,"Async Validation Error")),"errors",void 0),Jo(Bl(a),"fields",void 0),a.errors=e,a.fields=r,a}return _l(n)}(Cm(Error));function Tm(e,t,n,r,a){if(t.first){var i=new Promise((function(t,i){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,tu(e[n]||[]))})),t}(e);Em(s,n,(function(e){return r(e),e.length?i(new Lm(e,Im(e))):t(a)}))}));return i.catch((function(e){return e})),i}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,u=0,c=[],f=new Promise((function(t,i){var f=function(e){if(c.push.apply(c,e),++u===l)return r(c),c.length?i(new Lm(c,Im(c))):t(a)};o.length||(r(c),t(a)),o.forEach((function(t){var r=e[t];-1!==s.indexOf(t)?Em(r,n,f):function(e,t,n){var r=[],a=0,i=e.length;function s(e){r.push.apply(r,tu(e||[])),++a===i&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function Am(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Dm(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===Oo(r)&&"object"===Oo(e[n])?e[n]=qo(qo({},e[n]),r):e[n]=r}return e}var Rm="enum";const jm=function(e,t,n,r,a){e[Rm]=Array.isArray(e[Rm])?e[Rm]:[],-1===e[Rm].indexOf(t)&&r.push(Sm(a.messages[Rm],e.fullField,e[Rm].join(", ")))};const Om=function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Sm(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Sm(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}};const _m=function(e,t,n,r,a){var i="number"===typeof e.len,s="number"===typeof e.min,o="number"===typeof e.max,l=t,u=null,c="number"===typeof t,f="string"===typeof t,d=Array.isArray(t);if(c?u="number":f?u="string":d&&(u="array"),!u)return!1;d&&(l=t.length),f&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?l!==e.len&&r.push(Sm(a.messages[u].len,e.fullField,e.len)):s&&!o&&l<e.min?r.push(Sm(a.messages[u].min,e.fullField,e.min)):o&&!s&&l>e.max?r.push(Sm(a.messages[u].max,e.fullField,e.max)):s&&o&&(l<e.min||l>e.max)&&r.push(Sm(a.messages[u].range,e.fullField,e.min,e.max))};const $m=function(e,t,n,r,a,i){!e.required||n.hasOwnProperty(e.field)&&!Mm(t,i||e.type)||r.push(Sm(a.messages.required,e.fullField))};var Fm;var zm=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Pm=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Bm={integer:function(e){return Bm.number(e)&&parseInt(e,10)===e},float:function(e){return Bm.number(e)&&!Bm.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Lae){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===Oo(e)&&!Bm.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(zm)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Fm)return Fm;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:".concat(a.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(i,"$)")),o=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(i,"$")),u=function(e){return e&&e.exact?s:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(i).concat(t(e),")"),"g")};u.v4=function(e){return e&&e.exact?o:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},u.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(i).concat(t(e)),"g")};var c=u.v4().source,f=u.v6().source,d="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(c,"|").concat(f,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return Fm=new RegExp("(?:^".concat(d,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Pm)}};const Um=function(e,t,n,r,a){if(e.required&&void 0===t)$m(e,t,n,r,a);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Bm[i](t)||r.push(Sm(a.messages.types[i],e.fullField,e.type)):i&&Oo(t)!==e.type&&r.push(Sm(a.messages.types[i],e.fullField,e.type))}};const Wm=function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(Sm(a.messages.whitespace,e.fullField))},Vm={required:$m,whitespace:Wm,type:Um,range:_m,enum:jm,pattern:Om};const Gm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a)}n(i)};const Hm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Vm.required(e,t,r,i,a,"array"),void 0!==t&&null!==t&&(Vm.type(e,t,r,i,a),Vm.range(e,t,r,i,a))}n(i)};const Ym=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&Vm.type(e,t,r,i,a)}n(i)};const Qm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t,"date")&&!e.required)return n();var s;if(Vm.required(e,t,r,i,a),!Mm(t,"date"))s=t instanceof Date?t:new Date(t),Vm.type(e,s,r,i,a),s&&Vm.range(e,s.getTime(),r,i,a)}n(i)};const Jm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&Vm.enum(e,t,r,i,a)}n(i)};const Zm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&(Vm.type(e,t,r,i,a),Vm.range(e,t,r,i,a))}n(i)};const qm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&(Vm.type(e,t,r,i,a),Vm.range(e,t,r,i,a))}n(i)};const Km=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&Vm.type(e,t,r,i,a)}n(i)};const Xm=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&(Vm.type(e,t,r,i,a),Vm.range(e,t,r,i,a))}n(i)};const eg=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),void 0!==t&&Vm.type(e,t,r,i,a)}n(i)};const tg=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t,"string")&&!e.required)return n();Vm.required(e,t,r,i,a),Mm(t,"string")||Vm.pattern(e,t,r,i,a)}n(i)};const ng=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t)&&!e.required)return n();Vm.required(e,t,r,i,a),Mm(t)||Vm.type(e,t,r,i,a)}n(i)};const rg=function(e,t,n,r,a){var i=[],s=Array.isArray(t)?"array":Oo(t);Vm.required(e,t,r,i,a,s),n(i)};const ag=function(e,t,n,r,a){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t,"string")&&!e.required)return n();Vm.required(e,t,r,i,a,"string"),Mm(t,"string")||(Vm.type(e,t,r,i,a),Vm.range(e,t,r,i,a),Vm.pattern(e,t,r,i,a),!0===e.whitespace&&Vm.whitespace(e,t,r,i,a))}n(i)};const ig=function(e,t,n,r,a){var i=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Mm(t,i)&&!e.required)return n();Vm.required(e,t,r,s,a,i),Mm(t,i)||Vm.type(e,t,r,s,a)}n(s)},sg={string:ag,method:Km,number:Xm,boolean:Ym,regexp:ng,integer:qm,float:Zm,array:Hm,object:eg,enum:Jm,pattern:tg,date:Qm,url:ig,hex:ig,email:ig,required:rg,any:Gm};var og=function(){function e(t){jl(this,e),Jo(this,"rules",null),Jo(this,"_messages",km),this.define(t)}return _l(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==Oo(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(e){return e&&(this._messages=Dm(xm(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof a&&(i=a,a={}),!this.rules||0===Object.keys(this.rules).length)return i&&i(null,r),Promise.resolve(r);if(a.messages){var s=this.messages();s===km&&(s=xm()),Dm(s,a.messages),a.messages=s}else a.messages=this.messages();var o={};(a.keys||Object.keys(this.rules)).forEach((function(e){var a=n.rules[e],i=r[e];a.forEach((function(a){var s=a;"function"===typeof s.transform&&(r===t&&(r=qo({},r)),void 0!==(i=r[e]=s.transform(i))&&null!==i&&(s.type=s.type||(Array.isArray(i)?"array":Oo(i)))),(s="function"===typeof s?{validator:s}:qo({},s)).validator=n.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=n.getType(s),o[e]=o[e]||[],o[e].push({rule:s,value:i,source:r,field:e}))}))}));var l={};return Tm(o,a,(function(t,n){var i,s=t.rule,o=("object"===s.type||"array"===s.type)&&("object"===Oo(s.fields)||"object"===Oo(s.defaultField));function u(e,t){return qo(qo({},t),{},{fullField:"".concat(s.fullField,".").concat(e),fullFields:s.fullFields?[].concat(tu(s.fullFields),[e]):[e]})}function c(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=Array.isArray(i)?i:[i];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==s.message&&(c=[].concat(s.message));var f=c.map(Am(s,r));if(a.first&&f.length)return l[s.field]=1,n(f);if(o){if(s.required&&!t.value)return void 0!==s.message?f=[].concat(s.message).map(Am(s,r)):a.error&&(f=[a.error(s,Sm(a.messages.required,s.field))]),n(f);var d={};s.defaultField&&Object.keys(t.value).map((function(e){d[e]=s.defaultField})),d=qo(qo({},d),t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(u.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];f&&f.length&&t.push.apply(t,tu(f)),e&&e.length&&t.push.apply(t,tu(e)),n(t.length?t:null)}))}else n(f)}if(o=o&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)i=s.asyncValidator(s,t.value,c,t.source,a);else if(s.validator){try{i=s.validator(s,t.value,c,t.source,a)}catch(h){var f,d;null===(f=(d=console).error)||void 0===f||f.call(d,h),a.suppressValidatorError||setTimeout((function(){throw h}),0),c(h.message)}!0===i?c():!1===i?c("function"===typeof s.message?s.message(s.fullField||s.field):s.message||"".concat(s.fullField||s.field," fails")):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function a(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,tu(e)):t.push(e)}for(var s=0;s<e.length;s++)a(e[s]);t.length?(n=Im(t),i(t,n)):i(null,r)}(e)}),r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!sg.hasOwnProperty(e.type))throw new Error(Sm("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?sg.required:sg[this.getType(e)]||void 0}}]),e}();Jo(og,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");sg[e]=t})),Jo(og,"warning",(function(){})),Jo(og,"messages",km),Jo(og,"validators",sg);var lg="'${name}' is not a valid ${type}",ug={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:lg,method:lg,array:lg,object:lg,number:lg,date:lg,boolean:lg,integer:lg,float:lg,regexp:lg,email:lg,url:lg,hex:lg},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},cg=og;function fg(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]}))}var dg="CODE_LOGIC_ERROR";function hg(e,t,n,r,a){return pg.apply(this,arguments)}function pg(){return pg=mm(hm().mark((function e(t,n,r,a,i){var s,o,l,u,c,f,d,h,p;return hm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=qo({},r)).ruleIndex,cg.warning=function(){},s.validator&&(o=s.validator,s.validator=function(){try{return o.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(dg)}}),l=null,s&&"array"===s.type&&s.defaultField&&(l=s.defaultField,delete s.defaultField),u=new cg(Jo({},t,[s])),c=Hd(ug,a.validateMessages),u.messages(c),f=[],e.prev=10,e.next=13,Promise.resolve(u.validate(Jo({},t,n),qo({},a)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(f=e.t0.errors.map((function(e,t){var n=e.message,r=n===dg?c.default:n;return E.isValidElement(r)?E.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(f.length||!l){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return hg("".concat(t,".").concat(n),e,l,a,i)})));case 21:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(tu(e),tu(t))}),[]));case 23:return h=qo(qo({},r),{},{name:t,enum:(r.enum||[]).join(", ")},i),p=f.map((function(e){return"string"===typeof e?fg(e,h):e})),e.abrupt("return",p);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),pg.apply(this,arguments)}function mg(e,t,n,r,a,i){var s,o=e.join("."),l=n.map((function(e,t){var n=e.validator,r=qo(qo({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,i=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Yo(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)}))}));a=i&&"function"===typeof i.then&&"function"===typeof i.catch,Yo(a,"`callback` is deprecated. Please return a promise instead."),a&&i.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,i=t.ruleIndex;return!!n===!!a?r-i:n?1:-1}));if(!0===a)s=new Promise(function(){var e=mm(hm().mark((function e(n,a){var s,u,c;return hm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<l.length)){e.next=12;break}return u=l[s],e.next=5,hg(o,t,u,r,i);case 5:if(!(c=e.sent).length){e.next=9;break}return a([{errors:c,rule:u}]),e.abrupt("return");case 9:s+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=l.map((function(e){return hg(o,t,e,r,i).then((function(t){return{errors:t,rule:e}}))}));s=(a?function(e){return yg.apply(this,arguments)}(u):function(e){return gg.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function gg(){return(gg=mm(hm().mark((function e(t){return hm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,tu(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yg(){return yg=mm(hm().mark((function e(t){var n;return hm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function bg(e){return wm(e)}function vg(e,t){var n={};return t.forEach((function(t){var r=Bd(e,t);n=Wd(n,t,r)})),n}function wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return xg(t,e,n)}))}function xg(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function kg(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Oo(t.target)&&e in t.target?t.target[e]:t}function Cg(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],i=t-n;return i>0?[].concat(tu(e.slice(0,n)),[a],tu(e.slice(n,t)),tu(e.slice(t+1,r))):i<0?[].concat(tu(e.slice(0,t)),tu(e.slice(t+1,n+1)),[a],tu(e.slice(n+1,r))):e}var Ng=["name"],Ig=[];function Sg(e,t,n,r,a,i){return"function"===typeof e?e(t,n,"source"in i?{source:i.source}:{}):r!==a}var Mg=function(e){Fl(n,e);var t=Ul(n);function n(e){var r;(jl(this,n),Jo(Bl(r=t.call(this,e)),"state",{resetCount:0}),Jo(Bl(r),"cancelRegisterFunc",null),Jo(Bl(r),"mounted",!1),Jo(Bl(r),"touched",!1),Jo(Bl(r),"dirty",!1),Jo(Bl(r),"validatePromise",void 0),Jo(Bl(r),"prevValidating",void 0),Jo(Bl(r),"errors",Ig),Jo(Bl(r),"warnings",Ig),Jo(Bl(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,a=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,bg(a)),r.cancelRegisterFunc=null})),Jo(Bl(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(tu(void 0===n?[]:n),tu(t)):[]})),Jo(Bl(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,a=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(a):e}))})),Jo(Bl(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),Jo(Bl(r),"metaCache",null),Jo(Bl(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=qo(qo({},r.getMeta()),{},{destroy:e});pu(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),Jo(Bl(r),"onStoreChange",(function(e,t,n){var a=r.props,i=a.shouldUpdate,s=a.dependencies,o=void 0===s?[]:s,l=a.onReset,u=n.store,c=r.getNamePath(),f=r.getValue(e),d=r.getValue(u),h=t&&wg(t,c);switch("valueUpdate"!==n.type||"external"!==n.source||pu(f,d)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Ig,r.warnings=Ig,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Ig,r.warnings=Ig,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(i&&Sg(i,e,u,f,d,n))return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||Ig),"warnings"in p&&(r.warnings=p.warnings||Ig),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&wg(t,c,!0))return void r.reRender();if(i&&!c.length&&Sg(i,e,u,f,d,n))return void r.reRender();break;case"dependenciesUpdate":if(o.map(bg).some((function(e){return wg(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!o.length||c.length||i)&&Sg(i,e,u,f,d,n))return void r.reRender()}!0===i&&r.reRender()})),Jo(Bl(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),a=e||{},i=a.triggerName,s=a.validateOnly,o=void 0!==s&&s,l=Promise.resolve().then(mm(hm().mark((function a(){var s,o,u,c,f,d,h;return hm().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.mounted){a.next=2;break}return a.abrupt("return",[]);case 2:if(s=r.props,o=s.validateFirst,u=void 0!==o&&o,c=s.messageVariables,f=s.validateDebounce,d=r.getRules(),i&&(d=d.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||wm(t).includes(i)}))),!f||!i){a.next=10;break}return a.next=8,new Promise((function(e){setTimeout(e,f)}));case 8:if(r.validatePromise===l){a.next=10;break}return a.abrupt("return",[]);case 10:return(h=mg(t,n,d,e,u,c)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ig;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],a=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?Ig:r;t?a.push.apply(a,tu(i)):n.push.apply(n,tu(i))})),r.errors=n,r.warnings=a,r.triggerMetaEvent(),r.reRender()}})),a.abrupt("return",h);case 13:case"end":return a.stop()}}),a)}))));return o||(r.validatePromise=l,r.dirty=!0,r.errors=Ig,r.warnings=Ig,r.triggerMetaEvent(),r.reRender()),l})),Jo(Bl(r),"isFieldValidating",(function(){return!!r.validatePromise})),Jo(Bl(r),"isFieldTouched",(function(){return r.touched})),Jo(Bl(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(gm).getInitialValue)(r.getNamePath())})),Jo(Bl(r),"getErrors",(function(){return r.errors})),Jo(Bl(r),"getWarnings",(function(){return r.warnings})),Jo(Bl(r),"isListField",(function(){return r.props.isListField})),Jo(Bl(r),"isList",(function(){return r.props.isList})),Jo(Bl(r),"isPreserve",(function(){return r.props.preserve})),Jo(Bl(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),Jo(Bl(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return qo(qo({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=Po(e);return 1===n.length&&E.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),Jo(Bl(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return Bd(e||t(!0),n)})),Jo(Bl(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,a=t.trigger,i=t.validateTrigger,s=t.getValueFromEvent,o=t.normalize,l=t.valuePropName,u=t.getValueProps,c=t.fieldContext,f=void 0!==i?i:c.validateTrigger,d=r.getNamePath(),h=c.getInternalHooks,p=c.getFieldsValue,m=h(gm).dispatch,g=r.getValue(),y=u||function(e){return Jo({},l,e)},b=e[a],v=void 0!==n?y(g):{};var w=qo(qo({},e),v);return w[a]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e=s?s.apply(void 0,n):kg.apply(void 0,[l].concat(n)),o&&(e=o(e,g,p(!0))),e!==g&&m({type:"updateValue",namePath:d,value:e}),b&&b.apply(void 0,n)},wm(f||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&m({type:"validateField",namePath:d,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(gm).initEntityValue)(Bl(r));return r}return _l(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(gm).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),a=r.child;return r.isFunction?e=a:E.isValidElement(a)?e=E.cloneElement(a,this.getControlled(a.props)):(Yo(!a,"`children` of Field is not validate ReactElement."),e=a),E.createElement(E.Fragment,{key:t},e)}}]),n}(E.Component);Jo(Mg,"contextType",bm),Jo(Mg,"defaultProps",{trigger:"onChange",valuePropName:"value"});const Eg=function(e){var t,n=e.name,r=Ch(e,Ng),a=E.useContext(bm),i=E.useContext(vm),s=void 0!==n?bg(n):void 0,o=null!==(t=r.isListField)&&void 0!==t?t:!!i,l="keep";return o||(l="_".concat((s||[]).join("_"))),E.createElement(Mg,jo({key:l,name:s,isListField:o},r,{fieldContext:a}))};const Lg=function(e){var t=e.name,n=e.initialValue,r=e.children,a=e.rules,i=e.validateTrigger,s=e.isListField,o=E.useContext(bm),l=E.useContext(vm),u=E.useRef({keys:[],id:0}).current,c=E.useMemo((function(){var e=bg(o.prefixName)||[];return[].concat(tu(e),tu(bg(t)))}),[o.prefixName,t]),f=E.useMemo((function(){return qo(qo({},o),{},{prefixName:c})}),[o,c]),d=E.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[c]);return"function"!==typeof r?(Yo(!1,"Form.List only accepts function as children."),null):E.createElement(vm.Provider,{value:d},E.createElement(bm.Provider,{value:f},E.createElement(Eg,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:i,initialValue:n,isList:!0,isListField:null!==s&&void 0!==s?s:!!l},(function(e,t){var n=e.value,a=void 0===n?[]:n,i=e.onChange,s=o.getFieldValue,l=function(){return s(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(u.keys=[].concat(tu(u.keys.slice(0,t)),[u.id],tu(u.keys.slice(t))),i([].concat(tu(n.slice(0,t)),[e],tu(n.slice(t))))):(u.keys=[].concat(tu(u.keys),[u.id]),i([].concat(tu(n),[e]))),u.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),i(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(u.keys=Cg(u.keys,e,t),i(Cg(n,e,t)))}}},d=a||[];return Array.isArray(d)||(d=[]),r(d.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var Tg="__@field_split__";function Ag(e){return e.map((function(e){return"".concat(Oo(e),":").concat(e)})).join(Tg)}var Dg=function(){function e(){jl(this,e),Jo(this,"kvs",new Map)}return _l(e,[{key:"set",value:function(e,t){this.kvs.set(Ag(e),t)}},{key:"get",value:function(e){return this.kvs.get(Ag(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(Ag(e))}},{key:"map",value:function(e){return tu(this.kvs.entries()).map((function(t){var n=Xl(t,2),r=n[0],a=n[1],i=r.split(Tg);return e({key:i.map((function(e){var t=Xl(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:a})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const Rg=Dg;var jg=["name"],Og=_l((function e(t){var n=this;jl(this,e),Jo(this,"formHooked",!1),Jo(this,"forceRootUpdate",void 0),Jo(this,"subscribable",!0),Jo(this,"store",{}),Jo(this,"fieldEntities",[]),Jo(this,"initialValues",{}),Jo(this,"callbacks",{}),Jo(this,"validateMessages",null),Jo(this,"preserve",null),Jo(this,"lastValidatePromise",null),Jo(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),Jo(this,"getInternalHooks",(function(e){return e===gm?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Yo(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),Jo(this,"useSubscribe",(function(e){n.subscribable=e})),Jo(this,"prevWithoutPreserves",null),Jo(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,a=Hd(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;a=Wd(a,n,Bd(e,n))})),n.prevWithoutPreserves=null,n.updateStore(a)}})),Jo(this,"destroyForm",(function(e){if(e)n.updateStore({});else{var t=new Rg;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t}})),Jo(this,"getInitialValue",(function(e){var t=Bd(n.initialValues,e);return e.length?Hd(t):t})),Jo(this,"setCallbacks",(function(e){n.callbacks=e})),Jo(this,"setValidateMessages",(function(e){n.validateMessages=e})),Jo(this,"setPreserve",(function(e){n.preserve=e})),Jo(this,"watchList",[]),Jo(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),Jo(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),Jo(this,"timeoutId",null),Jo(this,"warningUnhooked",(function(){0})),Jo(this,"updateStore",(function(e){n.store=e})),Jo(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),Jo(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Rg;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),Jo(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=bg(e);return t.get(n)||{INVALIDATE_NAME_PATH:bg(e)}}))})),Jo(this,"getFieldsValue",(function(e,t){var r,a,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,a=t):e&&"object"===Oo(e)&&(i=e.strict,a=e.filter),!0===r&&!a)return n.store;var s=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),o=[];return s.forEach((function(e){var t,n,s,l,u="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(s=(l=e).isList)&&void 0!==s&&s.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(a){var c="getMeta"in e?e.getMeta():null;a(c)&&o.push(u)}else o.push(u)})),vg(n.store,o.map(bg))})),Jo(this,"getFieldValue",(function(e){n.warningUnhooked();var t=bg(e);return Bd(n.store,t)})),Jo(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:bg(e[n]),errors:[],warnings:[]}}))})),Jo(this,"getFieldError",(function(e){n.warningUnhooked();var t=bg(e);return n.getFieldsError([t])[0].errors})),Jo(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=bg(e);return n.getFieldsError([t])[0].warnings})),Jo(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,i=t[0],s=t[1],o=!1;0===t.length?a=null:1===t.length?Array.isArray(i)?(a=i.map(bg),o=!1):(a=null,o=i):(a=i.map(bg),o=s);var l=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!a)return o?l.every((function(e){return u(e)||e.isList()})):l.some(u);var c=new Rg;a.forEach((function(e){c.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();a.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(tu(t),[e])}))}))}));var f=function(e){return e.some(u)},d=c.map((function(e){return e.value}));return o?d.every(f):d.some(f)})),Jo(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),Jo(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(bg);return t.some((function(e){var t=e.getNamePath();return wg(r,t)&&e.isFieldValidating()}))})),Jo(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),Jo(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Rg,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}}));var a;e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=a).push.apply(n,tu(tu(r).map((function(e){return e.entity}))))}))):a=r,a.forEach((function(r){if(void 0!==r.props.initialValue){var a=r.getNamePath();if(void 0!==n.getInitialValue(a))Yo(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var i=t.get(a);if(i&&i.size>1)Yo(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var s=n.getFieldValue(a);r.isListField()||e.skipExist&&void 0!==s||n.updateStore(Wd(n.store,a,tu(i)[0].value))}}}}))})),Jo(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Hd(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(bg);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Wd(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),Jo(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var a=e.name,i=Ch(e,jg),s=bg(a);r.push(s),"value"in i&&n.updateStore(Wd(n.store,s,i.value)),n.notifyObservers(t,[s],{type:"setField",data:e})})),n.notifyWatch(r)})),Jo(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=qo(qo({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),Jo(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Bd(n.store,r)&&n.updateStore(Wd(n.store,r,t))}})),Jo(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),Jo(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(a)&&(!r||i.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every((function(e){return!xg(e.getNamePath(),t)}))){var o=n.store;n.updateStore(Wd(o,t,s,!0)),n.notifyObservers(o,[t],{type:"remove"}),n.triggerDependenciesUpdate(o,t)}}n.notifyWatch([t])}})),Jo(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,i=e.triggerName;n.validateFields([a],{triggerName:i})}})),Jo(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var a=qo(qo({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,a)}))}else n.forceRootUpdate()})),Jo(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(tu(r))}),r})),Jo(this,"updateValue",(function(e,t){var r=bg(e),a=n.store;n.updateStore(Wd(n.store,r,t)),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var i=n.triggerDependenciesUpdate(a,r),s=n.callbacks.onValuesChange;s&&s(vg(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(tu(i)))})),Jo(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=Hd(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),Jo(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])})),Jo(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],a=new Rg;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=bg(t);a.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(a.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}}))}(e),r})),Jo(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var i=new Rg;t.forEach((function(e){var t=e.name,n=e.errors;i.set(t,n)})),a.forEach((function(e){e.errors=i.get(e.name)||e.errors}))}var s=a.filter((function(t){var n=t.name;return wg(e,n)}));s.length&&r(s,a)}})),Jo(this,"validateFields",(function(e,t){var r,a;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,a=t):a=e;var i=!!r,s=i?r.map(bg):[],o=[],l=String(Date.now()),u=new Set,c=a||{},f=c.recursive,d=c.dirty;n.getFieldEntities(!0).forEach((function(e){if(i||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!d||e.isFieldDirty())){var t=e.getNamePath();if(u.add(t.join(l)),!i||wg(s,t,f)){var r=e.validateRules(qo({validateMessages:qo(qo({},ug),n.validateMessages)},a));o.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],a=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?a.push.apply(a,tu(n)):r.push.apply(r,tu(n))})),r.length?Promise.reject({name:t,errors:r,warnings:a}):{name:t,errors:r,warnings:a}})))}}}));var h=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(a,i){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[s]=e,n>0||(t&&i(r),a(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=h,h.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=h.then((function(){return n.lastValidatePromise===h?Promise.resolve(n.getFieldsValue(s)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(s),errorFields:t,outOfDate:n.lastValidatePromise!==h})}));p.catch((function(e){return e}));var m=s.filter((function(e){return u.has(e.join(l))}));return n.triggerOnFieldsChange(m),p})),Jo(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(Tae){console.error(Tae)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const _g=function(e){var t=E.useRef(),n=Xl(E.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new Og((function(){n({})}));t.current=r.getForm()}return[t.current]};var $g=E.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const Fg=$g;var zg=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const Pg=function(e,t){var n=e.name,r=e.initialValues,a=e.fields,i=e.form,s=e.preserve,o=e.children,l=e.component,u=void 0===l?"form":l,c=e.validateMessages,f=e.validateTrigger,d=void 0===f?"onChange":f,h=e.onValuesChange,p=e.onFieldsChange,m=e.onFinish,g=e.onFinishFailed,y=e.clearOnDestroy,b=Ch(e,zg),v=E.useRef(null),w=E.useContext(Fg),x=Xl(_g(i),1)[0],k=x.getInternalHooks(gm),C=k.useSubscribe,N=k.setInitialValues,I=k.setCallbacks,S=k.setValidateMessages,M=k.setPreserve,L=k.destroyForm;E.useImperativeHandle(t,(function(){return qo(qo({},x),{},{nativeElement:v.current})})),E.useEffect((function(){return w.registerForm(n,x),function(){w.unregisterForm(n)}}),[w,x,n]),S(qo(qo({},w.validateMessages),c)),I({onValuesChange:h,onFieldsChange:function(e){if(w.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];p.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),m&&m(e)},onFinishFailed:g}),M(s);var T,A=E.useRef(null);N(r,!A.current),A.current||(A.current=!0),E.useEffect((function(){return function(){return L(y)}}),[]);var D="function"===typeof o;D?T=o(x.getFieldsValue(!0),x):T=o;C(!D);var R=E.useRef();E.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Oo(e)||"object"!==Oo(t))return!1;var n=Object.keys(e),r=Object.keys(t);return tu(new Set([].concat(n,r))).every((function(n){var r=e[n],a=t[n];return"function"===typeof r&&"function"===typeof a||r===a}))})(R.current||[],a||[])||x.setFields(a||[]),R.current=a}),[a,x]);var j=E.useMemo((function(){return qo(qo({},x),{},{validateTrigger:d})}),[x,d]),O=E.createElement(vm.Provider,{value:null},E.createElement(bm.Provider,{value:j},T));return!1===u?O:E.createElement(u,jo({},b,{ref:v,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),O)};function Bg(e){try{return JSON.stringify(e)}catch(Tae){return Math.random()}}var Ug=function(){};const Wg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=void 0===a?{}:a,s=function(e){return e&&!!e._init}(i)?{form:i}:i,o=s.form,l=Xl((0,E.useState)(),2),u=l[0],c=l[1],f=(0,E.useMemo)((function(){return Bg(u)}),[u]),d=(0,E.useRef)(f);d.current=f;var h=(0,E.useContext)(bm),p=o||h,m=p&&p._init,g=bg(r),y=(0,E.useRef)(g);return y.current=g,Ug(g),(0,E.useEffect)((function(){if(m){var e=p.getFieldsValue,t=(0,p.getInternalHooks)(gm).registerWatch,n=function(e,t){var n=s.preserve?t:e;return"function"===typeof r?r(n):Bd(n,y.current)},a=t((function(e,t){var r=n(e,t),a=Bg(r);d.current!==a&&(d.current=a,c(r))})),i=n(e(),e(!0));return u!==i&&c(i),a}}),[m]),u};var Vg=E.forwardRef(Pg);Vg.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,a=e.children,i=E.useContext($g),s=E.useRef({});return E.createElement($g.Provider,{value:qo(qo({},i),{},{validateMessages:qo(qo({},i.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:s.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=qo(qo({},s.current),{},Jo({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=qo({},s.current);delete t[e],s.current=t,i.unregisterForm(e)}})},a)},Vg.Field=Eg,Vg.List=Lg,Vg.useForm=_g,Vg.useWatch=Wg;const Gg=E.createContext({});const Hg=e=>{let{children:t,status:n,override:r}=e;const a=E.useContext(Gg),i=E.useMemo((()=>{const e=Object.assign({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return E.createElement(Gg.Provider,{value:i},t)};const Yg=E.createContext(null),Qg=e=>{const{children:t}=e;return E.createElement(Yg.Provider,{value:null},t)},Jg=e=>{const{space:t,form:n,children:r}=e;if(void 0===r||null===r)return null;let a=r;return n&&(a=E.createElement(Hg,{override:!0,status:!0},a)),t&&(a=E.createElement(Qg,null,a)),a};const Zg=E.createContext(void 0),qg=100,Kg={Modal:qg,Drawer:qg,Popover:qg,Popconfirm:qg,Tooltip:qg,Tour:qg,FloatButton:qg},Xg={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const ey=(e,t)=>{const[,n]=pd(),r=E.useContext(Zg),a=function(e){return e in Kg}(e);let i;if(void 0!==t)i=[t,t];else{let s=null!==r&&void 0!==r?r:0;s+=a?(r?0:n.zIndexPopupBase)+Kg[e]:Xg[e],i=[void 0===r?t:s,s]}return i};function ty(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,a=t/2,i=a,s=1*r/Math.sqrt(2),o=a-r*(1-1/Math.sqrt(2)),l=a-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),c=2*a-l,f=u,d=2*a-s,h=o,p=2*a-0,m=i,g=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),y=r*(Math.sqrt(2)-1);return{arrowShadowWidth:g,arrowPath:`path('M 0 ${i} A ${r} ${r} 0 0 0 ${s} ${o} L ${l} ${u} A ${n} ${n} 0 0 1 ${c} ${f} L ${d} ${h} A ${r} ${r} 0 0 0 ${p} ${m} Z')`,arrowPolygon:`polygon(${y}px 100%, 50% ${y}px, ${2*a-y}px 100%, ${y}px 100%)`}}const ny=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:i,arrowShadowWidth:s,borderRadiusXS:o,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[a,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ou(o)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function ry(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function ay(e,t){return e?t:{}}function iy(e,t,n){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:i,arrowOffsetHorizontal:s}=e,{arrowDistance:o=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},ny(e,t,a)),{"&:before":{background:t}})]},ay(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:o,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Ou(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),ay(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:o,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Ou(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),ay(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:o},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:i},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:i}})),ay(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:o},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:i},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:i}}))}}const sy={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},oy={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ly=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function uy(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:a,borderRadius:i,visibleFirst:s}=e,o=t/2,l={};return Object.keys(sy).forEach((e=>{const u=r&&oy[e]||sy[e],c=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[e]=c,ly.has(e)&&(c.autoArrow=!1),e){case"top":case"topLeft":case"topRight":c.offset[1]=-o-a;break;case"bottom":case"bottomLeft":case"bottomRight":c.offset[1]=o+a;break;case"left":case"leftTop":case"leftBottom":c.offset[0]=-o-a;break;case"right":case"rightTop":case"rightBottom":c.offset[0]=o+a}const f=ry({contentRadius:i,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":c.offset[0]=-f.arrowOffsetHorizontal-o;break;case"topRight":case"bottomRight":c.offset[0]=f.arrowOffsetHorizontal+o;break;case"leftTop":case"rightTop":c.offset[1]=2*-f.arrowOffsetHorizontal+o;break;case"leftBottom":case"rightBottom":c.offset[1]=2*f.arrowOffsetHorizontal-o}c.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const a=r&&"object"===typeof r?r:{},i={};switch(e){case"top":case"bottom":i.shiftX=2*t.arrowOffsetHorizontal+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=2*t.arrowOffsetVertical+n,i.shiftX=!0,i.adjustX=!0}const s=Object.assign(Object.assign({},i),a);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}(e,f,t,n),s&&(c.htmlRegion="visibleFirst")})),l}function cy(){}const fy=()=>{const e=()=>{};return e.deprecated=cy,e},dy=e=>({animationDuration:e,animationFillMode:"both"}),hy=e=>({animationDuration:e,animationFillMode:"both"}),py=function(e,t,n,r){const a=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${a}${e}-enter,\n      ${a}${e}-appear\n    `]:Object.assign(Object.assign({},dy(r)),{animationPlayState:"paused"}),[`${a}${e}-leave`]:Object.assign(Object.assign({},hy(r)),{animationPlayState:"paused"}),[`\n      ${a}${e}-enter${e}-enter-active,\n      ${a}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${a}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},my=new sf("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),gy=new sf("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),yy=new sf("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),by=new sf("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),vy=new sf("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),wy=new sf("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),xy={zoom:{inKeyframes:my,outKeyframes:gy},"zoom-big":{inKeyframes:yy,outKeyframes:by},"zoom-big-fast":{inKeyframes:yy,outKeyframes:by},"zoom-left":{inKeyframes:new sf("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new sf("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new sf("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new sf("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:vy,outKeyframes:wy},"zoom-down":{inKeyframes:new sf("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new sf("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},ky=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:a,outKeyframes:i}=xy[t];return[py(r,a,i,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},Cy=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Ny(e,t){return Cy.reduce(((n,r)=>{const a=e[`${r}1`],i=e[`${r}3`],s=e[`${r}6`],o=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:a,lightBorderColor:i,darkColor:s,textColor:o}))}),{})}const Iy=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:o,controlHeight:l,boxShadowSecondary:u,paddingSM:c,paddingXS:f,arrowOffsetHorizontal:d,sizePopupArrow:h}=e,p=t(s).add(h).add(d).equal(),m=t(s).mul(2).add(h).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ed(e)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${n}-inner`]:{minWidth:m,minHeight:l,padding:`${Ou(e.calc(c).div(2).equal())} ${Ou(f)}`,color:a,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:u,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:e.min(s,8)}},[`${n}-content`]:{position:"relative"}}),Ny(e,((e,t)=>{let{darkColor:r}=t;return{[`&${n}-${e}`]:{[`${n}-inner`]:{backgroundColor:r},[`${n}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},iy(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},Sy=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},ry({contentRadius:e.borderRadius,limitVerticalRadius:!0})),ty(Zd(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),My=function(e){const t=oh("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,a=Zd(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[Iy(a),ky(e,"zoom-big-fast")]}),Sy,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},Ey=Cy.map((e=>`${e}-inverse`));function Ly(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?Cy.includes(e):[].concat(tu(Ey),tu(Cy)).includes(e)}(t),r=go()({[`${e}-${t}`]:t&&n}),a={},i={};return t&&!n&&(a.background=t,i["--antd-arrow-background-color"]=t),{className:r,overlayStyle:a,arrowStyle:i}}const Ty=e=>{const{prefixCls:t,className:n,placement:r="top",title:a,color:i,overlayInnerStyle:s}=e,{getPrefixCls:o}=E.useContext(bd),l=o("tooltip",t),[u,c,f]=My(l),d=Ly(l,i),h=d.arrowStyle,p=Object.assign(Object.assign({},s),d.overlayStyle),m=go()(c,f,l,`${l}-pure`,`${l}-placement-${r}`,n,d.className);return u(E.createElement("div",{className:m,style:h},E.createElement("div",{className:`${l}-arrow`}),E.createElement(xh,Object.assign({},e,{className:c,prefixCls:l,overlayInnerStyle:p}),a)))};var Ay=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Dy=E.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,openClassName:i,getTooltipContainer:s,color:o,overlayInnerStyle:l,children:u,afterOpenChange:c,afterVisibleChange:f,destroyTooltipOnHide:d,arrow:h=!0,title:p,overlay:m,builtinPlacements:g,arrowPointAtCenter:y=!1,autoAdjustOverflow:b=!0,motion:v,getPopupContainer:w,placement:x="top",mouseEnterDelay:k=.1,mouseLeaveDelay:C=.1,overlayStyle:N,rootClassName:I,overlayClassName:S,styles:M,classNames:L}=e,T=Ay(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),A=!!h,[,D]=pd(),{getPopupContainer:R,getPrefixCls:j,direction:O,className:_,style:$,classNames:F,styles:z}=xd("tooltip"),P=fy("Tooltip"),B=E.useRef(null),U=()=>{var e;null===(e=B.current)||void 0===e||e.forceAlign()};E.useImperativeHandle(t,(()=>{var e,t;return{forceAlign:U,forcePopupAlign:()=>{P.deprecated(!1,"forcePopupAlign","forceAlign"),U()},nativeElement:null===(e=B.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=B.current)||void 0===t?void 0:t.popupElement}}));const[W,V]=Pd(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),G=!p&&!m&&0!==p,H=E.useMemo((()=>{var e,t;let n=y;return"object"===typeof h&&(n=null!==(t=null!==(e=h.pointAtCenter)&&void 0!==e?e:h.arrowPointAtCenter)&&void 0!==t?t:y),g||uy({arrowPointAtCenter:n,autoAdjustOverflow:b,arrowWidth:A?D.sizePopupArrow:0,borderRadius:D.borderRadius,offset:D.marginXXS,visibleFirst:!0})}),[y,h,g,D]),Y=E.useMemo((()=>0===p?p:m||p||""),[m,p]),Q=E.createElement(Jg,{space:!0},"function"===typeof Y?Y():Y),J=j("tooltip",a),Z=j(),q=e["data-popover-inject"];let K=W;"open"in e||"visible"in e||!G||(K=!1);const X=E.isValidElement(u)&&!function(e){return e&&E.isValidElement(e)&&e.type===E.Fragment}(u)?u:E.createElement("span",null,u),ee=X.props,te=ee.className&&"string"!==typeof ee.className?ee.className:go()(ee.className,i||`${J}-open`),[ne,re,ae]=My(J,!q),ie=Ly(J,o),se=ie.arrowStyle,oe=go()(S,{[`${J}-rtl`]:"rtl"===O},ie.className,I,re,ae,_,F.root,null===L||void 0===L?void 0:L.root),le=go()(F.body,null===L||void 0===L?void 0:L.body),[ue,ce]=ey("Tooltip",T.zIndex),fe=E.createElement(dm,Object.assign({},T,{zIndex:ue,showArrow:A,placement:x,mouseEnterDelay:k,mouseLeaveDelay:C,prefixCls:J,classNames:{root:oe,body:le},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},se),z.root),$),N),null===M||void 0===M?void 0:M.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},z.body),l),null===M||void 0===M?void 0:M.body),ie.overlayStyle)},getTooltipContainer:w||s||R,ref:B,builtinPlacements:H,overlay:Q,visible:K,onVisibleChange:t=>{var n,r;V(!G&&t),G||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==c&&void 0!==c?c:f,arrowContent:E.createElement("span",{className:`${J}-arrow-content`}),motion:{motionName:wh(Z,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!d}),K?gh(X,{className:te}):X);return ne(E.createElement(Zg.Provider,{value:ce},fe))})),Ry=Dy;Ry._InternalPanelDoNotUseOrYouWillBeFired=Ty;const jy=Ry,Oy=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:s,colorTextHeading:o,borderRadiusLG:l,zIndexPopup:u,titleMarginBottom:c,colorBgElevated:f,popoverBg:d,titleBorderBottom:h,innerContentPadding:p,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},Ed(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":f,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:l,boxShadow:s,padding:i},[`${t}-title`]:{minWidth:r,marginBottom:c,color:o,fontWeight:a,borderBottom:h,padding:m},[`${t}-inner-content`]:{color:n,padding:p}})},iy(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},_y=e=>{const{componentCls:t}=e;return{[t]:Cy.map((n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}}))}},$y=oh("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=Zd(e,{popoverBg:t,popoverColor:n});return[Oy(r),_y(r),ky(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:a,wireframe:i,zIndexPopupBase:s,borderRadiusLG:o,marginXS:l,lineType:u,colorSplit:c,paddingSM:f}=e,d=n-r,h=d/2,p=d/2-t,m=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},ty(e)),ry({contentRadius:o,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:l,titlePadding:i?`${h}px ${m}px ${p}px`:0,titleBorderBottom:i?`${t}px ${u} ${c}`:"none",innerContentPadding:i?`${f}px ${m}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Fy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const zy=e=>{let{title:t,content:n,prefixCls:r}=e;return t||n?E.createElement(E.Fragment,null,t&&E.createElement("div",{className:`${r}-title`},t),n&&E.createElement("div",{className:`${r}-inner-content`},n)):null},Py=e=>{const{hashId:t,prefixCls:n,className:r,style:a,placement:i="top",title:s,content:o,children:l}=e,u=vh(s),c=vh(o),f=go()(t,n,`${n}-pure`,`${n}-placement-${i}`,r);return E.createElement("div",{className:f,style:a},E.createElement("div",{className:`${n}-arrow`}),E.createElement(xh,Object.assign({},e,{className:t,prefixCls:n}),l||E.createElement(zy,{prefixCls:n,title:u,content:c})))},By=e=>{const{prefixCls:t,className:n}=e,r=Fy(e,["prefixCls","className"]),{getPrefixCls:a}=E.useContext(bd),i=a("popover",t),[s,o,l]=$y(i);return s(E.createElement(Py,Object.assign({},r,{prefixCls:i,hashId:o,className:go()(n,l)})))};var Uy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Wy=E.forwardRef(((e,t)=>{var n,r;const{prefixCls:a,title:i,content:s,overlayClassName:o,placement:l="top",trigger:u="hover",children:c,mouseEnterDelay:f=.1,mouseLeaveDelay:d=.1,onOpenChange:h,overlayStyle:p={},styles:m,classNames:g}=e,y=Uy(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:b,className:v,style:w,classNames:x,styles:k}=xd("popover"),C=b("popover",a),[N,I,S]=$y(C),M=b(),L=go()(o,I,S,v,x.root,null===g||void 0===g?void 0:g.root),T=go()(x.body,null===g||void 0===g?void 0:g.body),[A,D]=Pd(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),R=(e,t)=>{D(e,!0),null===h||void 0===h||h(e,t)},j=vh(i),O=vh(s);return N(E.createElement(jy,Object.assign({placement:l,trigger:u,mouseEnterDelay:f,mouseLeaveDelay:d},y,{prefixCls:C,classNames:{root:L,body:T},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},k.root),w),p),null===m||void 0===m?void 0:m.root),body:Object.assign(Object.assign({},k.body),null===m||void 0===m?void 0:m.body)},ref:t,open:A,onOpenChange:e=>{R(e)},overlay:j||O?E.createElement(zy,{prefixCls:C,title:j,content:O}):null,transitionName:wh(M,"zoom-big",y.transitionName),"data-popover-inject":!0}),gh(c,{onKeyDown:e=>{var t,n;E.isValidElement(c)&&(null===(n=null===c||void 0===c?void 0:(t=c.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===bh.ESC&&R(!1,e)})(e)}})))})),Vy=Wy;Vy._InternalPanelDoNotUseOrYouWillBeFired=By;const Gy=Vy,Hy=e=>{const{size:t,shape:n}=E.useContext(Md),r=E.useMemo((()=>({size:e.size||t,shape:e.shape||n})),[e.size,e.shape,t,n]);return E.createElement(Md.Provider,{value:r},e.children)},Yy=e=>{var t,n,r,a;const{getPrefixCls:i,direction:s}=E.useContext(bd),{prefixCls:o,className:l,rootClassName:u,style:c,maxCount:f,maxStyle:d,size:h,shape:p,maxPopoverPlacement:m,maxPopoverTrigger:g,children:y,max:b}=e;const v=i("avatar",o),w=`${v}-group`,x=kd(v),[k,C,N]=dh(v,x),I=go()(w,{[`${w}-rtl`]:"rtl"===s},N,x,l,u,C),S=Po(y).map(((e,t)=>gh(e,{key:`avatar-key-${t}`}))),M=(null===b||void 0===b?void 0:b.count)||f,L=S.length;if(M&&M<L){const e=S.slice(0,M),i=S.slice(M,L),s=(null===b||void 0===b?void 0:b.style)||d,o=(null===(t=null===b||void 0===b?void 0:b.popover)||void 0===t?void 0:t.trigger)||g||"hover",l=(null===(n=null===b||void 0===b?void 0:b.popover)||void 0===n?void 0:n.placement)||m||"top",u=Object.assign(Object.assign({content:i},null===b||void 0===b?void 0:b.popover),{classNames:{root:go()(`${w}-popover`,null===(a=null===(r=null===b||void 0===b?void 0:b.popover)||void 0===r?void 0:r.classNames)||void 0===a?void 0:a.root)},placement:l,trigger:o});return e.push(E.createElement(Gy,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},u),E.createElement(mh,{style:s},"+"+(L-M)))),k(E.createElement(Hy,{shape:p,size:h},E.createElement("div",{className:I,style:c},e)))}return k(E.createElement(Hy,{shape:p,size:h},E.createElement("div",{className:I,style:c},S)))},Qy=mh;Qy.Group=Yy;const Jy=Qy;function Zy(e){return Ci({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288A144 144 0 1 0 256 0a144 144 0 1 0 0 288zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7H481.3c17 0 30.7-13.8 30.7-30.7C512 392.2 439.8 320 350.7 320H161.3z"}}]})(e)}function qy(e){return Ci({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"}}]})(e)}const Ky=function(){return(0,to.jsxs)("div",{className:"loading",children:[(0,to.jsx)("div",{}),(0,to.jsx)("div",{}),(0,to.jsx)("div",{})]})},Xy=n.p+"static/media/notification.f6c2636c9ce2d4a4d91a.mp3",eb=!("undefined"===typeof window||!window.document||!window.document.createElement);var tb=!1,nb=!1;try{var rb={get passive(){return tb=!0},get once(){return nb=tb=!0}};eb&&(window.addEventListener("test",rb,rb),window.removeEventListener("test",rb,!0))}catch(Lae){}const ab=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!nb){var a=r.once,i=r.capture,s=n;!nb&&a&&(s=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=s),e.addEventListener(t,s,tb?r:i)}e.addEventListener(t,n,r)};function ib(e){return e&&e.ownerDocument||document}const sb=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};var ob;function lb(e){if((!ob&&0!==ob||e)&&eb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ob=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ob}const ub=function(e){const t=(0,E.useRef)(e);return(0,E.useEffect)((()=>{t.current=e}),[e]),t};function cb(e){const t=ub(e);return(0,E.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const fb=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const db=function(e,t){return(0,E.useMemo)((()=>function(e,t){const n=fb(e),r=fb(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};function hb(e){const t=function(e){const t=(0,E.useRef)(e);return t.current=e,t}(e);(0,E.useEffect)((()=>()=>t.current()),[])}function pb(e,t){return function(e){var t=ib(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var mb=/([A-Z])/g;var gb=/^ms-/;function yb(e){return function(e){return e.replace(mb,"-$1").toLowerCase()}(e).replace(gb,"-ms-")}var bb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const vb=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(yb(t))||pb(e).getPropertyValue(yb(t));Object.keys(t).forEach((function(a){var i=t[a];i||0===i?!function(e){return!(!e||!bb.test(e))}(a)?n+=yb(a)+": "+i+";":r+=a+"("+i+") ":e.style.removeProperty(yb(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const wb=function(e,t,n,r){return ab(e,t,n,r),function(){sb(e,t,n,r)}};function xb(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),i=wb(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),i()}}function kb(e,t,n,r){null==n&&(n=function(e){var t=vb(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=xb(e,n,r),i=wb(e,"transitionend",t);return function(){a(),i()}}function Cb(e){void 0===e&&(e=ib());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Lae){return e.body}}function Nb(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Ib(e){const t=function(e){const t=(0,E.useRef)(e);return t.current=e,t}(e);(0,E.useEffect)((()=>()=>t.current()),[])}const Sb=function(e){const t=(0,E.useRef)(e);return(0,E.useEffect)((()=>{t.current=e}),[e]),t};function Mb(e){const t=Sb(e);return(0,E.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Eb=`data-rr-ui-${"modal-open"}`;const Lb=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(vb(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Eb,""),vb(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Eb),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Tb=(0,E.createContext)(eb?window:void 0);Tb.Provider;function Ab(){return(0,E.useContext)(Tb)}const Db=(e,t)=>eb?null==e?(t||ib()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Rb=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const jb=function(e,t){return(0,E.useMemo)((()=>function(e,t){const n=Rb(e),r=Rb(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])},Ob="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,_b="undefined"!==typeof document||Ob?E.useLayoutEffect:E.useEffect;function $b(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=E.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}const Fb=function(e){let{children:t,in:n,onExited:r,mountOnEnter:a,unmountOnExit:i}=e;const s=(0,E.useRef)(null),o=(0,E.useRef)(n),l=Mb(r);(0,E.useEffect)((()=>{n?o.current=!0:l(s.current)}),[n,l]);const u=jb(s,$b(t)),c=(0,E.cloneElement)(t,{ref:u});return n?c:i||!o.current&&a?null:c},zb=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Pb=["component"];const Bb=E.forwardRef(((e,t)=>{let{component:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Pb);const a=function(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:a,onExiting:i,onExited:s,addEndListener:o,children:l}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,zb);const c=(0,E.useRef)(null),f=jb(c,$b(l)),d=e=>t=>{e&&c.current&&e(c.current,t)},h=(0,E.useCallback)(d(t),[t]),p=(0,E.useCallback)(d(n),[n]),m=(0,E.useCallback)(d(r),[r]),g=(0,E.useCallback)(d(a),[a]),y=(0,E.useCallback)(d(i),[i]),b=(0,E.useCallback)(d(s),[s]),v=(0,E.useCallback)(d(o),[o]);return Object.assign({},u,{nodeRef:c},t&&{onEnter:h},n&&{onEntering:p},r&&{onEntered:m},a&&{onExit:g},i&&{onExiting:y},s&&{onExited:b},o&&{addEndListener:v},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:f})):(0,E.cloneElement)(l,{ref:f})})}(r);return(0,to.jsx)(n,Object.assign({ref:t},a))})),Ub=Bb;function Wb(e){let{children:t,in:n,onExited:r,onEntered:a,transition:i}=e;const[s,o]=(0,E.useState)(!n);n&&s&&o(!1);const l=function(e){let{in:t,onTransition:n}=e;const r=(0,E.useRef)(null),a=(0,E.useRef)(!0),i=Mb(n);return _b((()=>{if(!r.current)return;let e=!1;return i({in:t,element:r.current,initial:a.current,isStale:()=>e}),()=>{e=!0}}),[t,i]),_b((()=>(a.current=!1,()=>{a.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(i(e)).then((()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(o(!0),null==r||r(e.element)))}),(t=>{throw e.in||o(!0),t}))}}),u=jb(l,$b(t));return s&&!n?null:(0,E.cloneElement)(t,{ref:u})}function Vb(e,t,n){return e?(0,to.jsx)(Ub,Object.assign({},n,{component:e})):t?(0,to.jsx)(Wb,Object.assign({},n,{transition:t})):(0,to.jsx)(Fb,Object.assign({},n))}const Gb=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Hb;function Yb(e){const t=Ab(),n=e||function(e){return Hb||(Hb=new Lb({ownerDocument:null==e?void 0:e.document})),Hb}(t),r=(0,E.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,E.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,E.useCallback)((e=>{r.current.backdrop=e}),[])})}const Qb=(0,E.forwardRef)(((e,t)=>{let{show:n=!1,role:r="dialog",className:a,style:i,children:s,backdrop:o=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:f,runTransition:d,backdropTransition:h,runBackdropTransition:p,autoFocus:m=!0,enforceFocus:g=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:v,renderBackdrop:w=e=>(0,to.jsx)("div",Object.assign({},e)),manager:x,container:k,onShow:C,onHide:N=()=>{},onExit:I,onExited:S,onExiting:M,onEnter:L,onEntering:T,onEntered:A}=e,D=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Gb);const R=Ab(),j=function(e,t){const n=Ab(),[r,a]=(0,E.useState)((()=>Db(e,null==n?void 0:n.document)));if(!r){const t=Db(e);t&&a(t)}return(0,E.useEffect)((()=>{t&&r&&t(r)}),[t,r]),(0,E.useEffect)((()=>{const t=Db(e);t!==r&&a(t)}),[e,r]),r}(k),O=Yb(x),_=function(){const e=(0,E.useRef)(!0),t=(0,E.useRef)((()=>e.current));return(0,E.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}(),$=function(e){const t=(0,E.useRef)(null);return(0,E.useEffect)((()=>{t.current=e})),t.current}(n),[F,z]=(0,E.useState)(!n),P=(0,E.useRef)(null);(0,E.useImperativeHandle)(t,(()=>O),[O]),eb&&!$&&n&&(P.current=Cb(null==R?void 0:R.document)),n&&F&&z(!1);const B=Mb((()=>{if(O.add(),Y.current=wb(document,"keydown",G),H.current=wb(document,"focus",(()=>setTimeout(W)),!0),C&&C(),m){var e,t;const n=Cb(null!=(e=null==(t=O.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);O.dialog&&n&&!Nb(O.dialog,n)&&(P.current=n,O.dialog.focus())}})),U=Mb((()=>{var e;(O.remove(),null==Y.current||Y.current(),null==H.current||H.current(),y)&&(null==(e=P.current)||null==e.focus||e.focus(b),P.current=null)}));(0,E.useEffect)((()=>{n&&j&&B()}),[n,j,B]),(0,E.useEffect)((()=>{F&&U()}),[F,U]),Ib((()=>{U()}));const W=Mb((()=>{if(!g||!_()||!O.isTopModal())return;const e=Cb(null==R?void 0:R.document);O.dialog&&e&&!Nb(O.dialog,e)&&O.dialog.focus()})),V=Mb((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===o&&N())})),G=Mb((e=>{l&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&O.isTopModal()&&(null==c||c(e),e.defaultPrevented||N())})),H=(0,E.useRef)(),Y=(0,E.useRef)();if(!j)return null;const Q=Object.assign({role:r,ref:O.setDialogRef,"aria-modal":"dialog"===r||void 0},D,{style:i,className:a,tabIndex:-1});let J=v?v(Q):(0,to.jsx)("div",Object.assign({},Q,{children:E.cloneElement(s,{role:"document"})}));J=Vb(f,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:M,onExited:function(){z(!0),null==S||S(...arguments)},onEnter:L,onEntering:T,onEntered:A,children:J});let Z=null;return o&&(Z=w({ref:O.setBackdropRef,onClick:V}),Z=Vb(h,p,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Z})),(0,to.jsx)(to.Fragment,{children:Ko.createPortal((0,to.jsxs)(to.Fragment,{children:[Z,J]}),j)})}));Qb.displayName="Modal";const Jb=Object.assign(Qb,{Manager:Lb});var Zb=Function.prototype.bind.call(Function.prototype.call,[].slice);function qb(e,t){return Zb(e.querySelectorAll(t))}function Kb(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Xb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ev=".sticky-top",tv=".navbar-toggler";class nv extends Lb{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,vb(t,{[e]:`${parseFloat(vb(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],vb(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qb(t,Xb).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth))),qb(t,ev).forEach((t=>this.adjustAndStore(i,t,-e.scrollBarWidth))),qb(t,tv).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Kb(n.className,r):n.setAttribute("class",Kb(n.className&&n.className.baseVal||"",r));const a=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";qb(t,Xb).forEach((e=>this.restore(a,e))),qb(t,ev).forEach((e=>this.restore(i,e))),qb(t,tv).forEach((e=>this.restore(i,e)))}}let rv;const av=!1,iv=E.createContext(null);var sv="unmounted",ov="exited",lv="entering",uv="entered",cv="exiting",fv=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=ov,r.appearStatus=lv):a=uv:a=t.unmountOnExit||t.mountOnEnter?sv:ov,r.state={status:a},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$l(e,t)}(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===sv?{status:ov}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==lv&&n!==uv&&(t=lv):n!==lv&&n!==uv||(t=cv)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===lv){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ko.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ov&&this.setState({status:sv})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[Ko.findDOMNode(this),r],i=a[0],s=a[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||av?this.safeSetState({status:uv},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:lv},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:uv},(function(){t.props.onEntered(i,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ko.findDOMNode(this);t&&!av?(this.props.onExit(r),this.safeSetState({status:cv},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ov},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ov},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ko.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],s=a[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===sv)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,kh(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return E.createElement(iv.Provider,{value:null},"function"===typeof n?n(e,r):E.cloneElement(E.Children.only(n),r))},t}(E.Component);function dv(){}fv.contextType=iv,fv.propTypes={},fv.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dv,onEntering:dv,onEntered:dv,onExit:dv,onExiting:dv,onExited:dv},fv.UNMOUNTED=sv,fv.EXITED=ov,fv.ENTERING=lv,fv.ENTERED=uv,fv.EXITING=cv;const hv=fv;function pv(e,t){const n=vb(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function mv(e,t){const n=pv(e,"transitionDuration"),r=pv(e,"transitionDelay"),a=kb(e,(n=>{n.target===e&&(a(),t(n))}),n+r)}const gv=E.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:a,onExit:i,onExiting:s,onExited:o,addEndListener:l,children:u,childRef:c,...f}=e;const d=(0,E.useRef)(null),h=db(d,c),p=e=>{var t;h((t=e)&&"setState"in t?Ko.findDOMNode(t):null!=t?t:null)},m=e=>t=>{e&&d.current&&e(d.current,t)},g=(0,E.useCallback)(m(n),[n]),y=(0,E.useCallback)(m(r),[r]),b=(0,E.useCallback)(m(a),[a]),v=(0,E.useCallback)(m(i),[i]),w=(0,E.useCallback)(m(s),[s]),x=(0,E.useCallback)(m(o),[o]),k=(0,E.useCallback)(m(l),[l]);return(0,to.jsx)(hv,{ref:t,...f,onEnter:g,onEntered:b,onEntering:y,onExit:v,onExited:x,onExiting:w,addEndListener:k,nodeRef:d,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:p}):E.cloneElement(u,{ref:p})})})),yv=gv,bv={[lv]:"show",[uv]:"show"},vv=E.forwardRef(((e,t)=>{let{className:n,children:r,transitionClasses:a={},onEnter:i,...s}=e;const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=(0,E.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==i||i(e,t)}),[i]);return(0,to.jsx)(yv,{ref:t,addEndListener:mv,...o,onEnter:l,childRef:$b(r),children:(e,t)=>E.cloneElement(r,{...t,className:go()("fade",n,r.props.className,bv[e],a[e])})})}));vv.displayName="Fade";const wv=vv,xv=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"modal-body"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));xv.displayName="ModalBody";const kv=xv,Cv=E.createContext({onHide(){}}),Nv=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:a,centered:i,size:s,fullscreen:o,children:l,scrollable:u,...c}=e;n=ko(n,"modal");const f=`${n}-dialog`,d="string"===typeof o?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return(0,to.jsx)("div",{...c,ref:t,className:go()(f,r,s&&`${n}-${s}`,i&&`${f}-centered`,u&&`${f}-scrollable`,o&&d),children:(0,to.jsx)("div",{className:go()(`${n}-content`,a),children:l})})}));Nv.displayName="ModalDialog";const Iv=Nv,Sv=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"modal-footer"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Sv.displayName="ModalFooter";const Mv=Sv,Ev={"aria-label":ni().string,onClick:ni().func,variant:ni().oneOf(["white"])},Lv=E.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":a="Close",...i}=e;return(0,to.jsx)("button",{ref:t,type:"button",className:go()("btn-close",r&&`btn-close-${r}`,n),"aria-label":a,...i})}));Lv.displayName="CloseButton",Lv.propTypes=Ev;const Tv=Lv,Av=E.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:r,closeButton:a=!1,onHide:i,children:s,...o}=e;const l=(0,E.useContext)(Cv),u=cb((()=>{null==l||l.onHide(),null==i||i()}));return(0,to.jsxs)("div",{ref:t,...o,children:[s,a&&(0,to.jsx)(Tv,{"aria-label":n,variant:r,onClick:u})]})})),Dv=Av,Rv=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:a="Close",closeButton:i=!1,...s}=e;return n=ko(n,"modal-header"),(0,to.jsx)(Dv,{ref:t,...s,className:go()(r,n),closeLabel:a,closeButton:i})}));Rv.displayName="ModalHeader";const jv=Rv,Ov=e=>E.forwardRef(((t,n)=>(0,to.jsx)("div",{...t,ref:n,className:go()(t.className,e)}))),_v=Ov("h4"),$v=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=_v,...i}=e;return r=ko(r,"modal-title"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));$v.displayName="ModalTitle";const Fv=$v;function zv(e){return(0,to.jsx)(wv,{...e,timeout:null})}function Pv(e){return(0,to.jsx)(wv,{...e,timeout:null})}const Bv=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,style:a,dialogClassName:i,contentClassName:s,children:o,dialogAs:l=Iv,"data-bs-theme":u,"aria-labelledby":c,"aria-describedby":f,"aria-label":d,show:h=!1,animation:p=!0,backdrop:m=!0,keyboard:g=!0,onEscapeKeyDown:y,onShow:b,onHide:v,container:w,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:C=!0,restoreFocusOptions:N,onEntered:I,onExit:S,onExiting:M,onEnter:L,onEntering:T,onExited:A,backdropClassName:D,manager:R,...j}=e;const[O,_]=(0,E.useState)({}),[$,F]=(0,E.useState)(!1),z=(0,E.useRef)(!1),P=(0,E.useRef)(!1),B=(0,E.useRef)(null),[U,W]=(0,E.useState)(null),V=db(t,W),G=cb(v),H=function(){const{dir:e}=(0,E.useContext)(vo);return"rtl"===e}();n=ko(n,"modal");const Y=(0,E.useMemo)((()=>({onHide:G})),[G]);function Q(){return R||function(e){return rv||(rv=new nv(e)),rv}({isRTL:H})}function J(e){if(!eb)return;const t=Q().getScrollbarWidth()>0,n=e.scrollHeight>ib(e).documentElement.clientHeight;_({paddingRight:t&&!n?lb():void 0,paddingLeft:!t&&n?lb():void 0})}const Z=cb((()=>{U&&J(U.dialog)}));hb((()=>{sb(window,"resize",Z),null==B.current||B.current()}));const q=()=>{z.current=!0},K=e=>{z.current&&U&&e.target===U.dialog&&(P.current=!0),z.current=!1},X=()=>{F(!0),B.current=kb(U.dialog,(()=>{F(!1)}))},ee=e=>{"static"!==m?P.current||e.target!==e.currentTarget?P.current=!1:null==v||v():(e=>{e.target===e.currentTarget&&X()})(e)},te=(0,E.useCallback)((e=>(0,to.jsx)("div",{...e,className:go()(`${n}-backdrop`,D,!p&&"show")})),[p,D,n]),ne={...a,...O};ne.display="block";return(0,to.jsx)(Cv.Provider,{value:Y,children:(0,to.jsx)(Jb,{show:h,ref:V,backdrop:m,container:w,keyboard:!0,autoFocus:x,enforceFocus:k,restoreFocus:C,restoreFocusOptions:N,onEscapeKeyDown:e=>{g?null==y||y(e):(e.preventDefault(),"static"===m&&X())},onShow:b,onHide:v,onEnter:(e,t)=>{e&&J(e),null==L||L(e,t)},onEntering:(e,t)=>{null==T||T(e,t),ab(window,"resize",Z)},onEntered:I,onExit:e=>{null==B.current||B.current(),null==S||S(e)},onExiting:M,onExited:e=>{e&&(e.style.display=""),null==A||A(e),sb(window,"resize",Z)},manager:Q(),transition:p?zv:void 0,backdropTransition:p?Pv:void 0,renderBackdrop:te,renderDialog:e=>(0,to.jsx)("div",{role:"dialog",...e,style:ne,className:go()(r,n,$&&`${n}-static`,!p&&"show"),onClick:m?ee:void 0,onMouseUp:K,"data-bs-theme":u,"aria-label":d,"aria-labelledby":c,"aria-describedby":f,children:(0,to.jsx)(l,{...j,onMouseDown:q,className:i,contentClassName:s,children:o})})})})}));Bv.displayName="Modal";const Uv=Object.assign(Bv,{Body:kv,Header:jv,Title:Fv,Footer:Mv,Dialog:Iv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});n(6440);const Wv={type:ni().string,tooltip:ni().bool,as:ni().elementType},Vv=E.forwardRef(((e,t)=>{let{as:n="div",className:r,type:a="valid",tooltip:i=!1,...s}=e;return(0,to.jsx)(n,{...s,ref:t,className:go()(r,`${a}-${i?"tooltip":"feedback"}`)})}));Vv.displayName="Feedback",Vv.propTypes=Wv;const Gv=Vv,Hv=E.createContext({}),Yv=E.forwardRef(((e,t)=>{let{bsPrefix:n,type:r,size:a,htmlSize:i,id:s,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:c,readOnly:f,as:d="input",...h}=e;const{controlId:p}=(0,E.useContext)(Hv);return n=ko(n,"form-control"),(0,to.jsx)(d,{...h,type:r,size:i,ref:t,readOnly:f,id:s||p,className:go()(o,c?`${n}-plaintext`:n,a&&`${n}-${a}`,"color"===r&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})}));Yv.displayName="FormControl";const Qv=Object.assign(Yv,{Feedback:Gv});function Jv(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Jv(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Zv=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Jv(e))&&(r&&(r+=" "),r+=t);return r},qv=e=>"number"==typeof e&&!isNaN(e),Kv=e=>"string"==typeof e,Xv=e=>"function"==typeof e,ew=e=>Kv(e)||Xv(e)?e:null,tw=e=>(0,E.isValidElement)(e)||Kv(e)||Xv(e)||qv(e);function nw(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(e){let{children:s,position:o,preventExitTransition:l,done:u,nodeRef:c,isIn:f}=e;const d=r?`${t}--${o}`:t,h=r?`${n}--${o}`:n,p=(0,E.useRef)(0);return(0,E.useLayoutEffect)((()=>{const e=c.current,t=d.split(" "),n=r=>{r.target===c.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,E.useEffect)((()=>{const e=c.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:a}=e;requestAnimationFrame((()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame((()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,n)}))}))}(e,u,i):u()};f||(l?t():(p.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))}),[f]),E.createElement(E.Fragment,null,s)}}function rw(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const aw={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},iw=e=>{let{theme:t,type:n,...r}=e;return E.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},sw={info:function(e){return E.createElement(iw,{...e},E.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return E.createElement(iw,{...e},E.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return E.createElement(iw,{...e},E.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return E.createElement(iw,{...e},E.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return E.createElement("div",{className:"Toastify__spinner"})}};function ow(e){const[,t]=(0,E.useReducer)((e=>e+1),0),[n,r]=(0,E.useState)([]),a=(0,E.useRef)(null),i=(0,E.useRef)(new Map).current,s=e=>-1!==n.indexOf(e),o=(0,E.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:e=>i.get(e)}).current;function l(e){let{containerId:t}=e;const{limit:n}=o.props;!n||t&&o.containerId!==t||(o.count-=o.queue.length,o.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function c(){const{toastContent:e,toastProps:t,staleId:n}=o.queue.shift();d(e,t,n)}function f(e,n){let{delay:r,staleId:s,...l}=n;if(!tw(e)||function(e){return!a.current||o.props.enableMultiContainer&&e.containerId!==o.props.containerId||i.has(e.toastId)&&null==e.updateId}(l))return;const{toastId:f,updateId:h,data:p}=l,{props:m}=o,g=()=>u(f),y=null==h;y&&o.count++;const b={...m,style:m.toastStyle,key:o.toastKey++,...Object.fromEntries(Object.entries(l).filter((e=>{let[t,n]=e;return null!=n}))),toastId:f,updateId:h,data:p,closeToast:g,isIn:!1,className:ew(l.className||m.toastClassName),bodyClassName:ew(l.bodyClassName||m.bodyClassName),progressClassName:ew(l.progressClassName||m.progressClassName),autoClose:!l.isLoading&&(v=l.autoClose,w=m.autoClose,!1===v||qv(v)&&v>0?v:w),deleteToast(){const e=rw(i.get(f),"removed");i.delete(f),aw.emit(4,e);const n=o.queue.length;if(o.count=null==f?o.count-o.displayedToast:o.count-1,o.count<0&&(o.count=0),n>0){const e=null==f?o.props.limit:1;if(1===n||1===e)o.displayedToast++,c();else{const t=e>n?n:e;o.displayedToast=t;for(let e=0;e<t;e++)c()}}else t()}};var v,w;b.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:a}=e,i=null;const s={theme:t,type:n};return!1===a||(Xv(a)?i=a(s):(0,E.isValidElement)(a)?i=(0,E.cloneElement)(a,s):Kv(a)||qv(a)?i=a:r?i=sw.spinner():(e=>e in sw)(n)&&(i=sw[n](s))),i}(b),Xv(l.onOpen)&&(b.onOpen=l.onOpen),Xv(l.onClose)&&(b.onClose=l.onClose),b.closeButton=m.closeButton,!1===l.closeButton||tw(l.closeButton)?b.closeButton=l.closeButton:!0===l.closeButton&&(b.closeButton=!tw(m.closeButton)||m.closeButton);let x=e;(0,E.isValidElement)(e)&&!Kv(e.type)?x=(0,E.cloneElement)(e,{closeToast:g,toastProps:b,data:p}):Xv(e)&&(x=e({closeToast:g,toastProps:b,data:p})),m.limit&&m.limit>0&&o.count>m.limit&&y?o.queue.push({toastContent:x,toastProps:b,staleId:s}):qv(r)?setTimeout((()=>{d(x,b,s)}),r):d(x,b,s)}function d(e,t,n){const{toastId:a}=t;n&&i.delete(n);const s={content:e,props:t};i.set(a,s),r((e=>[...e,a].filter((e=>e!==n)))),aw.emit(4,rw(s,null==s.props.updateId?"added":"updated"))}return(0,E.useEffect)((()=>(o.containerId=e.containerId,aw.cancelEmit(3).on(0,f).on(1,(e=>a.current&&u(e))).on(5,l).emit(2,o),()=>{i.clear(),aw.emit(3,o)})),[]),(0,E.useEffect)((()=>{o.props=e,o.isToastActive=s,o.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(i.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:a,isToastActive:s}}function lw(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function uw(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function cw(e){const[t,n]=(0,E.useState)(!1),[r,a]=(0,E.useState)(!1),i=(0,E.useRef)(null),s=(0,E.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,o=(0,E.useRef)(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:f,closeOnClick:d}=e;function h(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.addEventListener("touchmove",y),document.addEventListener("touchend",b);const n=i.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=n.getBoundingClientRect(),n.style.transition="",s.x=lw(t.nativeEvent),s.y=uw(t.nativeEvent),"x"===e.draggableDirection?(s.start=s.x,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function p(t){if(s.boundingRect){const{top:n,bottom:r,left:a,right:i}=s.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&s.x>=a&&s.x<=i&&s.y>=n&&s.y<=r?g():m()}}function m(){n(!0)}function g(){n(!1)}function y(n){const r=i.current;s.canDrag&&r&&(s.didMove=!0,t&&g(),s.x=lw(n),s.y=uw(n),s.delta="x"===e.draggableDirection?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,r.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b);const t=i.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,E.useEffect)((()=>{o.current=e})),(0,E.useEffect)((()=>(i.current&&i.current.addEventListener("d",m,{once:!0}),Xv(e.onOpen)&&e.onOpen((0,E.isValidElement)(e.children)&&e.children.props),()=>{const e=o.current;Xv(e.onClose)&&e.onClose((0,E.isValidElement)(e.children)&&e.children.props)})),[]),(0,E.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",g))})),[e.pauseOnFocusLoss]);const v={onMouseDown:h,onTouchStart:h,onMouseUp:p,onTouchEnd:p};return l&&u&&(v.onMouseEnter=g,v.onMouseLeave=m),d&&(v.onClick=e=>{f&&f(e),s.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:v}}function fw(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return E.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},E.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},E.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dw(e){let{delay:t,isRunning:n,closeToast:r,type:a="default",hide:i,className:s,style:o,controlledProgress:l,progress:u,rtl:c,isIn:f,theme:d}=e;const h=i||l&&0===u,p={...o,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:h?0:1};l&&(p.transform=`scaleX(${u})`);const m=Zv("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),g=Xv(s)?s({rtl:c,type:a,defaultClassName:m}):Zv(m,s);return E.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:g,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&r()}})}const hw=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:a}=cw(e),{closeButton:i,children:s,autoClose:o,onClick:l,type:u,hideProgressBar:c,closeToast:f,transition:d,position:h,className:p,style:m,bodyClassName:g,bodyStyle:y,progressClassName:b,progressStyle:v,updateId:w,role:x,progress:k,rtl:C,toastId:N,deleteToast:I,isIn:S,isLoading:M,iconOut:L,closeOnClick:T,theme:A}=e,D=Zv("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":T}),R=Xv(p)?p({rtl:C,position:h,type:u,defaultClassName:D}):Zv(D,p),j=!!k||!o,O={closeToast:f,type:u,theme:A};let _=null;return!1===i||(_=Xv(i)?i(O):(0,E.isValidElement)(i)?(0,E.cloneElement)(i,O):fw(O)),E.createElement(d,{isIn:S,done:I,position:h,preventExitTransition:n,nodeRef:r},E.createElement("div",{id:N,onClick:l,className:R,...a,style:m,ref:r},E.createElement("div",{...S&&{role:x},className:Xv(g)?g({type:u}):Zv("Toastify__toast-body",g),style:y},null!=L&&E.createElement("div",{className:Zv("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},L),E.createElement("div",null,s)),_,E.createElement(dw,{...w&&!j?{key:`pb-${w}`}:{},rtl:C,theme:A,delay:o,isRunning:t,isIn:S,closeToast:f,hide:c,type:u,style:v,className:b,controlledProgress:j,progress:k||0})))},pw=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},mw=nw(pw("bounce",!0)),gw=(nw(pw("slide",!0)),nw(pw("zoom")),nw(pw("flip")),(0,E.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:a}=ow(e),{className:i,style:s,rtl:o,containerId:l}=e;function u(e){const t=Zv("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":o});return Xv(i)?i({position:e,rtl:o,defaultClassName:t}):Zv(t,ew(i))}return(0,E.useEffect)((()=>{t&&(t.current=r.current)}),[]),E.createElement("div",{ref:r,className:"Toastify",id:l},n(((e,t)=>{const n=t.length?{...s}:{...s,pointerEvents:"none"};return E.createElement("div",{className:u(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:i}=e;return E.createElement(hw,{...i,isIn:a(i.toastId),style:{...i.style,"--nth":n+1,"--len":t.length},key:`toast-${i.key}`},r)})))})))})));gw.displayName="ToastContainer",gw.defaultProps={position:"top-right",transition:mw,autoClose:5e3,closeButton:fw,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let yw,bw=new Map,vw=[],ww=1;function xw(){return""+ww++}function kw(e){return e&&(Kv(e.toastId)||qv(e.toastId))?e.toastId:xw()}function Cw(e,t){return bw.size>0?aw.emit(0,e,t):vw.push({content:e,options:t}),t.toastId}function Nw(e,t){return{...t,type:t&&t.type||e,toastId:kw(t)}}function Iw(e){return(t,n)=>Cw(t,Nw(e,n))}function Sw(e,t){return Cw(e,Nw("default",t))}function Mw(e){return Ci({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]})(e)}function Ew(e){return Ci({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"}}]})(e)}function Lw(e){return Ci({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"}}]})(e)}function Tw(e){return[].concat(e)}function Aw(e){return e.startsWith(":")}function Dw(e){return _w(e)&&("*"===e||e.length>1&&":>~.+*".includes(e.slice(0,1))||$w(e))}function Rw(e,t){return(_w(t)||"number"===typeof t)&&!Ow(e)&&!Aw(e)&&!jw(e)}function jw(e){return e.startsWith("@media")}function Ow(e){return"--"===e}function _w(e){return e+""===e}function $w(e){return _w(e)&&(e.startsWith("&")||Aw(e))}function Fw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter(Boolean).join(t)}function zw(e,t){let n=0;if(0===t.length)return n.toString();for(let r=0;r<t.length;r++){n=(n<<5)-n+t.charCodeAt(r),n|=0}return`${e??"cl"}_${n.toString(36)}`}function Pw(e,t){return`${e}:${t}`}Sw.loading=(e,t)=>Cw(e,Nw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Sw.promise=function(e,t,n){let r,{pending:a,error:i,success:s}=t;a&&(r=Kv(a)?Sw.loading(a,n):Sw.loading(a.render,{...n,...a}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,a)=>{if(null==t)return void Sw.dismiss(r);const i={type:e,...o,...n,data:a},s=Kv(t)?{render:t}:t;return r?Sw.update(r,{...i,...s}):Sw(s.render,{...i,...s}),a},u=Xv(e)?e():e;return u.then((e=>l("success",s,e))).catch((e=>l("error",i,e))),u},Sw.success=Iw("success"),Sw.info=Iw("info"),Sw.error=Iw("error"),Sw.warning=Iw("warning"),Sw.warn=Sw.warning,Sw.dark=(e,t)=>Cw(e,Nw("default",{theme:"dark",...t})),Sw.dismiss=e=>{bw.size>0?aw.emit(1,e):vw=vw.filter((t=>null!=e&&t.options.toastId!==e))},Sw.clearWaitingQueue=function(e){return void 0===e&&(e={}),aw.emit(5,e)},Sw.isActive=e=>{let t=!1;return bw.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Sw.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=bw.get(n||yw);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:a}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:xw()};i.toastId!==e&&(i.staleId=e);const s=i.render||a;delete i.render,Cw(s,i)}}),0)},Sw.done=e=>{Sw.update(e,{progress:1})},Sw.onChange=e=>(aw.on(4,e),()=>{aw.off(4,e)}),Sw.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Sw.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},aw.on(2,(e=>{yw=e.containerId||e,bw.set(yw,e),vw.forEach((e=>{aw.emit(0,e.content,e.options)})),vw=[]})).on(3,(e=>{bw.delete(e.containerId||e),0===bw.size&&aw.off(0).off(1).off(5)}));var Bw=class e{constructor(e,t,n,r){this.sheet=e,this.property=t,this.value=n,this.selector=r,this.property=t,this.value=n,this.joined=Pw(t,n);const a=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:zw(this.sheet.name,this.joined),this.key=Fw([this.joined,a,this.hash])}toString(){let t=Uw(this.selector.preconditions,{right:this.hash});return t=Uw(this.selector.postconditions,{left:t}),`${t} {${e.genRule(this.property,this.value)}}`}static genRule(e,t){return Pw(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),function(e,t){return"content"===e?`"${t}"`:t}(e,t))+";"}};function Uw(e){let{left:t="",right:n=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.reduce(((e,t)=>Aw(t)?e+t:$w(t)?e+t.slice(1):Fw([e,t]," ")),t);return Fw([r,(a=n,a?`.${a}`:"")]," ");var a}var Ww,Vw=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{preconditions:n,postconditions:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sheet=e,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=n?Tw(n):[],this.postconditions=r?Tw(r):[],this.setScope(t)}setScope(e){return e?(this.scopeClassName||(this.scopeName=e,this.scopeClassName=zw(this.sheet.name,e+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(t){return new e(this.sheet,t,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(t){return new e(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(t)})}addPostcondition(t){return new e(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(t)})}createRule(e,t){return new Bw(this.sheet,e,t,this)}},Gw=class{constructor(e,t){this.name=e,this.rootNode=t,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${e}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(e){this.style=function(e,t){return e?`${e}\n${t}`:t}(this.style,e)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if("undefined"===typeof document||this.isApplied()||null===this.rootNode)return this.styleTag;const e=document.createElement("style");return e.type="text/css",e.id=this.id,(this.rootNode??document.head).appendChild(e),e}addRule(e){const t=this.storedClasses[e.key];return _w(t)?t:(this.storedClasses[e.key]=e.hash,this.storedStyles[e.hash]=[e.property,e.value],this.append(e.toString()),e.hash)}};function Hw(e,t){for(const n in e)t(n.trim(),e[n])}function Yw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t instanceof Set?e.push(...t):"string"===typeof t?e.push(t):Array.isArray(t)?e.push(Yw(...t)):"object"===typeof t&&Object.entries(t).forEach((t=>{let[n,r]=t;r&&e.push(n)})),e)),[]);return Fw(r," ").trim()}function Qw(e,t){const n=new Gw(e,t);return{create:function(e){const t={};return Jw(n,e,new Vw(n)).forEach((e=>{let[r,a,i]=e;Zw(n,a,i).forEach((e=>{!function(e,n){t[e]=t[e]??new Set,t[e].add(n)}(r,e)}))})),n.apply(),t},getStyle:n.getStyle.bind(n),isApplied:n.isApplied.bind(n)}}function Jw(e,t,n){const r=[];return Hw(t,((a,i)=>{if(Dw(a))return Jw(e,i,n.addPrecondition(a)).forEach((e=>r.push(e)));r.push([a,t[a],n.addScope(a)])})),r}function Zw(e,t,n){const r=new Set;return Hw(t,((t,a)=>{let i=[];if(Dw(t))i=Zw(e,a,n.addPostcondition(t));else if(function(e){return"."===e}(t))i=Tw(a);else if(jw(t))i=function(e,t,n,r){e.append(n+" {");const a=Zw(e,t,r);return e.append("}"),a}(e,a,t,n);else if(Ow(t))i=function(e,t,n){const r=new Set,a=[];if(Hw(t,((t,i)=>{if(Rw(t,i))return void a.push(Bw.genRule(t,i));qw(Zw(e,i??{},n),r)})),!n.scopeClassName)return r;if(a.length){const t=a.join(" ");e.append(`${Uw(n.preconditions,{right:n.scopeClassName})} {${t}}`)}return r.add(n.scopeClassName),r}(e,a,n);else if(Rw(t,a)){const i=n.createRule(t,a);e.addRule(i),r.add(i.hash)}return qw(i,r)})),r}function qw(e,t){return e.forEach((e=>t.add(e))),t}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xw(e,t)}function ex(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nx(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tx(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"."+e})).join("")}!function(e){e.hiddenOnSearch="epr-hidden-on-search",e.searchActive="epr-search-active",e.hidden="epr-hidden",e.visible="epr-visible",e.active="epr-active",e.emoji="epr-emoji",e.category="epr-emoji-category",e.label="epr-emoji-category-label",e.categoryContent="epr-emoji-category-content",e.emojiHasVariations="epr-emoji-has-variations",e.scrollBody="epr-body",e.emojiList="epr-emoji-list",e.external="__EmojiPicker__",e.emojiPicker="EmojiPickerReact",e.open="epr-open",e.vertical="epr-vertical",e.horizontal="epr-horizontal",e.variationPicker="epr-emoji-variation-picker",e.darkTheme="epr-dark-theme",e.autoTheme="epr-auto-theme"}(Ww||(Ww={}));var ax=Qw("epr",null),ix={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},sx=ax.create({hidden:Kw({".":Ww.hidden},ix)}),ox=(0,E.memo)((function(){return(0,E.createElement)("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:ax.getStyle()}})})),lx=ax.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Kw({".":Ww.hiddenOnSearch},ix)},":has(input(:placeholder-shown))":{visibleOnSearchOnly:ix}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Kw({".":"epr-visible-on-search-only"},ix)}});function ux(e,t){var n,r;return{".epr-dark-theme":(n={},n[e]=t,n),".epr-auto-theme":(r={},r[e]={"@media (prefers-color-scheme: dark)":t},r)}}function cx(e,t){var n,r,a=null!=(n=e.customEmojis)?n:[],i=null!=(r=t.customEmojis)?r:[];return e.open===t.open&&e.emojiVersion===t.emojiVersion&&e.reactionsDefaultOpen===t.reactionsDefaultOpen&&e.searchPlaceHolder===t.searchPlaceHolder&&e.searchPlaceholder===t.searchPlaceholder&&e.defaultSkinTone===t.defaultSkinTone&&e.skinTonesDisabled===t.skinTonesDisabled&&e.autoFocusSearch===t.autoFocusSearch&&e.emojiStyle===t.emojiStyle&&e.theme===t.theme&&e.suggestedEmojisMode===t.suggestedEmojisMode&&e.lazyLoadEmojis===t.lazyLoadEmojis&&e.className===t.className&&e.height===t.height&&e.width===t.width&&e.style===t.style&&e.searchDisabled===t.searchDisabled&&e.skinTonePickerLocation===t.skinTonePickerLocation&&a.length===i.length}var fx,dx,hx,px,mx,gx,yx,bx=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"];!function(e){e.RECENT="recent",e.FREQUENT="frequent"}(fx||(fx={})),function(e){e.NATIVE="native",e.APPLE="apple",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook"}(dx||(dx={})),function(e){e.DARK="dark",e.LIGHT="light",e.AUTO="auto"}(hx||(hx={})),function(e){e.NEUTRAL="neutral",e.LIGHT="1f3fb",e.MEDIUM_LIGHT="1f3fc",e.MEDIUM="1f3fd",e.MEDIUM_DARK="1f3fe",e.DARK="1f3ff"}(px||(px={})),function(e){e.SUGGESTED="suggested",e.CUSTOM="custom",e.SMILEYS_PEOPLE="smileys_people",e.ANIMALS_NATURE="animals_nature",e.FOOD_DRINK="food_drink",e.TRAVEL_PLACES="travel_places",e.ACTIVITIES="activities",e.OBJECTS="objects",e.SYMBOLS="symbols",e.FLAGS="flags"}(mx||(mx={})),function(e){e.SEARCH="SEARCH",e.PREVIEW="PREVIEW"}(gx||(gx={}));var vx=[mx.SUGGESTED,mx.CUSTOM,mx.SMILEYS_PEOPLE,mx.ANIMALS_NATURE,mx.FOOD_DRINK,mx.TRAVEL_PLACES,mx.ACTIVITIES,mx.OBJECTS,mx.SYMBOLS,mx.FLAGS],wx={name:"Recently Used",category:mx.SUGGESTED},xx=((yx={})[mx.SUGGESTED]={category:mx.SUGGESTED,name:"Frequently Used"},yx[mx.CUSTOM]={category:mx.CUSTOM,name:"Custom Emojis"},yx[mx.SMILEYS_PEOPLE]={category:mx.SMILEYS_PEOPLE,name:"Smileys & People"},yx[mx.ANIMALS_NATURE]={category:mx.ANIMALS_NATURE,name:"Animals & Nature"},yx[mx.FOOD_DRINK]={category:mx.FOOD_DRINK,name:"Food & Drink"},yx[mx.TRAVEL_PLACES]={category:mx.TRAVEL_PLACES,name:"Travel & Places"},yx[mx.ACTIVITIES]={category:mx.ACTIVITIES,name:"Activities"},yx[mx.OBJECTS]={category:mx.OBJECTS,name:"Objects"},yx[mx.SYMBOLS]={category:mx.SYMBOLS,name:"Symbols"},yx[mx.FLAGS]={category:mx.FLAGS,name:"Flags"},yx);function kx(e){return vx.map((function(t){return Kw({},xx[t],e&&e[t]&&e[t])}))}function Cx(e){return e.category}function Nx(e){return e.name}function Ix(e,t){return void 0===t&&(t={}),Object.assign(xx[e],t)}var Sx,Mx={custom:[],smileys_people:[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],animals_nature:[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],food_drink:[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],travel_places:[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],activities:[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],objects:[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue worker\u2019s helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],symbols:[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],flags:[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","\xe5land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barth\xe9lemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","c\xf4te d\u2019ivoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","cura\xe7ao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","r\xe9union flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","s\xe3o tom\xe9 & pr\xedncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}]},Ex=[px.NEUTRAL,px.LIGHT,px.MEDIUM_LIGHT,px.MEDIUM,px.MEDIUM_DARK,px.DARK],Lx=Object.entries(px).reduce((function(e,t){var n=t[0];return e[t[1]]=n,e}),{}),Tx=Ex.reduce((function(e,t){var n;return Object.assign(e,((n={})[t]=t,n))}),{});!function(e){e.name="n",e.unified="u",e.variations="v",e.added_in="a",e.imgUrl="imgUrl"}(Sx||(Sx={}));var Ax={};function Dx(e){Rx(e).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("").forEach((function(t){var n;Ax[t]=null!=(n=Ax[t])?n:{},Ax[t][_x(e)]=e}))}function Rx(e){var t;return null!=(t=e[Sx.name])?t:[]}function jx(e){return e?Rx(e)[0]:""}function Ox(e){var t=e.split("-"),n=t.splice(1,1)[0];return Tx[n]?t.join("-"):e}function _x(e,t){var n,r=e[Sx.unified];return t&&Px(e)&&null!=(n=function(e,t){return t?zx(e).find((function(e){return e.includes(t)})):_x(e)}(e,t))?n:r}function $x(e){var t;return null!=(t=null==Mx?void 0:Mx[e])?t:[]}function Fx(e,t){return""+function(e){switch(e){case dx.TWITTER:return"https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/";case dx.GOOGLE:return"https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";case dx.FACEBOOK:return"https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/";case dx.APPLE:default:return"https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/"}}(t)+e+".png"}function zx(e){var t;return null!=(t=e[Sx.variations])?t:[]}function Px(e){return zx(e).length>0}function Bx(e){if(e){if(Vx[e])return Vx[e];var t=Ox(e);return Vx[t]}}setTimeout((function(){Ux.reduce((function(e,t){return Dx(t),e}),Ax)}));var Ux=Object.values(Mx).flat();function Wx(e){Mx[mx.CUSTOM].length=0,e.forEach((function(e){var t=function(e){var t;return(t={})[Sx.name]=e.names.map((function(e){return e.toLowerCase()})),t[Sx.unified]=e.id.toLowerCase(),t[Sx.added_in]="0",t[Sx.imgUrl]=e.imgUrl,t}(e);Mx[mx.CUSTOM].push(t),Vx[t[Sx.unified]]||(Ux.push(t),Vx[t[Sx.unified]]=t,Dx(t))}))}var Vx={};setTimeout((function(){Ux.reduce((function(e,t){return e[_x(t)]=t,Px(t)&&zx(t).forEach((function(n){e[n]=t})),e}),Vx)}));var Gx=["2640-fe0f","2642-fe0f","2695-fe0f"],Hx="Search",Yx=" found. Use up and down arrow keys to navigate.",Qx="1 result"+Yx,Jx="%n results"+Yx;function Zx(e){var t,n;void 0===e&&(e={});var r=qx(),a=Object.assign(r.previewConfig,null!=(t=e.previewConfig)?t:{}),i=Object.assign(r,e),s=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t={});var r={};t.suggestionMode===fx.RECENT&&(r[mx.SUGGESTED]=wx);var a=kx(r);return null!=(n=e)&&n.length?e.map((function(e){return"string"===typeof e?Ix(e,r[e]):Kw({},Ix(e.category,r[e.category]),e)})):a}(e.categories,{suggestionMode:i.suggestedEmojisMode});i.hiddenEmojis.forEach((function(e){i.unicodeToHide.add(e)})),Wx(null!=(n=i.customEmojis)?n:[]);var o=i.searchDisabled?gx.PREVIEW:i.skinTonePickerLocation;return Kw({},i,{categories:s,previewConfig:a,skinTonePickerLocation:o})}function qx(){return{autoFocusSearch:!0,categories:kx(),className:"",customEmojis:[],defaultSkinTone:px.NEUTRAL,emojiStyle:dx.APPLE,emojiVersion:null,getEmojiUrl:Fx,height:450,lazyLoadEmojis:!1,previewConfig:Kw({},Kx),searchDisabled:!1,searchPlaceHolder:Hx,searchPlaceholder:Hx,skinTonePickerLocation:gx.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:fx.FREQUENT,theme:hx.LIGHT,unicodeToHide:new Set(Gx),width:350,reactionsDefaultOpen:!1,reactions:bx,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var Kx={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},Xx=["children"],ek=(0,E.createContext)(qx());function tk(e){var t=e.children,n=function(e){var t,n=(0,E.useState)((function(){return Zx(e)})),r=n[0],a=n[1];return(0,E.useEffect)((function(){cx(r,e)||a(Zx(e))}),[null==(t=e.customEmojis)?void 0:t.length,e.open,e.emojiVersion,e.reactionsDefaultOpen,e.searchPlaceHolder,e.searchPlaceholder,e.defaultSkinTone,e.skinTonesDisabled,e.autoFocusSearch,e.emojiStyle,e.theme,e.suggestedEmojisMode,e.lazyLoadEmojis,e.className,e.height,e.width,e.searchDisabled,e.skinTonePickerLocation,e.allowExpandReactions]),r}(ex(e,Xx));return(0,E.createElement)(ek.Provider,{value:n},t)}function nk(){return(0,E.useContext)(ek)}var rk,ak=E.createContext({});function ik(){return E.useContext(ak)}function sk(){}function ok(){return nk().allowExpandReactions}function lk(){return nk().skinTonesDisabled}function uk(){return nk().emojiStyle}function ck(){return nk().categories}function fk(){return nk().previewConfig}function dk(){return nk().searchDisabled}function hk(){return nk().skinTonePickerLocation}function pk(){return nk().getEmojiUrl}function mk(e){return"number"===typeof e?e+"px":e}function gk(e,t){void 0===t&&(t=0);var n=(0,E.useState)(e),r=n[0],a=n[1],i=(0,E.useRef)(null);return[r,function(e){return new Promise((function(n){var r;i.current&&clearTimeout(i.current),i.current=null==(r=window)?void 0:r.setTimeout((function(){a(e),n(e)}),t)}))}]}function yk(){var e=nk().unicodeToHide;return function(t){return e.has(t)}}function bk(){var e=(0,E.useRef)({}),t=nk().emojiVersion;return(0,E.useMemo)((function(){var n=parseFloat(""+t);return!t||Number.isNaN(n)?e.current:Ux.reduce((function(e,t){return function(e,t){return function(e){return parseFloat(e[Sx.added_in])}(e)>t}(t,n)&&(e[_x(t)]=!0),e}),e.current)}),[t])}function vk(e){var t,n=e.children,r=bk(),a=nk().defaultSkinTone,i=nk().reactionsDefaultOpen,s=(0,E.useRef)(Ax),o=(0,E.useRef)(!1),l=(0,E.useRef)(!1),u=(0,E.useRef)(r),c=gk(Date.now(),200),f=gk("",100),d=(0,E.useState)(!1),h=(0,E.useState)(a),p=(0,E.useState)(null),m=(0,E.useState)(new Set),g=(0,E.useState)(null),y=(0,E.useState)(i),b=(0,E.useState)(!1),v=b[0],w=b[1];return t=w,(0,E.useEffect)((function(){t(!0)}),[t]),(0,E.createElement)(wk.Provider,{value:{activeCategoryState:p,activeSkinTone:h,disallowClickRef:o,disallowMouseRef:l,disallowedEmojisRef:u,emojiVariationPickerState:g,emojisThatFailedToLoadState:m,filterRef:s,isPastInitialLoad:v,searchTerm:f,skinToneFanOpenState:d,suggestedUpdateState:c,reactionsModeState:y}},n)}!function(e){e.REACTIONS="reactions",e.PICKER="picker"}(rk||(rk={}));var wk=(0,E.createContext)({activeCategoryState:[null,function(){}],activeSkinTone:[px.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise((function(){}))}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function xk(){return(0,E.useContext)(wk).filterRef}function kk(){return(0,E.useContext)(wk).disallowMouseRef}function Ck(){return(0,E.useContext)(wk).reactionsModeState}function Nk(){return(0,E.useContext)(wk).searchTerm}function Ik(){return(0,E.useContext)(wk).activeSkinTone}function Sk(){return(0,E.useContext)(wk).emojisThatFailedToLoadState}function Mk(){return(0,E.useContext)(wk).emojiVariationPickerState}function Ek(){return(0,E.useContext)(wk).skinToneFanOpenState}function Lk(){var e=(0,E.useContext)(wk).suggestedUpdateState,t=e[0],n=e[1];return[t,function(){n(Date.now())}]}function Tk(){return!!Nk()[0]}function Ak(e){e&&requestAnimationFrame((function(){e.focus()}))}function Dk(e){e&&Ak(e.previousElementSibling)}function Rk(e){e&&Ak(e.nextElementSibling)}function jk(e){e&&Ak(e.firstElementChild)}function Ok(){return document.activeElement}function _k(e){var t=e.children,n=(0,E.useRef)(null),r=(0,E.useRef)(null),a=(0,E.useRef)(null),i=(0,E.useRef)(null),s=(0,E.useRef)(null),o=(0,E.useRef)(null),l=(0,E.useRef)(null),u=(0,E.useRef)(null);return(0,E.createElement)(Fk.Provider,{value:{AnchoredEmojiRef:r,BodyRef:a,CategoryNavigationRef:o,PickerMainRef:n,SearchInputRef:i,SkinTonePickerRef:s,VariationPickerRef:l,ReactionsRef:u}},t)}var $k,Fk=(0,E.createContext)({AnchoredEmojiRef:(0,E.createRef)(),BodyRef:(0,E.createRef)(),CategoryNavigationRef:(0,E.createRef)(),PickerMainRef:(0,E.createRef)(),SearchInputRef:(0,E.createRef)(),SkinTonePickerRef:(0,E.createRef)(),VariationPickerRef:(0,E.createRef)(),ReactionsRef:(0,E.createRef)()});function zk(){return(0,E.useContext)(Fk)}function Pk(){return zk().PickerMainRef}function Bk(){return zk().AnchoredEmojiRef}function Uk(){var e=Bk();return function(t){null===t&&null!==e.current&&Ak(e.current),e.current=t}}function Wk(){return zk().BodyRef}function Vk(){return zk().SearchInputRef}function Gk(){return zk().SkinTonePickerRef}function Hk(){return zk().CategoryNavigationRef}function Yk(e,t){void 0===t&&(t=0);var n=PC(e);n&&requestAnimationFrame((function(){n.scrollTop=t}))}function Qk(e){if(e&&function(e){if(!e)return!1;return BC(e)<zC(rN(e))}(e)&&!e.closest(rx(Ww.variationPicker))){var t=UC(e),n=BC(e);!function(e,t){var n=PC(e);n&&requestAnimationFrame((function(){n.scrollTop=n.scrollTop+t}))}(t,-(zC(rN(e))-n))}}function Jk(e){var t=eN(e);Ak(t),Qk(t)}function Zk(e){if(e){var t=KC(e);if(!t)return Jk(nN(e));Ak(t),Qk(t)}}function qk(e){if(e){var t=XC(e);if(t)Ak(t),Qk(t);else Ak(qC(tN(e)))}}function Kk(e,t){if(e){var n=function(e){if(!e)return null;var t=aN(e),n=rN(t),r=EC(t,e),a=LC(t,e),i=MC(t,e);if(0===a){var s=tN(n);return s?AC(ZC(s),-1,i,r):null}return function(e,t,n,r){var a=TC(e,t-1,n);return a[r]||a[a.length-1]||null}(ZC(t),a,i,r)}(e);if(!n)return t();Ak(n),Qk(n)}}function Xk(e){if(e){var t=function(e){if(!e)return null;var t=aN(e),n=rN(t),r=EC(t,e),a=LC(t,e),i=MC(t,e);if(!function(e,t){if(!e||!t)return!1;var n=t.getBoundingClientRect().height,r=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top,i=e.getBoundingClientRect().height;return Math.round(r-a+n)<i}(t,e)){var s=nN(n);return s?AC(ZC(s),0,i,r):null}return function(e,t,n,r){var a=function(e,t,n){var r=t+1;if(r*n>e.length)return[];return TC(e,r,n)}(e,t,n);return a[r]||a[a.length-1]||null}(ZC(t),a,i,r)}(e);return Ak(t)}}function eC(){var e=Mk(),t=e[0],n=e[1],r=Ek(),a=r[0],i=r[1];return(0,E.useCallback)((function(){t&&n(null),a&&i(!1)}),[t,a,n,i])}function tC(){var e=Mk()[0],t=Ek()[0];return function(){return!!e||t}}function nC(){var e=kk();return function(){e.current=!1}}function rC(){var e=kk();return function(){return e.current}}function aC(){var e=Vk();return(0,E.useCallback)((function(){Ak(e.current)}),[e])}function iC(){var e=Hk();return(0,E.useCallback)((function(){e.current&&jk(e.current)}),[e])}function sC(){var e=lC(),t=Vk(),n=aC();return function(){t.current&&(t.current.value=""),e(""),n()}}function oC(){var e=Vk(),t=xk(),n=function(){var e=xk();return function t(n){if("function"===typeof n)return t(n(e.current));e.current=n}}(),r=lC(),a=Nk()[0],i=function(e,t){var n;if(null==e||!e[t])return"";var r=(null==(n=Object.entries(null==e?void 0:e[t]))?void 0:n.length)||0;return function(e){return e>0?e>1?Jx.replace("%n",e.toString()):Qx:"No results found"}(r)}(t.current,a);return{onChange:function(e){var a=t.current,i=e.toLowerCase();if(null!=a&&a[i]||i.length<=1)return r(i);var s=function(e,t){if(!t)return null;if(t[e])return t[e];var n=Object.keys(t).sort((function(e,t){return t.length-e.length})).find((function(t){return e.includes(t)}));if(n)return t[n];return null}(i,a);if(!s)return r(i);n((function(e){var t;return Object.assign(e,((t={})[i]=function(e,t){var n={};for(var r in e){var a=e[r];uC(a,t)&&(n[r]=a)}return n}(s,i),t))})),r(i)},searchTerm:a,SearchInputRef:e,statusSearchResults:i}}function lC(){var e=Nk()[1],t=Pk();return function(n){requestAnimationFrame((function(){e(n?null==n?void 0:n.toLowerCase():n).then((function(){Yk(t.current,0)}))}))}}function uC(e,t){return Rx(e).some((function(e){return e.includes(t)}))}function cC(e){return e&&"string"===typeof e?e.trim().toLowerCase():""}function fC(){var e=Uk(),t=Mk()[1];return function(n){var r=_C(n)[0];r&&(e(n),t(r))}}function dC(){return hk()===gx.SEARCH}function hC(){return hk()===gx.PREVIEW}function pC(){!function(){var e=Pk(),t=sC(),n=function(){var e=Wk();return(0,E.useCallback)((function(t){requestAnimationFrame((function(){e.current&&(e.current.scrollTop=t)}))}),[e])}(),r=Vk(),a=aC(),i=tC(),s=function(){var e=kk();return function(){e.current=!0}}(),o=eC(),l=(0,E.useMemo)((function(){return function(e){var r=e.key;if(s(),r===$k.Escape){if(e.preventDefault(),i())return void o();t(),n(0),a()}}}),[n,t,o,a,i,s]);(0,E.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",l),function(){t.removeEventListener("keydown",l)}}),[e,r,n,l])}(),function(){var e=function(){var e=Gk();return(0,E.useCallback)((function(){e.current&&jk(e.current)}),[e])}(),t=Pk(),n=Wk(),r=Vk(),a=Ek()[1],i=mC(),s=dC(),o=(0,E.useMemo)((function(){return function(t){switch(t.key){case $k.ArrowRight:if(!s)return;t.preventDefault(),a(!0),e();break;case $k.ArrowDown:t.preventDefault(),i();break;case $k.Enter:t.preventDefault(),function(e){var t=eN(e);Ak(t),null==t||t.click()}(n.current)}}}),[e,i,a,n,s]);(0,E.useEffect)((function(){var e=r.current;if(e)return e.addEventListener("keydown",o),function(){e.removeEventListener("keydown",o)}}),[t,r,o])}(),function(){var e=Gk(),t=aC(),n=Vk(),r=mC(),a=Ek(),i=a[0],s=a[1],o=hC(),l=dC(),u=bC(),c=(0,E.useMemo)((function(){return function(e){var n=e.key;if(l)switch(n){case $k.ArrowLeft:if(e.preventDefault(),!i)return t();gC(t);break;case $k.ArrowRight:if(e.preventDefault(),!i)return t();yC();break;case $k.ArrowDown:e.preventDefault(),i&&s(!1),r();break;default:u(e)}if(o)switch(n){case $k.ArrowUp:if(e.preventDefault(),!i)return t();gC(t);break;case $k.ArrowDown:if(e.preventDefault(),!i)return t();yC();break;default:u(e)}}}),[i,t,s,r,u,o,l]);(0,E.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",c),function(){t.removeEventListener("keydown",c)}}),[e,n,i,c])}(),function(){var e=aC(),t=Hk(),n=Wk(),r=bC(),a=(0,E.useMemo)((function(){return function(t){switch(t.key){case $k.ArrowUp:t.preventDefault(),e();break;case $k.ArrowRight:t.preventDefault(),Rk(Ok());break;case $k.ArrowLeft:t.preventDefault(),Dk(Ok());break;case $k.ArrowDown:t.preventDefault(),Jk(n.current);break;default:r(t)}}}),[n,e,r]);(0,E.useEffect)((function(){var e=t.current;if(e)return e.addEventListener("keydown",a),function(){e.removeEventListener("keydown",a)}}),[t,n,a])}(),function(){var e=Wk(),t=function(){var e=aC(),t=iC(),n=Tk();return(0,E.useCallback)((function(){return n?e():t()}),[e,n,t])}(),n=fC(),r=tC(),a=eC(),i=bC(),s=(0,E.useMemo)((function(){return function(e){var s=e.key,o=OC(Ok());switch(s){case $k.ArrowRight:e.preventDefault(),Zk(o);break;case $k.ArrowLeft:e.preventDefault(),qk(o);break;case $k.ArrowDown:if(e.preventDefault(),r()){a();break}Xk(o);break;case $k.ArrowUp:if(e.preventDefault(),r()){a();break}Kk(o,t);break;case $k.Space:e.preventDefault(),n(e.target);break;default:i(e)}}}),[t,i,n,r,a]);(0,E.useEffect)((function(){var t=e.current;if(t)return t.addEventListener("keydown",s),function(){t.removeEventListener("keydown",s)}}),[e,s])}()}function mC(){var e=iC(),t=Tk(),n=Wk();return(0,E.useCallback)((function(){return t?Jk(n.current):e()}),[n,e,t])}function gC(e){var t=Ok();t&&(t.nextElementSibling||e(),Rk(t))}function yC(){var e=Ok();e&&Dk(e)}function bC(){var e=function(){var e=Vk(),t=lC();return function(n){e.current?(e.current.value=""+e.current.value+n,t(cC(e.current.value))):t(cC(n))}}(),t=aC(),n=dk(),r=eC();return function(a){var i=a.key;(function(e){var t=e.metaKey,n=e.ctrlKey,r=e.altKey;return t||n||r})(a)||n||i.match(/(^[a-zA-Z0-9]$){1}/)&&(a.preventDefault(),r(),t(),e(i))}}function vC(e,t,n){if(t&&n!==dx.NATIVE){var r=_x(t);wC.has(r)||(zx(t).forEach((function(t){!function(e){(new Image).src=e}(e(t,n))})),wC.add(r))}}!function(e){e.ArrowDown="ArrowDown",e.ArrowUp="ArrowUp",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.Escape="Escape",e.Enter="Enter",e.Space=" "}($k||($k={}));var wC=new Set;var xC=["width","height"],kC=40;function CC(e){var t=e.children;return(0,E.createElement)(vk,null,(0,E.createElement)(NC,null,t))}function NC(e){var t,n=e.children,r=Ck()[0],a=nk().theme,i=Tk(),s=Pk(),o=nk().className,l=function(){var e=nk(),t=e.height,n=e.width,r=e.style;return Kw({height:mk(t),width:mk(n)},r)}();pC(),function(){var e=Wk(),t=uk(),n=pk();(0,E.useEffect)((function(){if(t!==dx.NATIVE){var r=e.current;return null==r||r.addEventListener("focusin",a),function(){null==r||r.removeEventListener("focusin",a)}}function a(e){var r=OC(e.target);if(r){var a=_C(r)[0];a&&Px(a)&&vC(n,a,t)}}}),[e,t,n])}();var u=l||{},c=u.width,f=u.height,d=ex(u,xC);return(0,E.createElement)("aside",{className:Yw(SC.main,SC.baseVariables,a===hx.DARK&&SC.darkTheme,a===hx.AUTO&&SC.autoThemeDark,(t={},t[Ww.searchActive]=i,t),r&&SC.reactionsMenu,o),ref:s,style:Kw({},d,!r&&{height:f,width:c})},n)}var IC={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)","--epr-skin-tone-outer-border-color":"var(--epr-dark-skin-tone-outer-border-color)","--epr-skin-tone-inner-border-color":"var(--epr-dark-skin-tone-inner-border-color)"},SC=ax.create({main:{".":["epr-main",Ww.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#e5f0fa","--epr-hover-bg-color-reduced-opacity":"#e5f0fa80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-skin-tone-outer-border-color":"#555555","--epr-skin-tone-inner-border-color":"var(--epr-bg-color)","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":kC+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295","--epr-dark-skin-tone-outer-border-color":"var(--epr-dark-picker-border-color)","--epr-dark-skin-tone-inner-border-color":"#FFFFFF"}},autoThemeDark:{".":Ww.autoTheme,"@media (prefers-color-scheme: dark)":{"--":IC}},darkTheme:{".":Ww.darkTheme,"--":IC},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function MC(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect().width,r=t.getBoundingClientRect().width;return Math.floor(n/r)}function EC(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().width,r=t.getBoundingClientRect().left,a=e.getBoundingClientRect().left;return Math.floor((r-a)/n)}function LC(e,t){if(!e||!t)return 0;var n=t.getBoundingClientRect().height,r=t.getBoundingClientRect().top,a=e.getBoundingClientRect().top;return Math.round((r-a)/n)}function TC(e,t,n){if(-1===t){var r=Math.floor((e.length-1)/n)*n,a=e.length-1;return e.slice(r,a+1)}return e.slice(t*n,(t+1)*n)}function AC(e,t,n,r){var a=TC(e,t,n);return a[r]||a[a.length-1]||null}function DC(e,t,n){if(void 0===n&&(n=0),!e||!t.length)return null;var r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom,i=r+function(e){for(var t=Array.from(e.querySelectorAll(rx(Ww.label))),n=0,r=t;n<r.length;n++){var a=r[n].getBoundingClientRect().height;if(a>0)return a}return kC}(e);return t.find((function(e){var t=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom,o=e.clientHeight*n,l=t+o,u=s-o;return!(l<i)&&(l>=r&&l<=a||u>=r&&u<=a)}))||null}var RC="button"+rx(Ww.emoji),jC=[RC,rx(Ww.visible),":not("+rx(Ww.hidden)+")"].join("");function OC(e){var t;return null!=(t=null==e?void 0:e.closest(RC))?t:null}function _C(e){var t=HC(e),n=GC(e);if(!t)return[];var r=Bx(null!=n?n:t);return r?[r,n]:[]}function $C(e){var t;return null!=(t=null==e?void 0:e.clientHeight)?t:0}function FC(e){if(!e)return 0;var t=OC(e),n=rN(t),r=zC(n);return WC(t)+WC(n)+r}function zC(e){var t,n;if(!e)return 0;var r=e.querySelector(rx(Ww.categoryContent));return(null!=(t=null==e?void 0:e.clientHeight)?t:0)-(null!=(n=null==r?void 0:r.clientHeight)?n:0)}function PC(e){return e?e.matches(rx(Ww.scrollBody))?e:e.querySelector(rx(Ww.scrollBody)):null}function BC(e){var t,n;return e?FC(e)-(null!=(t=null==(n=UC(e))?void 0:n.scrollTop)?t:0):0}function UC(e){var t;return e&&null!=(t=e.closest(rx(Ww.scrollBody)))?t:null}function WC(e){var t;return null!=(t=null==e?void 0:e.offsetTop)?t:0}function VC(e){var t;return null!=(t=null==e?void 0:e.offsetLeft)?t:0}function GC(e){var t;return null!=(t=function(e,t){var n;return null!=(n=function(e){var t;return null!=(t=null==e?void 0:e.dataset)?t:{}}(e)[t])?n:null}(OC(e),"unified"))?t:null}function HC(e){var t=GC(e);return t?Ox(t):null}function YC(e){return e?{unified:GC(e),originalUnified:HC(e)}:{unified:null,originalUnified:null}}function QC(e){return e.classList.contains(Ww.visible)}function JC(e){return!e||e.classList.contains(Ww.hidden)}function ZC(e){return e?Array.from(e.querySelectorAll(jC)):[]}function qC(e){if(!e)return null;var t=ZC(e).slice(-1)[0];return t?QC(t)?t:XC(t):null}function KC(e){var t=e.nextElementSibling;return t?QC(t)?t:KC(t):eN(nN(e))}function XC(e){var t=e.previousElementSibling;return t?QC(t)?t:XC(t):qC(tN(e))}function eN(e){return e?DC(e,ZC(e),.1):null}function tN(e){var t=rN(e);if(!t)return null;var n=t.previousElementSibling;return n?JC(n)?tN(n):n:null}function nN(e){var t=rN(e);if(!t)return null;var n=t.nextElementSibling;return n?JC(n)?nN(n):n:null}function rN(e){return e?e.closest(rx(Ww.category)):null}function aN(e){return e?e.closest(rx(Ww.categoryContent)):null}function iN(e){return e.split("-").map((function(e){return String.fromCodePoint(parseInt(e,16))})).join("")}var sN="epr_suggested";function oN(e){try{var t,n,r;if(null==(t=window)||!t.localStorage)return[];var a=JSON.parse(null!=(n=null==(r=window)?void 0:r.localStorage.getItem(sN))?n:"[]");return e===fx.FREQUENT?a.sort((function(e,t){return t.count-e.count})):a}catch(i){return[]}}function lN(e){return void 0!==e.imgUrl}function uN(e,t){var n=(0,E.useRef)(),r=fC(),a=(0,E.useContext)(wk).disallowClickRef,i=Mk()[1],s=eC(),o=Ik()[0],l=function(e){var t,n=ik().current;return(null!=(t=e===rk.REACTIONS?n.onReactionClick:n.onEmojiClick)?t:n.onEmojiClick)||function(){}}(t),u=Lk()[1],c=pk(),f=uk(),d=(0,E.useCallback)((function(e){if(!a.current){s();var t=cN(e),n=t[0],r=t[1];if(n&&r){var i=function(e){var t=e.split("-")[1];return Ex.includes(t)?t:null}(r)||o;u(),function(e,t){var n,r=oN(),a=_x(e,t),i=_x(e),s=r.find((function(e){return e.unified===a}));n=s?[s].concat(r.filter((function(e){return e!==s}))):[s={unified:a,original:i,count:0}].concat(r),s.count++,n.length=Math.min(n.length,14);try{var o;null==(o=window)||o.localStorage.setItem(sN,JSON.stringify(n))}catch(l){}}(n,i),l(function(e,t,n,r){var a=Rx(e);if(lN(e)){var i=_x(e);return{activeSkinTone:t,emoji:i,getImageUrl:function(){return e.imgUrl},imageUrl:e.imgUrl,isCustom:!0,names:a,unified:i,unifiedWithoutSkinTone:i}}var s=_x(e,t);return{activeSkinTone:t,emoji:iN(s),getImageUrl:function(e){return void 0===e&&(e=null!=n?n:dx.APPLE),r(s,e)},imageUrl:r(s,null!=n?n:dx.APPLE),isCustom:!1,names:a,unified:s,unifiedWithoutSkinTone:_x(e)}}(n,i,f,c),e)}}}),[o,s,a,l,u,c,f]),h=(0,E.useCallback)((function(e){var t;n.current&&clearTimeout(n.current);var o=cN(e)[0];o&&Px(o)&&(n.current=null==(t=window)?void 0:t.setTimeout((function(){a.current=!0,n.current=void 0,s(),r(e.target),i(o)}),500))}),[a,s,r,i]),p=(0,E.useCallback)((function(){n.current?(clearTimeout(n.current),n.current=void 0):a.current&&requestAnimationFrame((function(){a.current=!1}))}),[a]);(0,E.useEffect)((function(){if(e.current){var t=e.current;return t.addEventListener("click",d,{passive:!0}),t.addEventListener("mousedown",h,{passive:!0}),t.addEventListener("mouseup",p,{passive:!0}),function(){null==t||t.removeEventListener("click",d),null==t||t.removeEventListener("mousedown",h),null==t||t.removeEventListener("mouseup",p)}}}),[e,d,h,p])}function cN(e){var t=null==e?void 0:e.target;return function(e){var t;return Boolean((null==e?void 0:e.matches(RC))||(null==e||null==(t=e.parentElement)?void 0:t.matches(RC)))}(t)?_C(t):[]}function fN(e){return(0,E.createElement)("button",Object.assign({type:"button"},e,{className:Yw(dN.button,e.className)}),e.children)}var dN=ax.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function hN(e){var t,n=e.emojiNames,r=e.unified,a=e.hidden,i=e.hiddenOnSearch,s=e.showVariations,o=void 0===s||s,l=e.hasVariations,u=e.children,c=e.className,f=e.noBackground,d=void 0!==f&&f;return(0,E.createElement)(fN,{className:Yw(mN.emoji,a&&sx.hidden,i&&lx.hiddenOnSearch,(t={},t[Ww.visible]=!a&&!i,t),!(!l||!o)&&mN.hasVariations,d&&mN.noBackground,c),"data-unified":r,"aria-label":pN(n),"data-full-name":n},u)}function pN(e){var t;return e[0].match("flag-")&&null!=(t=e[1])?t:e[0]}var mN=ax.create({emoji:{".":Ww.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Ww.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),gN=ax.create({external:{".":Ww.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function yN(e){var t=e.emojiName,n=e.style,r=e.lazyLoad,a=void 0!==r&&r,i=e.imgUrl,s=e.onError,o=e.className;return(0,E.createElement)("img",{src:i,alt:t,className:Yw(bN.emojiImag,gN.external,gN.common,o),loading:a?"lazy":"eager",onError:s,style:n})}var bN=ax.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function vN(e){var t=e.unified,n=e.style,r=e.className;return(0,E.createElement)("span",{className:Yw(wN.nativeEmoji,gN.common,gN.external,r),"data-unified":t,style:n},iN(t))}var wN=ax.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function xN(e){var t=e.emoji,n=e.unified,r=e.emojiStyle,a=e.size,i=e.lazyLoad,s=e.getEmojiUrl,o=void 0===s?Fx:s,l=e.className,u=Sk()[1],c={};a&&(c.width=c.height=c.fontSize=a+"px");var f=t||Bx(n);return f?lN(f)?(0,E.createElement)(yN,{style:c,emojiName:n,emojiStyle:dx.NATIVE,lazyLoad:i,imgUrl:f.imgUrl,onError:d,className:l}):(0,E.createElement)(E.Fragment,null,r===dx.NATIVE?(0,E.createElement)(vN,{unified:n,style:c,className:l}):(0,E.createElement)(yN,{style:c,emojiName:jx(f),emojiStyle:r,lazyLoad:i,imgUrl:o(n,r),onError:d,className:l})):null;function d(){u((function(e){return new Set(e).add(n)}))}}function kN(e){var t=e.emoji,n=e.unified,r=e.hidden,a=e.hiddenOnSearch,i=e.emojiStyle,s=e.showVariations,o=void 0===s||s,l=e.size,u=e.lazyLoad,c=e.getEmojiUrl,f=e.className,d=e.noBackground,h=void 0!==d&&d,p=Px(t);return(0,E.createElement)(hN,{hasVariations:p,showVariations:o,hidden:r,hiddenOnSearch:a,emojiNames:Rx(t),unified:n,noBackground:h},(0,E.createElement)(xN,{unified:n,emoji:t,size:l,emojiStyle:i,lazyLoad:u,getEmojiUrl:c,className:f}))}function CN(){var e=Ck()[1];return(0,E.createElement)(fN,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:Yw(NN.plusSign),onClick:function(){return e(!1)}})}var NN=ax.create(Kw({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=)",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},ux("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function IN(){var e=Ck()[0],t=zk().ReactionsRef,n=nk().reactions;uN(t,rk.REACTIONS);var r=uk(),a=ok(),i=pk();return e?(0,E.createElement)("ul",{className:Yw(SN.list,!e&&sx.hidden),ref:t},n.map((function(e){return(0,E.createElement)("li",{key:e},(0,E.createElement)(kN,{emoji:Bx(e),emojiStyle:r,unified:e,showVariations:!1,className:Yw(SN.emojiButton),noBackground:!0,getEmojiUrl:i}))})),a?(0,E.createElement)("li",null,(0,E.createElement)(CN,null)):null):null}var SN=ax.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function MN(){var e=Sk()[0],t=function(){var e=xk().current,t=Nk()[0];return function(n){return function(e,t,n){var r;return!(!t||!n)&&!(null!=(r=t[n])&&r[e])}(n,e,t)}}();return function(n){var r=_x(n),a=e.has(r),i=t(r);return{failedToLoad:a,filteredOut:i,hidden:a||i}}}function EN(e){var t=e.categoryConfig,n=e.children,r=e.hidden,a=e.hiddenOnSearch,i=Cx(t),s=Nx(t);return(0,E.createElement)("li",{className:Yw(LN.category,r&&sx.hidden,a&&lx.hiddenOnSearch),"data-name":i,"aria-label":s},(0,E.createElement)("h2",{className:Yw(LN.label)},s),(0,E.createElement)("div",{className:Yw(LN.categoryContent)},n))}var LN=ax.create({category:{".":Ww.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":Ww.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Ww.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),TN=!1;function AN(e){var t=e.categoryConfig,n=Lk()[0],r=function(){var e=(0,E.useState)(TN),t=e[0],n=e[1];return(0,E.useEffect)((function(){n(!0),TN=!0}),[]),t||TN}(),a=nk().suggestedEmojisMode,i=pk(),s=(0,E.useMemo)((function(){var e;return null!=(e=oN(a))?e:[]}),[n,a]),o=uk();return r?(0,E.createElement)(EN,{categoryConfig:t,hiddenOnSearch:!0,hidden:0===s.length},s.map((function(e){var t=Bx(e.original);return t?(0,E.createElement)(kN,{showVariations:!1,unified:e.unified,emojiStyle:o,emoji:t,key:e.unified,getEmojiUrl:i}):null}))):null}function DN(){var e=ck(),t=(0,E.useRef)(0);return(0,E.createElement)("ul",{className:Yw(ON.emojiList)},e.map((function(e){var n=Cx(e);return n===mx.SUGGESTED?(0,E.createElement)(AN,{key:n,categoryConfig:e}):(0,E.createElement)(E.Suspense,{key:n},(0,E.createElement)(RN,{category:n,categoryConfig:e,renderdCategoriesCountRef:t}))})))}function RN(e){var t=e.category,n=e.categoryConfig,r=e.renderdCategoriesCountRef,a=MN(),i=nk().lazyLoadEmojis,s=uk(),o=(0,E.useContext)(wk).isPastInitialLoad,l=Ik()[0],u=function(){var e=bk(),t=yk();return function(n){var r=Ox(_x(n));return Boolean(e[r]||t(r))}}(),c=pk(),f=!lk(),d=!o&&r.current>0?[]:$x(t);d.length>0&&r.current++;var h=0,p=d.map((function(e){var t=_x(e,l),n=a(e),r=n.failedToLoad,o=n.filteredOut,d=n.hidden,p=u(e);return(d||p)&&h++,p?null:(0,E.createElement)(kN,{showVariations:f,key:t,emoji:e,unified:t,hidden:r,hiddenOnSearch:o,emojiStyle:s,lazyLoad:i,getEmojiUrl:c})}));return(0,E.createElement)(EN,{categoryConfig:n,hidden:h===p.length},p)}var jN,ON=ax.create({emojiList:{".":Ww.emojiList,listStyle:"none",margin:"0",padding:"0"}});function _N(){var e,t,n=Bk(),r=zk().VariationPickerRef,a=Mk()[0],i=uk(),s=function(e){var t=Bk(),n=Wk(),r=jN.Up;return{getMenuDirection:a,getTop:i};function a(){return r}function i(){r=jN.Up;var a=0;if(!e.current)return 0;var i=$C(e.current);if(t.current){var s,o=n.current,l=OC(t.current),u=$C(l);a=FC(l),(null!=(s=null==o?void 0:o.scrollTop)?s:0)>a-i&&(r=jN.Down,a+=u+i)}return a-i}}(r),o=s.getTop,l=s.getMenuDirection,u=Uk(),c=function(e){var t=Bk();return function(){var n={};if(!e.current)return n;if(t.current){var r=OC(t.current),a=function(e){var t=OC(e),n=rN(t);return VC(t)+VC(n)}(r);if(!r)return n;n.left=a+(null==r?void 0:r.clientWidth)/2}return n}}(r),f=pk(),d=OC(n.current),h=Boolean(a&&d&&Px(a)&&d.classList.contains(Ww.emojiHasVariations));return(0,E.useEffect)((function(){h&&Jk(r.current)}),[r,h,n]),!h&&n.current?u(null):(e=o(),t=c()),(0,E.createElement)("div",{ref:r,className:Yw($N.variationPicker,l()===jN.Down&&$N.pointingUp,h&&$N.visible),style:{top:e}},h&&a?[_x(a)].concat(zx(a)).slice(0,6).map((function(e){return(0,E.createElement)(kN,{key:e,emoji:a,unified:e,emojiStyle:i,showVariations:!1,getEmojiUrl:f})})):null,(0,E.createElement)("div",{className:Yw($N.pointer),style:t}))}!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(jN||(jN={}));var $N=ax.create(Kw({variationPicker:{".":Ww.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=)"}},ux("pointer",{backgroundPosition:"-25px 0"})));function FN(){var e=Wk();return function(e){var t=eC();(0,E.useEffect)((function(){var n=e.current;if(n)return n.addEventListener("scroll",r,{passive:!0}),function(){null==n||n.removeEventListener("scroll",r)};function r(){t()}}),[e,t])}(e),uN(e,rk.PICKER),function(){var e=Wk(),t=nC(),n=rC();(0,E.useEffect)((function(){var r=e.current;function a(){n()&&t()}return null==r||r.addEventListener("mousemove",a,{passive:!0}),function(){null==r||r.removeEventListener("mousemove",a)}}),[e,t,n])}(),(0,E.createElement)("div",{className:Yw(BN.body,lx.hiddenOnReactions),ref:e},(0,E.createElement)(_N,null),(0,E.createElement)(DN,null))}var zN,PN,BN=ax.create({body:{".":Ww.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function UN(e,t){var n=Wk(),r=rC(),a=nC();(0,E.useEffect)((function(){if(e){var a=n.current;return null==a||a.addEventListener("keydown",o,{passive:!0}),null==a||a.addEventListener("mouseover",l,!0),null==a||a.addEventListener("focus",i,!0),null==a||a.addEventListener("mouseout",s,{passive:!0}),null==a||a.addEventListener("blur",s,!0),function(){null==a||a.removeEventListener("mouseover",l),null==a||a.removeEventListener("mouseout",s),null==a||a.removeEventListener("focus",i,!0),null==a||a.removeEventListener("blur",s,!0),null==a||a.removeEventListener("keydown",o)}}function i(e){var n=OC(e.target);if(!n)return s();var r=YC(n),a=r.unified,i=r.originalUnified;if(!a||!i)return s();t({unified:a,originalUnified:i})}function s(e){if(e&&!OC(e.relatedTarget))return t(null);t(null)}function o(e){"Escape"===e.key&&t(null)}function l(e){if(!r()){var n=OC(e.target);if(n){var i=function(e,t){if(!e||!t)return 0;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return r.height-(n.y-r.y)}(n,a);if(i<n.getBoundingClientRect().height)return function(e,t){var n,r=YC(e),a=r.unified,i=r.originalUnified;if(!a||!i)return;null==(n=document.activeElement)||null==n.blur||n.blur(),t({unified:a,originalUnified:i})}(n,t);Ak(n)}}}}),[n,e,t,r,a])}function WN(e){var t=e.children,n=e.className,r=e.style,a=void 0===r?{}:r,i=e.direction,s=void 0===i?PN.ROW:i;return(0,E.createElement)("div",{style:Kw({},a),className:Yw(VN.flex,n,VN[s])},t)}!function(e){e.ROW="FlexRow",e.COLUMN="FlexColumn"}(PN||(PN={}));var VN=ax.create(((zN={flex:{display:"flex"}})[PN.ROW]={flexDirection:"row"},zN[PN.COLUMN]={flexDirection:"column"},zN));function GN(e){var t=e.className,n=e.style,r=void 0===n?{}:n;return(0,E.createElement)("div",{style:Kw({flex:1},r),className:Yw(t)})}function HN(e){var t=e.children,n=e.className,r=e.style;return(0,E.createElement)("div",{style:Kw({},r,{position:"absolute"}),className:n},t)}function YN(e){var t=e.children,n=e.className,r=e.style;return(0,E.createElement)("div",{style:Kw({},r,{position:"relative"}),className:n},t)}function QN(e){var t=e.isOpen,n=e.onClick,r=e.isActive,a=e.skinToneVariation,i=e.style;return(0,E.createElement)(fN,{style:i,onClick:n,className:Yw("epr-tone-"+a,ZN.tone,!t&&ZN.closedTone,r&&ZN.active),"aria-pressed":r,"aria-label":"Skin tone "+Lx[a]})}var JN,ZN=ax.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",border:"1px solid var(--epr-skin-tone-outer-border-color)",boxShadow:"inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color), inset 0px 0px 0 1px var(--epr-skin-tone-inner-border-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}});function qN(){return(0,E.createElement)(YN,{style:{height:28}},(0,E.createElement)(HN,{style:{bottom:0,right:0}},(0,E.createElement)(KN,{direction:JN.VERTICAL})))}function KN(e){var t=e.direction,n=void 0===t?JN.HORIZONTAL:t,r=Gk(),a=lk(),i=Ek(),s=i[0],o=i[1],l=Ik(),u=l[0],c=l[1],f=ik().current.onSkinToneChange||function(){},d=eC(),h=aC();if(a)return null;var p=28*Ex.length+"px",m=s?p:"28px",g=n===JN.VERTICAL;return(0,E.createElement)(YN,{className:Yw(XN.skinTones,g&&XN.vertical,s&&XN.open,g&&s&&XN.verticalShadow),style:g?{flexBasis:m,height:m}:{flexBasis:m}},(0,E.createElement)("div",{className:Yw(XN.select),ref:r},Ex.map((function(e,t){var n=e===u;return(0,E.createElement)(QN,{key:e,skinToneVariation:e,isOpen:s,style:{transform:Yw(g?"translateY(-"+t*(s?28:0)+"px)":"translateX(-"+t*(s?28:0)+"px)",s&&n&&"scale(1.3)")},isActive:n,onClick:function(){s?(c(e),f(e),h()):o(!0),d()}})}))))}!function(e){e.VERTICAL="epr-vertical",e.HORIZONTAL="epr-horizontal"}(JN||(JN={}));var XN=ax.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active":{border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)"}});function eI(){var e=fk(),t=hC();return e.showPreview?(0,E.createElement)(WN,{className:Yw(nI.preview,lx.hiddenOnReactions)},(0,E.createElement)(tI,null),(0,E.createElement)(GN,null),t?(0,E.createElement)(qN,null):null):null}function tI(){var e,t=fk(),n=(0,E.useState)(null),r=n[0],a=n[1],i=uk(),s=Mk()[0],o=pk();UN(t.showPreview,a);var l=Bx(null!=(e=null==r?void 0:r.unified)?e:null==r?void 0:r.originalUnified),u=null!=l&&null!=r;return(0,E.createElement)((function(){var e=null!=s?s:Bx(t.defaultEmoji);if(!e)return null;var n=s?jx(s):t.defaultCaption;return(0,E.createElement)(E.Fragment,null,(0,E.createElement)("div",null,u?(0,E.createElement)(xN,{unified:null==r?void 0:r.unified,emoji:l,emojiStyle:i,size:45,getEmojiUrl:o,className:Yw(nI.emoji)}):e?(0,E.createElement)(xN,{unified:_x(e),emoji:e,emojiStyle:i,size:45,getEmojiUrl:o,className:Yw(nI.emoji)}):null),(0,E.createElement)("div",{className:Yw(nI.label)},u?jx(l):n))}),null)}var nI=ax.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"}});function rI(e){var t;return null!=(t=null==e?void 0:e.getAttribute("data-name"))?t:null}function aI(){var e=nk().customEmojis;return!!e&&0===e.length}function iI(e){var t,n=e.isActiveCategory,r=e.category,a=e.allowNavigation,i=e.categoryConfig,s=e.onClick;return(0,E.createElement)(fN,{tabIndex:a?0:-1,className:Yw(uI.catBtn,lx.categoryBtn,"epr-icn-"+r,(t={},t[Ww.active]=n,t)),onClick:s,"aria-label":Nx(i),"aria-selected":n,role:"tab","aria-controls":"epr-category-nav-id"})}var sI={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},oI={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},lI={":not(.epr-search-active)":{catBtn:{":hover":sI,"&.epr-active":sI}}},uI=ax.create(Kw({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+)",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},ux("catBtn",oI),{".epr-dark-theme":Kw({},lI),".epr-auto-theme":Kw({},lI)}));function cI(){var e=(0,E.useState)(null),t=e[0],n=e[1],r=function(){var e=Wk(),t=Pk();return function(n){var r;if(e.current){var a=null==(r=e.current)?void 0:r.querySelector('[data-name="'+n+'"]');if(a){var i=a.offsetTop||0;Yk(t.current,i)}}}}();!function(e){var t=Wk();(0,E.useEffect)((function(){var n=new Map,r=t.current,a=new IntersectionObserver((function(t){if(r){for(var a,i=nx(t);!(a=i()).done;){var s=a.value,o=rI(s.target);n.set(o,s.intersectionRatio)}var l=Array.from(n),u=l[l.length-1];if(1==u[1])return e(u[0]);for(var c=0,f=l;c<f.length;c++){var d=f[c],h=d[0];if(d[1]){e(h);break}}}}),{threshold:[0,1]});null==r||r.querySelectorAll(rx(Ww.category)).forEach((function(e){a.observe(e)}))}),[t,e])}(n);var a=Tk(),i=ck(),s=Hk(),o=aI();return(0,E.createElement)("div",{className:Yw(fI.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:s},i.map((function(e){var i=Cx(e),s=i===t;if(function(e){return e.category===mx.CUSTOM}(e)&&o)return null;var l=!a&&!s;return(0,E.createElement)(iI,{key:i,category:i,isActiveCategory:s,allowNavigation:l,categoryConfig:e,onClick:function(){n(i),r(i)}})})))}var fI=ax.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),dI="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function hI(){var e=sC();return(0,E.createElement)(fN,{className:Yw(mI.btnClearSearch,lx.visibleOnSearchOnly),onClick:e,"aria-label":"Clear",title:"Clear"},(0,E.createElement)("div",{className:Yw(mI.icnClearnSearch)}))}var pI={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},mI=ax.create(Kw({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+dI+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},ux("icnClearnSearch",{backgroundPositionY:"-40px"}),ux("btnClearSearch",pI))),gI=rx(Ww.emojiPicker)+" "+rx(Ww.emojiList),yI=["button",rx(Ww.emoji)].join(""),bI=rx(Ww.category);function vI(e){var t=e.value;if(!t)return null;var n=function(e){return[yI,'[data-full-name*="',cC(e),'"]'].join("")}(t);return(0,E.createElement)("style",null,"\n    "+gI+" "+yI+" {\n      display: none;\n    }\n\n\n    "+gI+" "+n+" {\n      display: flex;\n    }\n\n    "+gI+" "+bI+":not(:has("+n+")) {\n      display: none;\n    }\n  ")}function wI(){return(0,E.createElement)("div",{className:Yw(xI.icnSearch)})}var xI=ax.create(Kw({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+)"}},ux("icnSearch",{backgroundPositionY:"-20px"})));function kI(){var e=dk(),t=dC();return e?null:(0,E.createElement)(WN,{className:Yw(NI.overlay)},(0,E.createElement)(CI,null),t?(0,E.createElement)(KN,null):null)}function CI(){var e=(0,E.useState)(0),t=e[0],n=e[1],r=eC(),a=Vk(),i=function(){var e,t=nk();return null!=(e=[t.searchPlaceHolder,t.searchPlaceholder].find((function(e){return e!==Hx})))?e:Hx}(),s=nk().autoFocusSearch,o=oC(),l=o.statusSearchResults,u=o.searchTerm,c=o.onChange,f=null==a?void 0:a.current,d=null==f?void 0:f.value;return(0,E.createElement)(YN,{className:Yw(NI.searchContainer)},(0,E.createElement)(vI,{value:d}),(0,E.createElement)("input",{autoFocus:s,"aria-label":"Type to search for an emoji",onFocus:r,className:Yw(NI.search),type:"text","aria-controls":"epr-search-id",placeholder:i,onChange:function(e){n(t+1),setTimeout((function(){var t,n;c(null!=(t=null==e||null==(n=e.target)?void 0:n.value)?t:d)}))},ref:a}),u?(0,E.createElement)("div",{role:"status",className:Yw("epr-status-search-results",NI.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},l):null,(0,E.createElement)(wI,null),(0,E.createElement)(hI,null))}var NI=ax.create(Kw({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+dI+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},ux("icnClearnSearch",{backgroundPositionY:"-40px"}),ux("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function II(){return(0,E.createElement)(YN,{className:Yw("epr-header",lx.hiddenOnReactions)},(0,E.createElement)(kI,null),(0,E.createElement)(cI,null))}function SI(e){return(0,E.createElement)(_k,null,(0,E.createElement)(ox,null),(0,E.createElement)(tk,Object.assign({},e),(0,E.createElement)(MI,null)))}function MI(){var e=Ck()[0],t=ok(),n=(0,E.useState)(!e),r=n[0],a=n[1],i=nk().open;return(0,E.useEffect)((function(){e&&!t||r||a(!0)}),[r,t,e]),i?(0,E.createElement)(CC,null,(0,E.createElement)(IN,null),(0,E.createElement)(EI,{renderAll:r})):null}function EI(e){return e.renderAll?(0,E.createElement)(E.Fragment,null,(0,E.createElement)(II,null),(0,E.createElement)(FN,null),(0,E.createElement)(eI,null)):null}var LI=(0,E.memo)(SI,cx),TI=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xw(t,n),r.getDerivedStateFromError=function(){return{hasError:!0}};var a=r.prototype;return a.componentDidCatch=function(e,t){console.error("Emoji Picker React failed to render:",e,t)},a.render=function(){return this.state.hasError?null:this.props.children},r}(E.Component);const AI=function(e){var t=function(e){var t=E.useRef({onEmojiClick:e.onEmojiClick||sk,onReactionClick:e.onReactionClick||e.onEmojiClick,onSkinToneChange:e.onSkinToneChange||sk});return E.useEffect((function(){t.current.onEmojiClick=e.onEmojiClick||sk,t.current.onReactionClick=e.onReactionClick||e.onEmojiClick}),[e.onEmojiClick,e.onReactionClick]),E.useEffect((function(){t.current.onSkinToneChange=e.onSkinToneChange||sk}),[e.onSkinToneChange]),t}({onEmojiClick:e.onEmojiClick,onReactionClick:e.onReactionClick,onSkinToneChange:e.onSkinToneChange});return(0,E.createElement)(TI,null,(0,E.createElement)(ak.Provider,{value:t},(0,E.createElement)(LI,Object.assign({},e))))},DI=e=>{let{isVisible:t,toggleModal:n,chatMessages:r,sendMessage:a,setSendMessage:i,onSearch:s,receivedMessage:o}=e;const l=(0,E.useRef)(null),u=(0,E.useRef)(null),[c,f]=(0,E.useState)(!1),d=()=>{l.current&&l.current.scrollIntoView({behavior:"auto"})};(0,E.useEffect)((()=>{d()}),[r]),(0,E.useEffect)((()=>{t&&d(),o.text&&!t&&(u.current&&u.current.play(),Sw.info(`${o.text}`,{icon:(0,to.jsx)(Mw,{className:"notification-message",size:30})}))}),[o,t]);const h=()=>{a.trim()&&(s(a),i(""),f(!1))};return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(gw,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,toastClassName:"custom-toast"}),(0,to.jsx)("audio",{src:Xy,ref:u}),(0,to.jsxs)(Uv,{className:"chat-modal-main",show:t,onHide:()=>{n(!1),f(!1)},centered:!0,children:[(0,to.jsx)(Uv.Header,{closeButton:!0,className:"chat-modal-header",children:(0,to.jsx)(Uv.Title,{className:"chat-modal-title",children:"Chat"})}),(0,to.jsx)(Uv.Body,{className:"chat-modal-body",onClick:()=>f(!1),children:r.length?(0,to.jsxs)("div",{className:"message",children:[r.map(((e,t)=>(0,to.jsx)(E.Fragment,{children:(0,to.jsx)("div",{className:"sent"===e.type?"message-sent":"message-reciever",children:e.message})},t))),(0,to.jsx)("div",{ref:l})]}):(0,to.jsx)("div",{className:"no-message",children:(0,to.jsx)("span",{children:"No messages here"})})}),(0,to.jsx)(Uv.Footer,{className:"chat-modal-footer",children:(0,to.jsxs)("div",{className:"chat-input-section",children:[(0,to.jsx)(Qv,{placeholder:"Send a message",className:"chat-input",value:a,onChange:e=>i(e.target.value),onClick:()=>f(!1),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),h())}}),(0,to.jsx)(Ew,{className:"emoji-toggle",size:30,onClick:()=>f(!c)}),c&&(0,to.jsx)(AI,{searchDisabled:!0,height:310,width:310,emojiStyle:"google",onEmojiClick:e=>{i((t=>t+e.emoji))},className:"emoji"}),(0,to.jsx)(Lw,{className:"send-message",size:30,onClick:h})]})})]})]})};class RI{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class jI{refCount(e){return OI("refCount")}incRef(e){return OI("incRef")}timerAvailable(){return!0}time(e){return OI("time")}read(e){return OI("read")}readSync(e){return OI("readSync")}readToGPU(e,t){return OI("readToGPU")}numDataIds(){return OI("numDataIds")}disposeData(e,t){return OI("disposeData")}write(e,t,n){return OI("write")}move(e,t,n,r,a){return OI("move")}createTensorFromGPUData(e,t,n){return OI("createTensorFromGPUData")}memory(){return OI("memory")}floatPrecision(){return OI("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return OI("dispose")}}function OI(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function _I(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,zI(e,t,n)}function $I(e,t,n){return Math.max(e,Math.min(t,n))}function FI(e){return e%2===0?e:e+1}function zI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function PI(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function BI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";PI(VI(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function UI(e){PI(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function WI(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function VI(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function GI(e){return e%1===0}function HI(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function YI(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function QI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((a,i)=>{let s=0;const o=()=>{if(e())return void a();s++;const l=t(s);null!=n&&s>=n?i():null!=r?r(o,l):setTimeout(o,l)};o()}))}function JI(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const a=e.slice();return a[r]=t/n,a}function ZI(e,t){const n=t.length;return PI((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),PI(e.every((e=>GI(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function qI(e,t){const n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:ZI(t,e).sort();let s=0;for(let o=0;o<e.length;++o){if(null!=i){if(i[s]===o&&1!==e[o])throw new Error(`Can't squeeze axis ${o} since its dim '${e[o]}' is not 1`);(null==i[s]||i[s]>o)&&1===e[o]&&(n.push(e[o]),r.push(o)),i[s]<=o&&s++}1!==e[o]&&(n.push(e[o]),r.push(o))}return{newShape:n,keptDims:r}}function KI(e,t){return XI(e,t)}function XI(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function eS(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function tS(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function nS(e){return"string"===typeof e||e instanceof String}function rS(e){return"number"===typeof e}function aS(e){return Array.isArray(e)?aS(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":rS(e)?"float32":nS(e)?"string":function(e){return"boolean"===typeof e}(e)?"bool":"float32"}function iS(e){return!!(e&&e.constructor&&e.call&&e.apply)}function sS(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function oS(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function lS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)a[t]=n[e+t]}else{const i=t[0],s=t.slice(1),o=s.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<i;t++)a[t]=lS(e+t*o,s,n,r)}return a}function uS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return lS(0,e,t,n)}function cS(e,t){const n=fS(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function fS(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function dS(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return uS(e,new Float32Array(n));if("int32"===t)return uS(e,new Int32Array(n));if("bool"===t)return uS(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function hS(e){e.forEach((t=>{PI(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function pS(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function mS(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function gS(e){return e&&e.then&&"function"===typeof e.then}const yS="tfjsflags";class bS{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=vS,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(wS().getBool("IS_TEST")||wS().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];wS().getBool("IS_TEST")||wS().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(gS(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(yS in e){e[yS].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function vS(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function wS(){return kS}let xS,kS=null;function CS(){if(null==xS){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}xS=e}return xS}function NS(e,t){const n=function(){const e=CS();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const IS="Abs",SS="Acos",MS="Acosh",ES="Add",LS="AddN",TS="All",AS="Any",DS="ArgMax",RS="ArgMin",jS="Asin",OS="Asinh",_S="Atan",$S="Atanh",FS="Atan2",zS="AvgPool",PS="AvgPoolGrad",BS="AvgPool3D",US="AvgPool3DGrad",WS="BatchMatMul",VS="BatchToSpaceND",GS="Bincount",HS="BitwiseAnd",YS="BroadcastArgs",QS="Cast",JS="Ceil",ZS="ClipByValue",qS="Complex",KS="ComplexAbs",XS="Concat",eM="Conv2D",tM="Conv2DBackpropFilter",nM="Conv2DBackpropInput",rM="Conv3D",aM="Conv3DBackpropFilterV2",iM="Conv3DBackpropInputV2",sM="Cos",oM="Cosh",lM="Cumprod",uM="Cumsum",cM="CropAndResize",fM="DenseBincount",dM="DepthToSpace",hM="DepthwiseConv2dNative",pM="DepthwiseConv2dNativeBackpropFilter",mM="DepthwiseConv2dNativeBackpropInput",gM="Diag",yM="Dilation2D",bM="Dilation2DBackpropInput",vM="Dilation2DBackpropFilter",wM="Draw",xM="RealDiv",kM="Einsum",CM="Elu",NM="EluGrad",IM="Erf",SM="Equal",MM="Exp",EM="ExpandDims",LM="Expm1",TM="FFT",AM="Fill",DM="FlipLeftRight",RM="Floor",jM="FloorDiv",OM="FusedBatchNorm",_M="GatherV2",$M="GatherNd",FM="Greater",zM="GreaterEqual",PM="Identity",BM="IFFT",UM="Imag",WM="IsFinite",VM="IsInf",GM="IsNan",HM="LeakyRelu",YM="Less",QM="LessEqual",JM="LinSpace",ZM="Log",qM="Log1p",KM="LogicalAnd",XM="LogicalNot",eE="LogicalOr",tE="LRN",nE="LRNGrad",rE="Max",aE="Maximum",iE="MaxPool",sE="MaxPoolGrad",oE="MaxPool3D",lE="MaxPool3DGrad",uE="MaxPoolWithArgmax",cE="Mean",fE="Min",dE="Minimum",hE="MirrorPad",pE="Mod",mE="Multinomial",gE="Multiply",yE="Neg",bE="NotEqual",vE="NonMaxSuppressionV3",wE="NonMaxSuppressionV4",xE="NonMaxSuppressionV5",kE="OnesLike",CE="OneHot",NE="Pack",IE="PadV2",SE="Pow",ME="Prelu",EE="Prod",LE="RaggedGather",TE="RaggedRange",AE="RaggedTensorToTensor",DE="Range",RE="Real",jE="Reciprocal",OE="Relu",_E="Reshape",$E="ResizeNearestNeighbor",FE="ResizeNearestNeighborGrad",zE="ResizeBilinear",PE="ResizeBilinearGrad",BE="Relu6",UE="Reverse",WE="Round",VE="Rsqrt",GE="ScatterNd",HE="TensorScatterUpdate",YE="SearchSorted",QE="Select",JE="Selu",ZE="Slice",qE="Sin",KE="Sinh",XE="Sign",eL="Sigmoid",tL="Softplus",nL="Sqrt",rL="Sum",aL="SpaceToBatchND",iL="SplitV",sL="Softmax",oL="SparseFillEmptyRows",lL="SparseReshape",uL="SparseSegmentMean",cL="SparseSegmentSum",fL="SparseToDense",dL="SquaredDifference",hL="Square",pL="StaticRegexReplace",mL="StridedSlice",gL="StringNGrams",yL="StringSplit",bL="StringToHashBucketFast",vL="Sub",wL="Tan",xL="Tanh",kL="Tile",CL="TopK",NL="Transform",IL="Transpose",SL="Unique",ML="Unpack",EL="UnsortedSegmentSum",LL="ZerosLike",TL="Step",AL="FromPixels",DL="RotateWithOffset",RL="_FusedMatMul",jL="FusedConv2D",OL="FusedDepthwiseConv2D";function _L(){wS().getBool("IS_TEST")||wS().getBool("PROD")||console.warn(...arguments)}function $L(){wS().getBool("IS_TEST")||wS().getBool("PROD")||console.log(...arguments)}const FL=NS("kernelRegistry",(()=>new Map)),zL=NS("gradRegistry",(()=>new Map));function PL(e,t){const n=GL(e,t);return FL.get(n)}function BL(e){return zL.get(e)}function UL(e){const t=FL.entries(),n=[];for(;;){const{done:r,value:a}=t.next();if(r)break;const[i,s]=a,[o]=i.split("_");o===e&&n.push(s)}return n}function WL(e){const{kernelName:t,backendName:n}=e,r=GL(t,n);FL.has(r)&&_L(`The kernel '${t}' for backend '${n}' is already registered`),FL.set(r,e)}function VL(e){const{kernelName:t}=e;zL.has(t)&&wS().getBool("DEBUG")&&_L(`Overriding the gradient for '${t}'`),zL.set(t,e)}function GL(e,t){return`${t}_${e}`}function HL(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var YL=n(7353);const QL=n.n(YL)()||YL;function JL(e){return QL.fromString(e,!0,16)}const ZL=JL("c3a5c85c97cb3127"),qL=JL("b492b66fbe98f273"),KL=JL("9ae16a3b2f90404f");function XL(e){return e.xor(e.shru(47))}function eT(e,t,n){const r=e.slice(t,t+n);return QL.fromBytes(Array.from(r),!0,!0)}function tT(e,t){return eT(e,t,8)}function nT(e,t){return eT(e,t,4)}function rT(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function aT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JL("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let a=t.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function iT(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=rT(i.add(a).add(r),21);const s=a;return a=(a=a.add(t)).add(n),i=i.add(rT(a,44)),[a.add(r),i.add(s)]}(tT(e,t),tT(e,t+8),tT(e,t+16),tT(e,t+24),n,r)}function sT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=QL.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=KL.add(2*t),r=tT(e,0).add(KL),a=tT(e,t-8);return aT(rT(a,37).mul(n).add(r),rT(r,25).add(a).mul(n),n)}if(t>=4){const n=KL.add(2*t);return aT(nT(e,0).shl(3).add(t),nT(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return XL(KL.mul(n).xor(ZL.mul(r))).mul(KL)}return KL}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=KL.add(2*t),r=tT(e,0).mul(qL),a=tT(e,8),i=tT(e,t-8).mul(n),s=tT(e,t-16).mul(KL);return aT(rT(r.add(a),43).add(rT(i,30)).add(s),r.add(rT(a.add(KL),18)).add(i),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=KL.add(2*t),r=tT(e,0).mul(KL),a=tT(e,8),i=tT(e,t-8).mul(n),s=tT(e,t-16).mul(KL),o=rT(r.add(a),43).add(rT(i,30)).add(s),l=aT(o,r.add(rT(a.add(KL),18)).add(i),n),u=tT(e,16).mul(n),c=tT(e,24),f=o.add(tT(e,t-32)).mul(n),d=l.add(tT(e,t-24)).mul(n);return aT(rT(u.add(c),43).add(rT(f,30)).add(d),u.add(rT(c.add(r),18)).add(f),n)}(e,t);let r=n,a=n.mul(qL).add(113),i=XL(a.mul(KL).add(113)).mul(KL),s=[QL.UZERO,QL.UZERO],o=[QL.UZERO,QL.UZERO];r=r.mul(KL).add(tT(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=rT(r.add(a).add(s[0]).add(tT(e,l+8)),37).mul(qL),a=rT(a.add(s[1]).add(tT(e,l+48)),42).mul(qL),r=r.xor(o[1]),a=a.add(s[0]).add(tT(e,l+40)),i=rT(i.add(o[0]),33).mul(qL),s=iT(e,l,s[1].mul(qL),r.add(o[0])),o=iT(e,l+32,i.add(o[1]),a.add(tT(e,l+16))),[i,r]=[r,i],l+=64}while(l!==u);const f=qL.add(i.and(255).shl(1));return l=c,o[0]=o[0].add(t-1&63),s[0]=s[0].add(o[0]),o[0]=o[0].add(s[0]),r=rT(r.add(a).add(s[0]).add(tT(e,l+8)),37).mul(f),a=rT(a.add(s[1]).add(tT(e,l+48)),42).mul(f),r=r.xor(o[1].mul(9)),a=a.add(s[0].mul(9).add(tT(e,l+40))),i=rT(i.add(o[0]),33).mul(f),s=iT(e,l,s[1].mul(f),r.add(o[0])),o=iT(e,l+32,i.add(o[1]),a.add(tT(e,l+16))),[i,r]=[r,i],aT(aT(s[0],o[0],f).add(XL(a).mul(ZL)).add(i),aT(s[1],o[1],f).add(r),f)}function oT(e,t){return"string"===t?fT(e):lT([e],t)}function lT(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=pT(e)),wS().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function uT(){return wS().platform.now()}function cT(e,t){return wS().platform.fetch(e,t)}function fT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",wS().platform.encode(e,t)}function dT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",wS().platform.decode(e,t)}function hT(e){return null!=wS().platform.isTypedArray?wS().platform.isTypedArray(e):HL(e)}function pT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||gS(e)||null==e||hT(e)&&n)t.push(e);else if(Array.isArray(e)||hT(e))for(let r=0;r<e.length;++r)pT(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let a=0;a<=r;a++)pT(e[a],t,n)}return t}class mT{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new yT)}profileKernel(e,t,n){let r;const a=()=>{r=n()};let i;const s=uT();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(a);else{a();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:uT()-s})}if(wS().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<r.length;o++){const t=r[o];t.data().then((n=>{gT(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:a,extraInfo:i}=e;n.forEach((e=>{Promise.all([e.data(),r,i]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],a,n[2])}))}))}}function gT(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class yT{logKernelProfile(e,t,n,r,a,i){const s="number"===typeof r?YI(`${r}ms`,9):r.error,o=YI(e,25),l=t.rank,u=t.size,c=YI(t.shape.toString(),14);let f="";for(const d in a){const e=a[d];if(null!=e){const n=e.shape||t.shape,r=n.length;f+=`${d}: ${r}D ${r>0?n:""} `}}console.log(`%c${o}\t%c${s}\t%c${l}D ${c}\t%c${u}\t%c${f}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function bT(e,t,n,r){const a=oS(t),i=function(e,t,n,r){const a=WI(t),i=r[r.length-1],s=new Array(i).fill(0),o=t.length,l="complex64"===n?kT(e):e;if(o>1)for(let u=0;u<a/i;u++){const e=u*i;for(let t=0;t<i;t++)s[t]=Math.max(s[t],vT(l[e+t],0,n).length)}return s}(e,t,n,a),s=t.length,o=xT(e,t,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(o.map((e=>"    "+e)).join("\n")),l.join("\n")}function vT(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:nS(e)?`'${e}'`:"bool"===n?wT(e):parseFloat(e.toFixed(7)).toString(),YI(r,t)}function wT(e){return 0===e?"false":"true"}function xT(e,t,n,r,a){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s="complex64"===n?2:1,o=t[0],l=t.length;if(0===l){if("complex64"===n){return[vT(kT(e)[0],0,n)]}return"bool"===n?[wT(e[0])]:[e[0].toString()]}if(1===l){if(o>20){const t=3*s;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((o-3)*s,o*s));return"complex64"===n&&(r=kT(r),i=kT(i)),["["+r.map(((e,t)=>vT(e,a[t],n))).join(", ")+", ..., "+i.map(((e,t)=>vT(e,a[o-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?kT(e):Array.from(e)).map(((e,t)=>vT(e,a[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),f=r[0]*s,d=[];if(o>20){for(let t=0;t<3;t++){const r=t*f,i=r+f;d.push(...xT(e.slice(r,i),u,n,c,a,!1))}d.push("...");for(let t=o-3;t<o;t++){const r=t*f,i=r+f;d.push(...xT(e.slice(r,i),u,n,c,a,t===o-1))}}else for(let m=0;m<o;m++){const t=m*f,r=t+f;d.push(...xT(e.slice(t,r),u,n,c,a,m===o-1))}const h=2===l?",":"";d[0]="["+(o>0?d[0]+h:"");for(let m=1;m<d.length-1;m++)d[m]=" "+d[m]+h;let p=",\n";for(let m=2;m<l;m++)p+="\n";return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":p),d}function kT(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class CT{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=WI(e),null!=n){const e=n.length;PI(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||XI(t,this.size),this.strides=oS(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),PI(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const a=this.locToIndex(n);this.values[a]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const i of t){if(i<0||i>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let a=t[t.length-1];for(let i=0;i<t.length-1;++i)a+=this.strides[i]*t[i];return this.values[a]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return NT().makeTensor(this.values,this.shape,this.dtype)}}let NT=null,IT=null,ST=null;class MT{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=WI(e),this.strides=oS(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return IT.buffer(this.shape,this.dtype,e)}bufferSync(){return IT.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return uS(this.shape,e,"complex64"===this.dtype)}arraySync(){return uS(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=NT().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>dT(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),NT().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=NT().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>dT(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await NT().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),NT().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return IT.print(this,e)}clone(){return this.throwIfDisposed(),IT.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return bT(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),IT.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),NT().makeVariable(this,e,t,n)}}function ET(){return NS("Tensor",(()=>MT))}Object.defineProperty(MT,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),ET();class LT extends MT{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!VI(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);NT().disposeTensor(this),this.dataId=e.dataId,NT().incRef(this,null)}dispose(){NT().disposeVariable(this),this.isDisposedInternal=!0}}var TT,AT,DT,RT,jT;Object.defineProperty(LT,Symbol.hasInstance,{value:e=>e instanceof MT&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(TT||(TT={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(AT||(AT={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(DT||(DT={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(RT||(RT={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(jT||(jT={}));const OT={float32:RT,int32:AT,bool:DT,complex64:jT};function _T(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return OT[e][t]}function $T(e){return _T(e,"int32")}function FT(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function zT(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function PT(e,t){if(e.dtype===t.dtype)return[e,t];const n=_T(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function BT(e,t){return t.some((t=>t.id===e.id))}function UT(e){const t=[];return WT(e,t,new Set),t}function WT(e,t,n){if(null==e)return;if(e instanceof MT)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const a=e;for(const i in a){const e=a[i];n.has(e)||(n.add(e),WT(e,t,n))}}function VT(e){return null!=e.kernelName}class GT{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class HT{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new GT}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(_L(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new mT(this.backendInstance),!0}setupRegisteredKernels(){UL(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){UL(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof jI||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,_L(`Initialization of backend ${e} failed`),_L(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(Tae){return _L(`Initialization of backend ${e} failed`),_L(Tae.stack||Tae.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:a}=this.initializeBackend(n);if(a||r)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return HT.nextTensorId++}nextVariableId(){return HT.nextVariableId++}clone(e){const t=QT.runKernel(PM,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return QT.runKernel(QS,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=PL(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let a=0;n.forEach((e=>{a+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=r-t-a-i;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),a=this.state.numBytes,i=this.state.numTensors;let s,o;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=VT(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(VT(e)){const{kernelName:t,inputs:a,attrs:i}=e;null==this.backendName&&this.backend;const l=PL(t,this.backendName);PI(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),s=()=>{const e=this.backend.numDataIds();o=l.kernelFunc({inputs:a,attrs:i,backend:this.backend});const s=Array.isArray(o)?o:[o];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const u=s.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,a,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,a=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();o=this.tidy((()=>t(this.backend,a)));const n=Array.isArray(o)?o:[o];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,f=VT(e)?null:e.backwardsFunc;let d;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(d=this.profiler.profileKernel(l,u,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(d),t=d.outputs):t=s()})),r&&this.addTapeNode(l,u,t,f,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:d.timeMs,extraInfo:d.extraInfo}),Array.isArray(o)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=BL(e);if(null!=r){const e=r.inputsToSave||[],a=r.outputsToSave||[];let i;r.saveAllInputs?(PI(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(t).map((e=>t[e]))):i=e.map((e=>t[e]));const s=n.filter(((e,t)=>a[t]));return i.concat(s)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let a=e;"string"===n&&nS(e[0])&&(a=e.map((e=>fT(e))));const i=r.write(a,t,n),s=new MT(t,n,i,this.nextTensorId());if(this.trackTensor(s,r),"string"===n){const e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(a);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){const a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:a}=e,i=new MT(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const a=new LT(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*tS(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof LT||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*tS(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,a,i){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},o=BL(e);null!=o&&(r=o.gradFunc),null!=r&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=fS(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],a,i))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=UT(e),n=new Set(t.map((e=>e.id)));for(let a=0;a<this.state.activeScope.track.length;a++){const e=this.state.activeScope.track[a];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(PI(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const a=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));PI(a instanceof MT,(()=>"The result y returned by f() must be a tensor."));const i=function(e,t,n){const r={},a={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],i=n.inputs;for(const e in i){const s=i[e];let o=!1;for(let e=0;e<t.length;e++)if(r[s.id]){n.outputs.forEach((e=>r[e.id]=!0)),o=!0,a[n.id]=!0;break}if(o)break}}const i={};i[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(i[t.outputs[e].id]){for(const e in n)i[n[e].id]=!0,s[t.id]=!0;break}}const o=[];for(let l=0;l<e.length;l++){const t=e[l];if(a[t.id]&&s[t.id]){const e={};for(const a in t.inputs){const n=t.inputs[a];r[n.id]&&(e[a]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,o.push(n)}}return o}(this.state.activeTape,t,a);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[a.id]=null==n?function(e){const t=cS(WI(e),"float32");return QT.makeTensor(t,e,"float32")}(a.shape):n,function(e,t,n,r){for(let a=t.length-1;a>=0;a--){const i=t[a],s=[];if(i.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(s);for(const t in i.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const a=n((()=>o[t]()));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);const s=i.inputs[t];if(!VI(a.shape,s.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=a;else{const t=e[s.id];e[s.id]=r(t,a),t.dispose()}}}}(e,i,(e=>this.tidy(e)),JT);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:a,grads:r}}))}customGrad(e){var t=this;return PI(iS(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];let i;PI(r.every((e=>e instanceof MT)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};r.forEach(((e,t)=>{s[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(i=e(...r,n),PI(i.value instanceof MT,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),PI(iS(i.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),i.value),backwardsFunc:(e,t)=>{const n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];PI(a.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),PI(a.every((e=>e instanceof MT)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return a.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=uT(),n=await this.backend.time(e);return n.wallMs=uT()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new GT;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function YT(){const e=CS();if(null==e._tfengine){const t=new bS(e);e._tfengine=new HT(t)}var t;return t=e._tfengine.ENV,kS=t,NT=()=>e._tfengine,e._tfengine}HT.nextTensorId=0,HT.nextVariableId=0;const QT=YT();function JT(e,t){const n={a:e,b:t};return QT.runKernel(ES,n)}let ZT;function qT(e){if(void 0!==ZT)return ZT;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function KT(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const XT=wS();function eA(e,t){let n=e;if(hT(e))return"string"===t?[]:[e.length];if(FT(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(zT(e))return[e.buffer.size/(null==t?4:tS(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||hT(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&wS().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&tA(e,r,[]),r}function tA(e,t,n){if(n=n||[],!Array.isArray(e)&&!hT(e))return void PI(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));PI(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),PI(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let a=0;a<e.length;++a)tA(e[a],r,n.concat(a))}function nA(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function rA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof ET())return nA(r,e.dtype,t,n),e;let a=aS(e);if("string"!==a&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),nA(r,a,t,n),null==e||!hT(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const i=eA(e,a);hT(e)||Array.isArray(e)||(e=[e]);const s="string"!==a?lT(e,a):pT(e,[],!0);return QT.makeTensor(s,i,a)}function aA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,a)=>rA(e,`${t}[${a}]`,n,r)))}XT.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),XT.registerFlag("IS_BROWSER",(()=>KT())),XT.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),XT.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),XT.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),XT.registerFlag("PROD",(()=>!1)),XT.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>XT.getBool("DEBUG"))),XT.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),XT.registerFlag("IS_TEST",(()=>!1)),XT.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>XT.getBool("DEBUG"))),XT.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),XT.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),XT.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const iA="__op";function sA(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=iA;const a=function(){QT.startScope(n);try{const e=r(...arguments);return gS(e)&&console.error("Cannot return a Promise inside of tidy."),QT.endScope(e),e}catch(e){throw QT.endScope(null),e}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}const oA=sA({complex_:function(e,t){const n=rA(e,"real","complex"),r=rA(t,"imag","complex");BI(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return QT.runKernel(qS,a)}});function lA(e,t,n,r){if(null==r)r=aS(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(zT(e)||FT(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return QT.backend.createTensorFromGPUData(e,t||n,r)}if(!hT(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){hS(t);const e=WI(t),r=WI(n);PI(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let a=0;a<n.length;++a){const e=n[a],r=a!==n.length-1||e!==WI(t.slice(a));PI(n[a]===t[a]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return hT(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?lT(e,r):pT(e,[],!0),QT.makeTensor(e,t,r)}function uA(e,t,n){return lA(e,t,eA(e,n),n)}const cA={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class fA{static join(e){return new fA(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>hT(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=t+r.byteLength;this.shards.push({buffer:r,start:t,end:a}),t=a}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),a=new Uint8Array(r);let i=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],r=e+i-n.start,o=i,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(a.set(u,o),i+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,i=t(e[a]);if(0===i)return a;i<0?r=a:n=a+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function dA(){return QT}function hA(){return QT.memory()}function pA(e,t){return QT.tidy(e,t)}function mA(e){UT(e).forEach((e=>e.dispose()))}function gA(e){return QT.keep(e)}function yA(){return QT.backendName}function bA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return QT.registerBackend(e,t,n)}function vA(){return QT.backend}ST=function(e){wS().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")};const wA=4;async function xA(e,t){const n=[],r=[],a=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<a.length;++i){const s=a[i],o=Array.isArray(e)?e[i].tensor:e[s];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${o.dtype}`);const l={name:s,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+wA*t.length,r=new Uint8Array(n);let a=0;for(let i=0;i<t.length;i++){const e=t[i],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,a),a+=wA,r.set(e,a),a+=e.length}e(r)}));r.push(e)}else r.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:EA(await Promise.all(r)),specs:n}}function kA(e,t){const n=new fA(e),r={};let a=0;for(const i of t){const e=CA(i,((e,t)=>n.slice(a+e,a+t)));r[i.name]=IA(i,n.slice(a,a+e)),a+=e}return r}function CA(e,t){const n=WI(e.shape);let r;if("quantization"in e){const t=e.quantization;r=cA[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=wA+new Uint32Array(t(e,e+wA))[0];return e}r=cA[e.dtype]}return n*r}async function NA(e,t){const n=WI(e.shape);let r;if("quantization"in e){const t=e.quantization;r=cA[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=wA+new Uint32Array(await t(e,e+wA))[0];return e}r=cA[e.dtype]}return n*r}function IA(e,t){const n=e.name,r=e.dtype,a=e.shape,i=WI(a);let s,o=0;if("quantization"in e){const a=e.quantization;if("uint8"===a.dtype||"uint16"===a.dtype){if(!("min"in a)||!("scale"in a))throw new Error(`Weight ${e.name} with quantization ${a.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==a.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${a.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${e.name} is quantized with ${a.dtype} which only supports weights of type float32 not ${r}.`)}const l=cA[a.dtype],u="uint8"===a.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===a.dtype||"uint16"===a.dtype){s=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];s[e]=t*a.scale+a.min}}else{if("float16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let s=0;s<r.length;s++){const a=r[s],o=e[n[a>>10]+(1023&a)]+t[a>>10];i[s]=o}return new Float32Array(a)}}();s=e(u)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==a.dtype&&"uint16"!==a.dtype)throw new Error(`Unsupported quantization type ${a.dtype} for weight type int32.`);s=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];s[e]=Math.round(t*a.scale+a.min)}}o+=i*l}else if("string"===r){const n=WI(e.shape);s=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(o,o+wA))[0];o+=wA;const n=new Uint8Array(t.slice(o,o+e));s.push(n),o+=e}}else{const e=cA[r];if("float32"===r)s=new Float32Array(t);else if("int32"===r)s=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){s=new Float32Array(t);const e=new Float32Array(s.length/2),n=new Float32Array(s.length/2);for(let t=0;t<e.length;t++)e[t]=s[2*t],n[t]=s[2*t+1];const r=uA(e,a,"float32"),i=uA(n,a,"float32"),o=oA(r,i);return r.dispose(),i.dispose(),o}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}s=new Uint8Array(t)}o+=i*e}return uA(s,a,r)}async function SA(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:a}=await e.read();if(t&&null==a){const e=n-r.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const i=new Uint8Array(r.length+a.byteLength);i.set(r,0),i.set(new Uint8Array(a),r.length),r=i}return r.buffer}async function MA(e,t){const n={},r=e.getReader();let a=new ArrayBuffer(0);for(const i of t){const e=await NA(i,(async(e,t)=>(a=await SA(r,a,t),a.slice(e,t))));a=await SA(r,a,e);const t=a.slice(0,e);a=a.slice(e);const s=IA(i,t);if(n[i.name]=s,"webgpu"===yA()){const e=vA();"uploadToGPU"in e&&WI(s.shape)>=wS().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(s.dataId)}}return n}function EA(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let a=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}const LA="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function TA(e){return LA?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function AA(e){return fA.join(e)}function DA(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function RA(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function jA(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function OA(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),jA(e,n,r)}function _A(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:TA(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:TA(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new fA(e.weightData).byteLength}}function $A(e){const t=[];for(const n of e)t.push(...n.weights);return t}class FA{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==FA.instance&&(FA.instance=new FA),FA.instance}static registerSaveRouter(e){FA.getInstance().saveRouters.push(e)}static registerLoadRouter(e){FA.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return FA.getHandlers(e,"save")}static getLoadHandlers(e,t){return FA.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?FA.getInstance().loadRouters:FA.getInstance().saveRouters).forEach((t=>{const a=t(e,n);null!==a&&r.push(a)})),r}}const zA=e=>FA.registerSaveRouter(e),PA=e=>FA.registerLoadRouter(e),BA=e=>FA.getSaveHandlers(e),UA=(e,t)=>FA.getLoadHandlers(e,t),WA="tensorflowjs",VA="models_store",GA="model_info_store";function HA(){if(!wS().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function YA(e){const t=e.result;t.createObjectStore(VA,{keyPath:"modelPath"}),t.createObjectStore(GA,{keyPath:"modelPath"})}class QA{constructor(e){if(this.indexedDB=HA(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(WA,1);r.onupgradeneeded=()=>YA(r),r.onsuccess=()=>{const a=r.result;if(null==t){const t=a.transaction(VA,"readonly"),r=t.objectStore(VA).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return a.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(a.close(),n(r.error)),t.oncomplete=()=>a.close()}else{t.weightData=fA.join(t.weightData);const r=_A(t),s=a.transaction(GA,"readwrite");let o,l,u=s.objectStore(GA);try{o=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(i){return n(i)}o.onsuccess=()=>{l=a.transaction(VA,"readwrite");const o=l.objectStore(VA);let c;try{c=o.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(i){return n(i)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=s.objectStore(GA);const t=u.delete(this.modelPath);t.onsuccess=()=>(a.close(),n(c.error)),t.onerror=e=>(a.close(),n(c.error))}},o.onerror=e=>(a.close(),n(o.error)),s.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}}},r.onerror=e=>n(r.error)}))}}QA.URL_SCHEME="indexeddb://";const JA=e=>{return wS().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(QA.URL_SCHEME)?(t=e.slice(QA.URL_SCHEME.length),new QA(t)):null;var t};FA.registerSaveRouter(JA),FA.registerLoadRouter(JA);class ZA{constructor(){this.indexedDB=HA()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(WA,1);n.onupgradeneeded=()=>YA(n),n.onsuccess=()=>{const r=n.result,a=r.transaction(GA,"readonly"),i=a.objectStore(GA).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),a.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(QA.URL_SCHEME)?t.slice(QA.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(WA,1);r.onupgradeneeded=()=>YA(r),r.onsuccess=()=>{const a=r.result,i=a.transaction(GA,"readwrite"),s=i.objectStore(GA),o=s.get(e);let l;o.onsuccess=()=>{if(null==o.result)return a.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=s.delete(e),i=()=>{l=a.transaction(VA,"readwrite");const r=l.objectStore(VA).delete(e);r.onsuccess=()=>t(o.result.modelArtifactsInfo),r.onerror=e=>n(o.error)};r.onsuccess=i,r.onerror=e=>(i(),a.close(),n(o.error))}},o.onerror=e=>(a.close(),n(o.error)),i.oncomplete=()=>{null==l?a.close():l.oncomplete=()=>a.close()}},r.onerror=e=>n(r.error)}))}}const qA="/",KA="tensorflowjs_models",XA="info",eD="model_topology",tD="weight_specs",nD="weight_data",rD="model_metadata";function aD(e){return{info:[KA,e,XA].join(qA),topology:[KA,e,eD].join(qA),weightSpecs:[KA,e,tD].join(qA),weightData:[KA,e,nD].join(qA),modelMetadata:[KA,e,rD].join(qA)}}function iD(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function sD(e){const t=e.split(qA);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(qA)}class oD{constructor(e){if(!wS().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=aD(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=_A(e),a=fA.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(LA)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(a));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch(Tae){throw iD(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){const e=JSON.parse(a);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(LA){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(i),t}}oD.URL_SCHEME="localstorage://";const lD=e=>{return wS().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(oD.URL_SCHEME)?(t=e.slice(oD.URL_SCHEME.length),new oD(t)):null;var t};FA.registerSaveRouter(lD),FA.registerLoadRouter(lD);class uD{constructor(){PI(wS().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),PI("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=KA+qA,n=qA+XA;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n)){e[sD(a)]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){var t;const n=aD(e=(t=e).startsWith(oD.URL_SCHEME)?t.slice(oD.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return iD(n),r}}const cD="://";class fD{constructor(){this.managers={}}static getInstance(){return null==fD.instance&&(fD.instance=new fD),fD.instance}static registerManager(e,t){PI(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(cD)&&(e=e.slice(0,e.indexOf(cD))),PI(e.length>0,(()=>"scheme must not be an empty string."));const n=fD.getInstance();PI(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=fD.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(fD.getInstance().managers)}}function dD(e){if(-1===e.indexOf(cD))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${fD.getSchemes().join(",")}`);return{scheme:e.split(cD)[0],path:e.split(cD)[1]}}async function hD(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];PI(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=FA.getLoadHandlers(e);PI(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),PI(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const a=r[0],i=FA.getSaveHandlers(t);PI(i.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),PI(i.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const s=i[0],o=dD(e).scheme,l=dD(e).path,u=o===dD(e).scheme,c=await a.load();n&&u&&await fD.getManager(o).removeModel(l);const f=await s.save(c);return n&&!u&&await fD.getManager(o).removeModel(l),f.modelArtifactsInfo}async function pD(){const e=fD.getSchemes(),t={};for(const n of e){const e=await fD.getManager(n).listModels();for(const r in e){t[n+cD+r]=e[r]}}return t}async function mD(e){const t=dD(e);return fD.getManager(t.scheme).removeModel(t.path)}async function gD(e,t){return hD(e,t,!1)}async function yD(e,t){return hD(e,t,!0)}class bD{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&wS().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return HL(e)}}if(wS().get("IS_BROWSER")){wS().setPlatform("browser",new bD);try{fD.registerManager(oD.URL_SCHEME,new uD)}catch(Tae){}try{fD.registerManager(QA.URL_SCHEME,new ZA)}catch(Tae){}}const vD=()=>n(5817);let wD;class xD{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=wS().global.fetch?wS().global.fetch(e,t):(null==wD&&(wD=vD()),wD(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function kD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",hS(e),new CT(e,t,n)}wS().get("IS_NODE")&&!wS().get("IS_BROWSER")&&wS().setPlatform("node",new xD);const CD=sA({cast_:function(e,t){const n=rA(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:t};return QT.runKernel(QS,r,a)}});const ND=sA({clone_:function(e){const t={x:rA(e,"x","clone","string_or_numeric")};return QT.runKernel(PM,t)}});function ID(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}YT();IT={buffer:kD,cast:CD,clone:ND,print:ID};const SD=sA({add_:function(e,t){let n=rA(e,"a","add"),r=rA(t,"b","add");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(ES,a)}});const MD=sA({floorDiv_:function(e,t){let n=rA(e,"a","floorDiv"),r=rA(t,"b","floorDiv");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(jM,a)}});const ED=sA({div_:function(e,t){let n=rA(e,"a","div"),r=rA(t,"b","div");if([n,r]=PT(n,r),"int32"===n.dtype&&"int32"===r.dtype)return MD(n,r);const a={a:n,b:r};return QT.runKernel(xM,a,{})}});const LD=sA({mul_:function(e,t){let n=rA(e,"a","mul"),r=rA(t,"b","mul");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(gE,a)}});const TD=sA({sqrt_:function(e){const t={x:rA(e,"x","sqrt","float32")};return QT.runKernel(nL,t)}});const AD=sA({square_:function(e){const t=rA(e,"x","square");return QT.runKernel("Square",{x:t},{})}});const DD=sA({zerosLike_:function(e){const t={x:rA(e,"x","zerosLike")};return QT.runKernel(LL,t)}});function RD(e){return QT.customGrad(e)}function jD(e,t){if((hT(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&hT(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return lA(e,[],[],t)}const OD=new Map,_D=new Map;class $D{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class FD{constructor(){this.classNameMap={}}static getMap(){return null==FD.instance&&(FD.instance=new FD),FD.instance}static register(e){FD.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function zD(e,t,n){PI(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),PI("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),PI(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return FD.register(e),OD.set(r,e),_D.set(e,r),e}class PD extends $D{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:a}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:a[e.name]})));this.applyGradients(e)}else this.applyGradients(a);return mA(a),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){PI(iS(e),(()=>"The f passed in variableGrads(f) must be a function")),PI(null==t||Array.isArray(t)&&t.every((e=>e instanceof LT)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in QT.registeredVariables)t.push(QT.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,a=t.length;t=t.filter((e=>e.trainable)),PI(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`));const{value:i,grads:s}=QT.gradients(e,t,null,!0);PI(s.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),PI(0===i.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`));const o={};return t.forEach(((e,t)=>{null!=s[t]&&(o[e.name]=s[t])})),null!=r&&r.forEach((e=>o[e.name]=null)),{value:i,grads:o}}(e,t)}dispose(){null!=this.iterations_&&mA(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:jD(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(PD,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class BD extends PD{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=QT.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=QT.registeredVariables[t],a=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:pA((()=>DD(r).variable(a)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:pA((()=>DD(r).variable(a)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const s=this.accumulatedGrads[n].variable,o=this.accumulatedUpdates[n].variable;pA((()=>{const e=SD(LD(s,this.rho),LD(AD(i),1-this.rho)),t=LD(ED(TD(SD(o,this.epsilon)),TD(SD(s,this.epsilon))),i),n=SD(LD(o,this.rho),LD(AD(t),1-this.rho));s.assign(e),o.assign(n);const a=SD(LD(t,-this.learningRate),r);r.assign(a)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(mA(this.accumulatedGrads.map((e=>e.variable))),mA(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function UD(e,t,n){hS(e);const r={shape:e,value:t,dtype:n=n||aS(t)};return QT.runKernel(AM,{},r)}class WD extends PD{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=QT.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:pA((()=>UD(r.shape,this.initialAccumulatorValue).variable(e)))}}const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedGrads[n].variable;pA((()=>{const e=SD(i,AD(a));i.assign(e);const t=SD(LD(ED(a,TD(SD(e,QT.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&mA(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const VD=sA({pow_:function(e,t){let n=rA(e,"base","pow"),r=rA(t,"exp","pow");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(SE,a)}});const GD=sA({sub_:function(e,t){let n=rA(e,"a","sub"),r=rA(t,"b","sub");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(vL,a)}});class HD extends PD{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],pA((()=>{this.accBeta1=jD(t).variable(),this.accBeta2=jD(n).variable()})),null==r&&(this.epsilon=QT.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);pA((()=>{const n=GD(1,this.accBeta1),r=GD(1,this.accBeta2);t.forEach(((t,a)=>{const i=QT.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:pA((()=>DD(i).variable(s)))}),null==this.accumulatedSecondMoment[a]&&(this.accumulatedSecondMoment[a]={originalName:`${t}/v`,variable:pA((()=>DD(i).variable(s)))});const o=Array.isArray(e)?e[a].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedSecondMoment[a].variable,c=SD(LD(l,this.beta1),LD(o,1-this.beta1)),f=SD(LD(u,this.beta2),LD(AD(o),1-this.beta2)),d=ED(c,n),h=ED(f,r);l.assign(c),u.assign(f);const p=SD(LD(ED(d,SD(TD(h),this.epsilon)),-this.learningRate),i);i.assign(p)})),this.accBeta1.assign(LD(this.accBeta1,this.beta1)),this.accBeta2.assign(LD(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&mA(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&mA(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),pA((()=>{this.accBeta1.assign(VD(this.beta1,this.iterations_+1)),this.accBeta2.assign(VD(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const YD=sA({abs_:function(e){const t=rA(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return QT.runKernel(KS,e)}{const e={x:t};return QT.runKernel(IS,e)}}});function QD(e,t){const n=e.length,r=[];for(let a=0;a<n;a++){const i=n-1-a,s=e[i]||1;(t[t.length-1-a]||1)>1&&1===s&&r.unshift(i)}return r}function JD(e,t){const n=[];for(let r=0;r<t.length;r++){const a=e[e.length-r-1],i=t.length-r-1,s=t[i];(null==a||1===a&&s>1)&&n.unshift(i)}return n}function ZD(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let a=0;a<n;a++){let i=e[e.length-a-1];null==i&&(i=1);let s=t[t.length-a-1];if(null==s&&(s=1),1===i)r[n-a-1]=s;else if(1===s)r[n-a-1]=i;else{if(i!==s){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-a-1]=i}}return r}const qD=sA({maximum_:function(e,t){let n=rA(e,"a","maximum"),r=rA(t,"b","maximum");[n,r]=PT(n,r),"bool"===n.dtype&&(n=CD(n,"int32"),r=CD(r,"int32")),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(aE,a)}});class KD extends PD{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],pA((()=>{this.iteration=jD(0).variable(),this.accBeta1=jD(t).variable()})),null==r&&(this.epsilon=QT.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);pA((()=>{const n=GD(1,this.accBeta1),r=ED(-this.learningRate,SD(LD(this.iteration,this.decay),1));t.forEach(((t,a)=>{const i=QT.registeredVariables[t],s=!1;null==this.accumulatedFirstMoment[a]&&(this.accumulatedFirstMoment[a]={originalName:`${t}/m`,variable:DD(i).variable(s)}),null==this.accumulatedWeightedInfNorm[a]&&(this.accumulatedWeightedInfNorm[a]={originalName:`${t}/v`,variable:DD(i).variable(s)});const o=Array.isArray(e)?e[a].tensor:e[t];if(null==o)return;const l=this.accumulatedFirstMoment[a].variable,u=this.accumulatedWeightedInfNorm[a].variable,c=SD(LD(l,this.beta1),LD(o,1-this.beta1)),f=LD(u,this.beta2),d=YD(o),h=qD(f,d);l.assign(c),u.assign(h);const p=SD(LD(ED(r,n),ED(c,SD(h,this.epsilon))),i);i.assign(p)})),this.iteration.assign(SD(this.iteration,1)),this.accBeta1.assign(LD(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&mA(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&mA(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class XD extends PD{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const a=QT.registeredVariables[t];pA((()=>{const e=SD(LD(this.c,r),a);a.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=gA(jD(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class eR extends XD{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=jD(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=QT.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:pA((()=>DD(r).variable(e)))}}const a=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&pA((()=>{let e;const t=SD(LD(this.m,a),i);e=this.useNesterov?SD(LD(this.c,SD(i,LD(t,this.m))),r):SD(LD(this.c,t),r),a.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&mA(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class tR extends PD{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,null==r&&(this.epsilon=QT.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=QT.registeredVariables[t],a=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:pA((()=>DD(r).variable(a)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:pA((()=>DD(r).variable(a)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:pA((()=>DD(r).variable(a)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const s=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;pA((()=>{const e=SD(LD(s,this.decay),LD(AD(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,a=SD(LD(t,this.decay),LD(i,1-this.decay)),l=ED(LD(i,this.learningRate),TD(GD(e,SD(AD(a),this.epsilon)))),u=SD(LD(o,this.momentum),l);s.assign(e),t.assign(a),o.assign(u);const c=GD(r,u);r.assign(c)}else{const e=SD(LD(s,this.decay),LD(AD(i),1-this.decay)),t=SD(LD(o,this.momentum),ED(LD(i,this.learningRate),TD(SD(e,this.epsilon))));s.assign(e),o.assign(t);const n=GD(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&mA(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&mA(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&mA(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const nR=[BD,WD,HD,KD,eR,tR,XD];function rR(e){return new Promise((e=>setTimeout(e))).then(e)}class aR{constructor(e){if(!wS().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(aR.URL_SCHEME)&&(e=e.slice(aR.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=fA.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=RA(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,await rR((()=>a.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await rR((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:_A(e)}}}}aR.URL_SCHEME="downloads://";class iR{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),a=r.modelTopology;if(null==a)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:a});const i=OA(r,(e=>this.loadWeights(e)));e(i)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const i of e)t.push(...i.weights),n.push(...i.paths);const r=this.checkManifestAndWeightFiles(e),a=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(a).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const a=new FileReader;a.onload=e=>{const t=e.target.result;n(t)},a.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>DA(e.name))),r={};for(const a of e)a.paths.forEach((e=>{const a=DA(e);if(-1!==t.indexOf(a))throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(t.push(a),-1===n.indexOf(a))throw new Error(`Weight file with basename '${a}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(a)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function sR(e){return new iR(e)}function oR(e,t,n,r){!function(e){PI(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){PI(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),PI(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),PI(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let a=0;return Promise.all(e.map((i=>(i.then((i=>{const s=n+ ++a/e.length*(r-n);return t(s),i})),i))))}async function lR(e,t){null==t&&(t={});const n=null==t.fetchFunc?wS().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),a=(null==t.onProgress?await Promise.all(r):await oR(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(a):await oR(a,t.onProgress,.5,1)}async function uR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return cR((e=>lR(e,{requestInit:r})))(e,t,n)}function cR(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const a=t.map((()=>!1)),i={},s=null!=r?r.map((()=>!1)):[],o=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=cA[l]*WI(e.shape),c=()=>{a[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),s[n]=!0)})):c(),o.push(e.name),n+=u}))})),!s.every((e=>e))){const e=r.filter(((e,t)=>!s[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${o.join(", ")}.`)}const l=a.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),f={};let d=0;return l.forEach((e=>{const n=t[e].paths.length,r=new fA(c.slice(d,d+n));i[e].forEach((e=>{const t=kA(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)f[n]=t[n]})),d+=n})),f}}FA.registerSaveRouter((e=>wS().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(aR.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new aR(e)}(e.slice(aR.URL_SCHEME.length)):null));class fR{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(PI("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=wS().platform.fetch,PI(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&PI(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=RA(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=fA.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:_A(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(Lae){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return OA(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=$A(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?wS().platform.fetch:t.fetchFunc;let a,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var s;i<e.length;){if(!a){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;a=n.getReader()}const{done:o,value:l}=await a.read();if(!o)return void n.enqueue(l);i++,a=void 0,null===(s=t.onProgress)||void 0===s||s.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(t),a=this.weightPathPrefix||n,i=[],s=[];for(const o of e)for(const e of o.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):i.push(a+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(s)),i}async loadWeights(e){const t=await this.getWeightUrls(e);return[$A(e),await lR(t,this.loadOptions)]}}function dR(e){return null!=e.match(fR.URL_SCHEME_REGEX)}fR.URL_SCHEME_REGEX=/^https?:\/\//;const hR=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>dR(e))):dR(e),n)return pR(e,t)}return null};function pR(e,t){return new fR(e,t)}function mR(e,t){return pR(e,t)}FA.registerSaveRouter(hR),FA.registerLoadRouter(hR);class gR{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class yR{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class bR{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function vR(e,t,n,r){return new bR(wR(...arguments))}function wR(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new gR(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new gR({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new gR({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function xR(e){return new yR(e)}function kR(e){return new yR(e)}function CR(e,t,n){if(UI(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=eA(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return lA(e,t,r,n)}let NR;function IR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,i=!1,s=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(null!=PL(AL,QT.backendName)){const n={pixels:e},r={numChannels:t};return QT.runKernel(AL,n,r)}const[l,u]=a?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,f;if(s)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(i||a||o){if(null==NR)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");NR=new OffscreenCanvas(1,1).getContext("2d")}else NR=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});NR.canvas.width=l,NR.canvas.height=u,NR.drawImage(e,0,0,l,u),c=NR.getImageData(0,0,l,u).data}if(4===t)f=new Int32Array(c);else{const e=l*u;f=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)f[n*t+e]=c[4*n+e]}return CR(f,[u,l,t],"int32")}const SR=sA({fromPixels_:IR}),MR=-2,ER=-1;function LR(e,t,n){const r=e.shape.length;PI(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),PI(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let a=0;a<r;++a)PI(t[a]+n[a]<=e.shape[a],(()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${t[a]+n[a]}) would overflow input.shape[${a}] (${e.shape[a]})`))}function TR(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function AR(e,t,n){const r=[];for(let a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function DR(e,t,n,r){const a=[...e];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)0===i?a[t]=1:(a.splice(t,0,1),a.pop());return a}function RR(e,t,n){return n<=e?n:n-(t-1)}function jR(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function OR(e,t,n,r,a,i,s,o,l){const u=e.length;let c=new Array(u),f=new Array(u),d=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=_R(s,l,u,r,e),f=$R(o,l,u,a,e),d=DR(i,l,u,e)}else for(let h=0;h<u;h++)c[h]=zR(s,r,i,e,h,l),f[h]=PR(o,a,i,e,h,l),d[h]=FR(i,h,l);return{begin:c,end:f,strides:d}}function _R(e,t,n,r,a){const i=[...a],s=jR(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=0;else{const a=RR(t,n,o);let s=r[a];e&1<<a&&(s=0),i[o]=s}return i}function $R(e,t,n,r,a){const i=[...a],s=jR(n,t);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const a=RR(t,n,o);let s=r[a];e&1<<a&&(s=Number.MAX_SAFE_INTEGER),i[o]=s}for(let o=0;o<i.length;o++){const e=a[o];i[o]<0&&(i[o]+=e),i[o]=$I(0,i[o],a[o])}return i}function FR(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function zR(e,t,n,r,a,i){let s=t[a];const o=n[a]||1;(e&1<<a||i&1<<a||null==s)&&(s=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),s=$I(0,s,l-1),s}function PR(e,t,n,r,a,i){let s=t[a];const o=n[a]||1;(e&1<<a||i&1<<a||null==s)&&(s=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),s=o>0?$I(0,s,l):$I(-1,s,l-1),s}function BR(e,t,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(t[a]>0||n[a]!==e[a])return!1;return!0}function UR(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function WR(e,t,n){let r;const a=e.shape.length;let i;return r="number"===typeof t?[t,...new Array(a-1).fill(0)]:t.length<a?t.concat(new Array(a-t.length).fill(0)):t.slice(),r.forEach((e=>{PI(-1!==e,(()=>"slice() does not support negative begin indexing."))})),i=null==n?new Array(a).fill(-1):"number"===typeof n?[n,...new Array(a-1).fill(-1)]:n.length<a?n.concat(new Array(a-n.length).fill(-1)):n,i=i.map(((t,n)=>t>=0?t:(PI(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,i]}function VR(e,t,n,r,a,i,s,o,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=s&&0!==(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const f={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let b=0;b<f.dims;b++)c&&0!==(1<<b&o)&&f.numAddAxisAfterEllipsis++,1<<b&s&&(c=!0);c||(f.ellipsisMask|=1<<f.dims,f.dims++);const d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(MR),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(ER),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,d);let h=!0,p=!0,m=!0;const g=[],y=[];for(let b=0;b<e.length;++b){if(0===d.strides[b])throw Error(`strides[${b}] must be non-zero`);const t=!!(d.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const r=[d.beginMask&1<<b,d.endMask&1<<b],a=[d.strides[b]>0?0:-1,d.strides[b]>0?n:n-1];if(t&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[b];const i=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(t){const e=d.begin[b]<0?n+d.begin[b]:d.begin[b];if(d.begin[b]=e,d.end[b]=d.begin[b]+1,e<0||e>=n)throw Error(`slice index ${d.begin[b]} of dimension ${b} out of bounds.`)}else d.begin[b]=GR(d.begin[b],0,d.strides[b],n,r,a),d.end[b]=GR(d.end[b],1,d.strides[b],n,r,a);const e=1===d.strides[b]&&0===d.begin[b]&&d.end[b]===n;h=h&&e,p=p&&(0===b&&1===d.strides[b]||e)}else h=h&&1===d.strides[b]&&i,p=p&&(0===b&&1===d.strides[b]||i);let s,o=!1;if(d.beginValid&&d.endValid?(s=d.end[b]-d.begin[b],o=!0):t?(s=1,o=!0):i&&n>=0&&(s=d.strides[b]<0?-n:n,o=!0),o){let e;e=0===s||s<0!==d.strides[b]<0?0:Math.trunc(s/d.strides[b])+(s%d.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<d.finalShapeGatherIndices.length;++b){const e=d.finalShapeGatherIndices[b];e>=0?y.push(g[e]):e===MR&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>d.finalShapeGatherIndices[t]!==MR)),finalShape:y,isIdentity:h,sliceDim0:p,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function GR(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const HR=sA({acos_:function(e){const t={x:rA(e,"x","acos")};return QT.runKernel(SS,t)}});const YR=sA({acosh_:function(e){const t={x:rA(e,"x","acosh")};return QT.runKernel(MS,t)}});const QR=sA({addN_:function(e){PI(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),PI(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>rA(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!VI(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return QT.runKernel(LS,r)}});const JR=sA({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:rA(e,"x","all","bool")},a={axis:t,keepDims:n};return QT.runKernel(TS,r,a)}});const ZR=sA({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:rA(e,"x","any","bool")},a={axis:t,keepDims:n};return QT.runKernel(AS,r,a)}});const qR=sA({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:rA(e,"x","argMax")},r={axis:t};return QT.runKernel(DS,n,r)}});const KR=sA({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:rA(e,"x","argMin")},r={axis:t};return QT.runKernel(RS,n,r)}});const XR=sA({asin_:function(e){const t={x:rA(e,"x","asin")};return QT.runKernel(jS,t)}});const ej=sA({asinh_:function(e){const t={x:rA(e,"x","asinh")};return QT.runKernel(OS,t)}});const tj=sA({atan_:function(e){const t={x:rA(e,"x","atan")};return QT.runKernel(_S,t)}});const nj=sA({atan2_:function(e,t){let n=rA(e,"a","atan2"),r=rA(t,"b","atan2");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(FS,a)}});const rj=sA({atanh_:function(e){const t={x:rA(e,"x","atanh")};return QT.runKernel($S,t)}});function aj(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0;return oj(e,[...t,e[3]],n,i,r,null,null,yj(a))}function ij(e,t,n,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[o,l]=cj(t);let u;if("channelsLast"===s)u=[o,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);u=[o,l,e[1],e[1]]}return oj(e,u,n,r,a,i,!1,s)}function sj(e,t,n,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[o,l,u]=fj(t);let c,f;if("NDHWC"===s)f="channelsLast",c=[o,l,u,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);f="channelsFirst",c=[o,l,u,e[1],e[1]]}return lj(e,c,n,r,a,!1,f,i)}function oj(e,t,n,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,f]=[-1,-1,-1,-1];if("channelsLast"===o)[l,u,c,f]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,f,u,c]=e}const[d,h,,p]=t,[m,g]=cj(n),[y,b]=cj(r),v=dj(d,y),w=dj(h,b),{padInfo:x,outHeight:k,outWidth:C}=function(e,t,n,r,a,i,s,o,l){let u,c,f;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const a=function(e,t,n,r,a){null==r&&(r=uj(e,t,n));const i=e[0],s=e[1],o=hj((i-t+2*r)/n+1,a),l=hj((s-t+2*r)/n+1,a);return[o,l]}([t,n],i,r,e,o);c=a[0],f=a[1]}else if("same"===e){c=Math.ceil(t/r),f=Math.ceil(n/a);const e=Math.max(0,(c-1)*r+i-t),o=Math.max(0,(f-1)*a+s-n),l=Math.floor(e/2),d=e-l,h=Math.floor(o/2);u={top:l,bottom:d,left:h,right:o-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),f=Math.ceil((n-s+1)/a);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const d="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],p="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:d,bottom:h,left:p,right:m,type:0===d&&0===h&&0===p&&0===m?"VALID":"EXPLICIT"},c=hj((t-i+d+h)/r+1,o),f=hj((n-s+p+m)/a+1,o)}}return{padInfo:u,outHeight:c,outWidth:f}}(a,u,c,m,g,v,w,i,o),N=s?p*f:p;let I;return"channelsFirst"===o?I=[l,N,k,C]:"channelsLast"===o&&(I=[l,k,C,N]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:f,outHeight:k,outWidth:C,outChannels:N,padInfo:x,strideHeight:m,strideWidth:g,filterHeight:d,filterWidth:h,effectiveFilterHeight:v,effectiveFilterWidth:w,dilationHeight:y,dilationWidth:b,inShape:e,outShape:I,filterShape:t}}function lj(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",o=arguments.length>7?arguments[7]:void 0,[l,u,c,f,d]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,f,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,u,c,f]=e}const[h,p,m,,g]=t,[y,b,v]=fj(n),[w,x,k]=fj(r),C=dj(h,w),N=dj(p,x),I=dj(m,k),{padInfo:S,outDepth:M,outHeight:E,outWidth:L}=function(e,t,n,r,a,i,s,o,l,u,c){let f,d,h,p;"valid"===e&&(e=0);if("number"===typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,a,i){null==a&&(a=uj(e,t[0],r[0]));const s=[0,0,0,n];for(let o=0;o<3;o++)e[o]+2*a>=t[o]&&(s[o]=hj((e[o]-t[o]+2*a)/r[o]+1,i));return s}([t,n,r,1],[o,l,u],1,[a,i,s],e,c);d=m[0],h=m[1],p=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{d=Math.ceil(t/a),h=Math.ceil(n/i),p=Math.ceil(r/s);const e=(d-1)*a+o-t,c=(h-1)*i+l-n,m=(p-1)*s+u-r,g=Math.floor(e/2),y=e-g,b=Math.floor(c/2),v=c-b,w=Math.floor(m/2);f={top:b,bottom:v,left:w,right:m-w,front:g,back:y,type:"SAME"}}}return{padInfo:f,outDepth:d,outHeight:h,outWidth:p}}(a,u,c,f,y,b,v,C,N,I,o),T=i?g*d:g;let A;return"channelsFirst"===s?A=[l,T,M,E,L]:"channelsLast"===s&&(A=[l,M,E,L,T]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:f,inChannels:d,outDepth:M,outHeight:E,outWidth:L,outChannels:T,padInfo:S,strideDepth:y,strideHeight:b,strideWidth:v,filterDepth:h,filterHeight:p,filterWidth:m,effectiveFilterDepth:C,effectiveFilterHeight:N,effectiveFilterWidth:I,dilationDepth:w,dilationHeight:x,dilationWidth:k,inShape:e,outShape:A,filterShape:t}}function uj(e,t,n){const r=dj(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function cj(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function fj(e){return"number"===typeof e?[e,e,e]:e}function dj(e,t){return t<=1?e:e+(e-1)*(t-1)}function hj(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function pj(e){const[t,n,r]=cj(e);return 1===t&&1===n&&1===r}function mj(e,t){return pj(e)||pj(t)}function gj(e){return cj(e).every((e=>e>0))}function yj(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function bj(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)PI(GI(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{PI(GI(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const vj=sA({reshape_:function(e,t){const n={x:rA(e,"x","reshape","string_or_numeric")},r={shape:t};return QT.runKernel(_E,n,r)}});const wj=sA({avgPool_:function(e,t,n,r,a){const i=rA(e,"x","avgPool","float32");PI(mj(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let s=i,o=!1;3===i.rank&&(o=!0,s=vj(i,[1,i.shape[0],i.shape[1],i.shape[2]])),PI(4===s.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`)),bj("avgPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a};let c=QT.runKernel(zS,l,u);return c=CD(c,i.dtype),o?vj(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const xj=sA({avgPool3d_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=rA(e,"x","avgPool3d","float32");let o=s,l=!1;4===s.rank&&(l=!0,o=vj(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),PI(5===o.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`)),PI("NDHWC"===i,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),PI("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),bj("avgPool3d",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i};let f=QT.runKernel(BS,u,c);return f=CD(f,o.dtype),l?vj(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});const kj=sA({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;PI(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=aA(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return ND(n[0]);const r=n,a={axis:t};return QT.runKernel(XS,r,a)}});const Cj=sA({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=rA(e,"a","matMul"),i=rA(t,"b","matMul");[a,i]=PT(a,i);const s={a:a,b:i},o={transposeA:n,transposeB:r};return QT.runKernel(WS,s,o)}});const Nj=sA({sigmoid_:function(e){const t={x:rA(e,"x","sigmoid","float32")};return QT.runKernel(eL,t)}});const Ij=sA({slice_:function(e,t,n){const r=rA(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const a={x:r},i={begin:t,size:n};return QT.runKernel(ZE,a,i)}});const Sj=sA({tanh_:function(e){const t={x:rA(e,"x","tanh","float32")};return QT.runKernel(xL,t)}});const Mj=sA({basicLSTMCell_:function(e,t,n,r,a,i){const s=rA(e,"forgetBias","basicLSTMCell"),o=rA(t,"lstmKernel","basicLSTMCell"),l=rA(n,"lstmBias","basicLSTMCell"),u=rA(r,"data","basicLSTMCell"),c=rA(a,"c","basicLSTMCell"),f=rA(i,"h","basicLSTMCell"),d=kj([u,f],1),h=Cj(d,o),p=SD(h,l),m=p.shape[0],g=p.shape[1]/4,y=[m,g],b=Ij(p,[0,0],y),v=Ij(p,[0,g],y),w=Ij(p,[0,2*g],y),x=Ij(p,[0,3*g],y),k=SD(LD(Nj(b),Sj(v)),LD(c,Nj(SD(s,w))));return[k,LD(Sj(k),Nj(x))]}});const Ej=sA({batchToSpaceND_:function(e,t,n){const r=rA(e,"x","batchToSpaceND"),a=t.reduce(((e,t)=>e*t));PI(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),PI(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),PI(r.shape[0]%a===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${a}`));const i={x:r},s={blockShape:t,crops:n};return QT.runKernel(VS,i,s)}});const Lj=sA({batchNorm_:function(e,t,n,r,a,i){null==i&&(i=.001);const s=rA(e,"x","batchNorm"),o=rA(t,"mean","batchNorm"),l=rA(n,"variance","batchNorm");let u,c;null!=a&&(u=rA(a,"scale","batchNorm")),null!=r&&(c=rA(r,"offset","batchNorm")),PI(o.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),PI(null==c||o.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),PI(null==u||o.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const f=function(e){let t;return t=0===e.rank||1===e.rank?vj(e,[1,1,1,e.size]):2===e.rank?vj(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?vj(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),d={x:f,scale:u,offset:c,mean:o,variance:l},h={varianceEpsilon:i},p=QT.runKernel(OM,d,h);return vj(p,s.shape)}});const Tj=sA({batchNorm2d_:function(e,t,n,r,a,i){const s=rA(e,"x","batchNorm"),o=rA(t,"mean","batchNorm"),l=rA(n,"variance","batchNorm");let u,c;return null!=a&&(u=rA(a,"scale","batchNorm")),null!=r&&(c=rA(r,"offset","batchNorm")),PI(2===s.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`)),PI(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),PI(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&PI(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&PI(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),Lj(s,o,l,c,u,i)}});const Aj=sA({batchNorm3d_:function(e,t,n,r,a,i){const s=rA(e,"x","batchNorm"),o=rA(t,"mean","batchNorm"),l=rA(n,"variance","batchNorm");let u,c;return null!=a&&(u=rA(a,"scale","batchNorm")),null!=r&&(c=rA(r,"offset","batchNorm")),PI(3===s.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`)),PI(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),PI(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&PI(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&PI(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),Lj(s,o,l,c,u,i)}});const Dj=sA({batchNorm4d_:function(e,t,n,r,a,i){const s=rA(e,"x","batchNorm"),o=rA(t,"mean","batchNorm"),l=rA(n,"variance","batchNorm");let u,c;return null!=a&&(u=rA(a,"scale","batchNorm")),null!=r&&(c=rA(r,"offset","batchNorm")),PI(4===s.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`)),PI(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),PI(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&PI(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&PI(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),Lj(s,o,l,c,u,i)}});const Rj=sA({bincount_:function(e,t,n){const r=rA(e,"x","bincount"),a=rA(t,"weights","bincount");PI("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),PI(n>=0,(()=>`size must be non-negative, but got ${n}.`)),PI(a.size===r.size||0===a.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`));const i={x:r,weights:a},s={size:n};return QT.runKernel(GS,i,s)}});const jj=sA({bitwiseAnd_:function(e,t){const n=rA(e,"x","bitwiseAnd"),r=rA(t,"y","bitwiseAnd");if(!VI(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const a={a:n,b:r};return QT.runKernel(HS,a)}});const Oj=sA({broadcastArgs_:function(e,t){const n=rA(e,"s0","broadcastArgs","int32"),r=rA(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return QT.runKernel(YS,a)}});const _j=sA({broadcastTo_:function(e,t){let n=rA(e,"broadcastTo","x");const r=n.shape;if(hS(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=vj(n,e)}const a=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(a[l]===t[l])i[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return ND(n);const s={x:n},o={reps:i};return QT.runKernel(kL,s,o)}});const $j=sA({ceil_:function(e){const t={x:rA(e,"x","ceil","float32")};return QT.runKernel(JS,t)}});const Fj=sA({clipByValue_:function(e,t,n){const r=rA(e,"x","clipByValue");if(PI(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return UD(r.shape,t,r.dtype);const a={x:r},i={clipValueMin:t,clipValueMax:n};return QT.runKernel(ZS,a,i)}});const zj=sA({concat1d_:function(e){return kj(e,0)}});const Pj=sA({concat2d_:function(e,t){return kj(e,t)}});const Bj=sA({concat3d_:function(e,t){return kj(e,t)}});const Uj=sA({concat4d_:function(e,t){return kj(e,t)}});const Wj=sA({conv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const o=rA(e,"x","conv2d","float32"),l=rA(t,"filter","conv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=vj(o,[1,o.shape[0],o.shape[1],o.shape[2]])),PI(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),PI(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),bj("conv2d",r,s);const f="NHWC"===a?u.shape[3]:u.shape[1];PI(f===l.shape[2],(()=>`Error in conv2d: depth of input (${f}) must match input depth for filter ${l.shape[2]}.`)),PI(mj(n,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),PI(gj(i),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),PI(gj(n),(()=>"Error in conv2D: Strides should be larger than 0."));const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},p=QT.runKernel(eM,d,h);return c?vj(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const Vj=sA({conv1d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const o=rA(e,"x","conv1d"),l=rA(t,"filter","conv1d");let u=o,c=!1;2===o.rank&&(c=!0,u=vj(o,[1,o.shape[0],o.shape[1]])),PI(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),PI(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),bj("conv1d",r,s),PI(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),PI(mj(n,i),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`)),PI(gj(i),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),PI(gj(n),(()=>"Error in conv1D: Stride should be larger than 0.")),PI("NWC"===a,(()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`));const f=vj(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=vj(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=Wj(d,f,[1,n],r,"NHWC",[1,i],s);return vj(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const Gj=sA({conv2DBackpropInput_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0;PI(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,l=t,u=!1;3===t.rank&&(u=!0,l=vj(t,[1,t.shape[0],t.shape[1],t.shape[2]]),o=[1,e[0],e[1],e[2]]),PI(4===o.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`)),PI(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),PI(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===i?o[3]:o[1],f="NHWC"===i?l.shape[3]:l.shape[1];PI(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),PI(f===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${f}) must match output depth for filter ${n.shape[3]}.`)),bj("conv2dDerInput",a,s);const d={dy:l,filter:n},h={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,inputShape:o},p=QT.runKernel(nM,d,h);return u?vj(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const Hj=sA({conv2dTranspose_:function(e,t,n,r,a,i){const s=rA(e,"x","conv2dTranspose"),o=rA(t,"filter","conv2dTranspose");return Gj(n,s,o,r,a,"NHWC",i)}});const Yj=sA({conv3d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const s=rA(e,"x","conv3d"),o=rA(t,"filter","conv3d");let l=s,u=!1;4===s.rank&&(u=!0,l=vj(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),PI(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),PI(5===o.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`)),PI(l.shape[4]===o.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`)),PI(mj(n,i),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),PI("NDHWC"===a,(()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`)),PI(gj(i),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),PI(gj(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:o},f={strides:n,pad:r,dataFormat:a,dilations:i},d=QT.runKernel(rM,c,f);return u?vj(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Qj=sA({conv3DBackpropInput_:function(e,t,n,r,a){PI(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,s=t,o=!1;4===t.rank&&(o=!0,s=vj(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],u=s.shape[4];PI(5===i.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`)),PI(5===s.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`)),PI(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),PI(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),PI(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:s,filter:n},f={pad:a,strides:r,inputShape:i},d=QT.runKernel(iM,c,f);return o?vj(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const Jj=sA({conv3dTranspose_:function(e,t,n,r,a){const i=rA(e,"x","conv3dTranspose"),s=rA(t,"filter","conv3dTranspose");return Qj(n,i,s,r,a)}});const Zj=sA({cos_:function(e){const t={x:rA(e,"x","cos","float32")};return QT.runKernel(sM,t)}});const qj=sA({cosh_:function(e){const t={x:rA(e,"x","cosh","float32")};return QT.runKernel(oM,t)}});const Kj=sA({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:rA(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return QT.runKernel(lM,a,i)}});const Xj=sA({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={x:rA(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return QT.runKernel(uM,a,i)}});const eO=sA({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=rA(e,"x","denseBincount"),i=rA(t,"weights","denseBincount");PI("int32"===a.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`)),PI(a.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`)),PI(n>=0,(()=>`size must be non-negative, but got ${n}.`)),PI(i.size===a.size||0===i.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`));const s={x:a,weights:i},o={size:n,binaryOutput:r};return QT.runKernel(fM,s,o)}});const tO=sA({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=rA(e,"x","depthToSpace","float32"),a="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],s="NHWC"===n?r.shape[3]:r.shape[1];PI(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),PI(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),PI(i*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),PI(s%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${r.shape}`));const o={x:r},l={blockSize:t,dataFormat:n};return QT.runKernel(dM,o,l)}});const nO=sA({depthwiseConv2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const o=rA(e,"x","depthwiseConv2d","float32"),l=rA(t,"filter","depthwiseConv2d","float32");let u=o,c=!1;3===o.rank&&(c=!0,u=vj(o,[1,o.shape[0],o.shape[1],o.shape[2]])),PI(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),PI(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const f="NHWC"===a?u.shape[3]:u.shape[1];PI(f===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${f}) must match the inChannels dimension in filter ${l.shape[2]}.`)),bj("depthwiseConv2d",r,s);const d={x:u,filter:l},h={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},p=QT.runKernel(hM,d,h);return c?vj(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const rO=sA({diag_:function(e){const t={x:rA(e,"x","diag")};return QT.runKernel(gM,t)}});const aO=sA({dilation2d_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const s=rA(e,"x","dilation2d"),o=rA(t,"filter","dilation2d");PI(3===s.rank||4===s.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`)),PI(3===o.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`)),PI("NHWC"===i,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`));let l=s,u=!1;3===s.rank&&(l=vj(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0),PI(l.shape[3]===o.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${o.shape[2]}`));const c={x:l,filter:o},f={strides:n,pad:r,dilations:a},d=QT.runKernel(yM,c,f);return u?vj(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const iO=sA({equal_:function(e,t){let n=rA(e,"a","equal","string_or_numeric"),r=rA(t,"b","equal","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(SM,a)}});const sO=sA({where_:function(e,t,n){const r=rA(t,"a","where"),a=rA(n,"b","where"),i=rA(e,"condition","where","bool"),s=ZD(ZD(i.shape,r.shape),a.shape),o={condition:_j(i,s),t:_j(r,s),e:_j(a,s)};return QT.runKernel(QE,o)}});const oO=sA({divNoNan_:function(e,t){let n=rA(e,"a","div"),r=rA(t,"b","div");[n,r]=PT(n,r);const a=ED(n,r),i=DD(a),s=iO(r,i);return sO(s,i,a)}});const lO=sA({dot_:function(e,t){const n=rA(e,"t1","dot"),r=rA(t,"t2","dot");PI((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const a=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(PI(a===i,(()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`)),1===n.rank&&1===r.rank){const e=vj(n,[1,-1]),t=vj(r,[-1,1]),a=Cj(e,t);return vj(a,[])}if(1===n.rank&&2===r.rank){const e=vj(n,[1,-1]),t=vj(r,[r.shape[0],r.shape[1]]),a=Cj(e,t);return vj(a,[a.size])}if(2===n.rank&&1===r.rank){const e=vj(r,[-1,1]),t=Cj(n,e);return vj(t,[t.size])}{const e=vj(r,[r.shape[0],r.shape[1]]);return Cj(n,e)}}});const uO=sA({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=n.map(((e,t)=>rA(e,`tensors${t}`,"einsum"))),i={equation:e};return QT.runKernel(kM,a,i)}});const cO=sA({elu_:function(e){const t={x:rA(e,"x","elu","float32")};return QT.runKernel(CM,t)}});const fO=sA({ensureShape_:function(e,t){const n=rA(e,"x","ensureShape","string_or_numeric");if(!function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const dO=sA({erf_:function(e){let t=rA(e,"x","erf");PI("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=CD(t,"float32"));const n={x:t};return QT.runKernel(IM,n)}});function hO(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function pO(e,t,n){const r=e.length+t.length,a=[];let i=0,s=0;for(let o=0;o<r;o++)-1===n.indexOf(o)?a.push(e[i++]):a.push(t[s++]);return a}function mO(e,t){const n=[],r=e.length;for(let a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);return[n,t.map((t=>e[t]))]}function gO(e,t){return pO(e,t.map((e=>1)),t)}function yO(e,t,n){PI(hO(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function bO(e,t){if(hO(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function vO(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function wO(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const xO=sA({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:rA(e,"x","max")},a={reductionIndices:t,keepDims:n};return QT.runKernel(rE,r,a)}});const kO=sA({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:rA(e,"x","min")},a={axis:t,keepDims:n};return QT.runKernel(fE,r,a)}});const CO=sA({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=rA(e,"x","sum");"bool"===r.dtype&&(r=CD(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return QT.runKernel(rL,a,i)}});function NO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return YD(e);if(1!==e.rank&&null===n)return NO(vj(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return CO(YD(e),n);if(t===1/0)return xO(YD(e),n);if(t===-1/0)return kO(YD(e),n);if("euclidean"===t||2===t)return TD(CO(VD(YD(e),jD(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return xO(CO(YD(e),n[0]),n[1]-1);if(t===1/0)return xO(CO(YD(e),n[1]),n[0]);if(t===-1/0)return kO(CO(YD(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return TD(CO(AD(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const IO=sA({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=NO(e=rA(e,"x","norm"),t,n);let i=a.shape;if(r){const t=ZI(n,e.shape);i=gO(a.shape,t)}return vj(a,i)}});const SO=sA({euclideanNorm_:function(e){return IO(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const MO=sA({exp_:function(e){const t={x:rA(e,"x","exp")};return QT.runKernel(MM,t)}});const EO=sA({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=rA(e,"x","expandDims","string_or_numeric");PI(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},a={dim:t};return QT.runKernel(EM,r,a)}});const LO=sA({expm1_:function(e){const t={x:rA(e,"x","expm1")};return QT.runKernel(LM,t)}});const TO=sA({tile_:function(e,t){const n=rA(e,"x","tile","string_or_numeric");PI(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},a={reps:t};return QT.runKernel(kL,r,a)}});const AO=sA({eye_:function(e,t,n){null==t&&(t=e);const r=kD([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),a=e<=t?e:t;for(let s=0;s<a;++s)r.set(1,s,s);const i=vj(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return TO(EO(i,0),[n[0],1,1]);if(2===n.length)return TO(EO(EO(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return TO(EO(EO(EO(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const DO=sA({floor_:function(e){const t={x:rA(e,"x","floor","float32")};return QT.runKernel(RM,t)}});const RO=sA({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a={x:rA(e,"x","gather"),indices:rA(t,"indices","gather","int32")},i={axis:n,batchDims:r};return QT.runKernel(_M,a,i)}});const jO=sA({greater_:function(e,t){let n=rA(e,"a","greater","string_or_numeric"),r=rA(t,"b","greater","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(FM,a)}});const OO=sA({greaterEqual_:function(e,t){let n=rA(e,"a","greaterEqual","string_or_numeric"),r=rA(t,"b","greaterEqual","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(zM,a)}});const _O=sA({imag_:function(e){const t={input:rA(e,"input","imag")};return QT.runKernel(UM,t)}});const $O=sA({isFinite_:function(e){const t={x:rA(e,"x","isFinite")};return QT.runKernel(WM,t)}});const FO=sA({isInf_:function(e){const t={x:rA(e,"x","isInf")};return QT.runKernel(VM,t)}});const zO=sA({isNaN_:function(e){const t={x:rA(e,"x","isNaN")};return QT.runKernel(GM,t)}});const PO=sA({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:rA(e,"x","leakyRelu")},r={alpha:t};return QT.runKernel(HM,n,r)}});const BO=sA({less_:function(e,t){let n=rA(e,"a","less","string_or_numeric"),r=rA(t,"b","less","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(YM,a)}});const UO=sA({lessEqual_:function(e,t){let n=rA(e,"a","lessEqual","string_or_numeric"),r=rA(t,"b","lessEqual","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(QM,a)}});function WO(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return QT.runKernel(JM,{},r)}const VO=sA({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const i=rA(e,"x","localResponseNormalization");PI(4===i.rank||3===i.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${i.rank}.`)),PI(GI(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let s=i,o=!1;3===i.rank&&(o=!0,s=vj(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:s},u={depthRadius:t,bias:n,alpha:r,beta:a},c=QT.runKernel(tE,l,u);return o?vj(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const GO=sA({log_:function(e){const t={x:rA(e,"x","log","float32")};return QT.runKernel(ZM,t)}});const HO=sA({log1p_:function(e){const t={x:rA(e,"x","log1p")};return QT.runKernel(qM,t)}});const YO=sA({neg_:function(e){const t={x:rA(e,"x","neg")};return QT.runKernel(yE,t)}});const QO=sA({softplus_:function(e){const t={x:rA(e,"x","softplus")};return QT.runKernel(tL,t)}});const JO=sA({logSigmoid_:function(e){const t=rA(e,"x","logSigmoid"),n=RD((e=>({value:YO(QO(YO(e))),gradFunc:t=>LD(t,Nj(YO(e)))})));return n(t)}});const ZO=sA({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=rA(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=RD(((e,n)=>{const r=xO(e,t,!0),a=GD(e,r),i=GD(CD(a,"float32"),GO(CO(MO(a),t,!0)));n([i]);return{value:i,gradFunc:(e,n)=>{const[r]=n,a=MO(r);return GD(e,LD(CO(e,t,!0),a))}}}));return r(n)}});const qO=sA({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=rA(e,"x","logSumExp"),a=ZI(t,r.shape),i=xO(r,a,!0),s=GD(r,i),o=MO(s),l=CO(o,a),u=GO(l),c=SD(vj(i,u.shape),u);if(n){const e=gO(c.shape,a);return vj(c,e)}return c}});const KO=sA({logicalAnd_:function(e,t){const n=rA(e,"a","logicalAnd","bool"),r=rA(t,"b","logicalAnd","bool");ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(KM,a)}});const XO=sA({logicalNot_:function(e){const t={x:rA(e,"x","logicalNot","bool")};return QT.runKernel(XM,t)}});const e_=sA({logicalOr_:function(e,t){const n=rA(e,"a","logicalOr","bool"),r=rA(t,"b","logicalOr","bool");ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(eE,a)}});const t_=sA({logicalXor_:function(e,t){const n=rA(e,"a","logicalXor","bool"),r=rA(t,"b","logicalXor","bool");return ZD(n.shape,r.shape),KO(e_(e,t),XO(KO(e,t)))}}),n_=2147483648;const r_=sA({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=rA(e,"sortedSequence","searchSorted"),a=rA(t,"values","searchSorted"),i=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],o=vj(r,[-1,i]),l=vj(a,[-1,s]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(WI(l.shape)>=n_)throw new Error("values tensor size must less than 2147483648");if(o.shape[1]>=n_)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${o.shape[1]}`);const u={sortedSequence:o,values:l},c={side:n};return QT.runKernel(YE,u,c)}});function a_(e,t){return r_(e,t,"left")}const i_=sA({maxPool_:function(e,t,n,r,a){const i=rA(e,"x","maxPool");let s=i,o=!1;3===i.rank&&(o=!0,s=vj(i,[1,i.shape[0],i.shape[1],i.shape[2]])),PI(4===s.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`)),PI(mj(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),bj("maxPool",r,a);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:a},c=QT.runKernel(iE,l,u);return o?vj(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const s_=sA({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=rA(e,"x","maxPool3d");let o=s,l=!1;4===s.rank&&(l=!0,o=vj(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),PI(5===o.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`)),PI("NDHWC"===i,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),bj("maxPool3d",r,a);const u={x:o},c={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},f=QT.runKernel(oE,u,c);return l?vj(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}});const o_=sA({maxPoolWithArgmax_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i={x:rA(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},o=QT.runKernel(uE,i,s);return{result:o[0],indexes:o[1]}}});const l_=sA({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:rA(e,"x","mean")},a={axis:t,keepDims:n};return QT.runKernel(cE,r,a)}});function u_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(hS(e),"complex64"===t){const t=u_(e,"float32"),n=u_(e,"float32");return oA(t,n)}const n=fS(WI(e),t);return QT.makeTensor(n,e,t)}function c_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(hS(e),"complex64"===t){const t=c_(e,"float32"),n=u_(e,"float32");return oA(t,n)}const n=cS(WI(e),t);return QT.makeTensor(n,e,t)}function f_(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=rA(e,"x","meshgrid",e instanceof MT?e.dtype:"float32");if(void 0===t)return[r];let a=rA(t,"y","meshgrid",t instanceof MT?t.dtype:"float32");const i=WI(r.shape),s=WI(a.shape);return"xy"===n?(r=vj(r,[1,-1]),a=vj(a,[-1,1]),[Cj(c_([s,1],r.dtype),r),Cj(a,c_([1,i],a.dtype))]):(r=vj(r,[-1,1]),a=vj(a,[1,-1]),[Cj(r,c_([1,s],r.dtype)),Cj(c_([i,1],a.dtype),a)])}const d_=sA({minimum_:function(e,t){let n=rA(e,"a","minimum"),r=rA(t,"b","minimum");[n,r]=PT(n,r),"bool"===n.dtype&&(n=CD(n,"int32"),r=CD(r,"int32")),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(dE,a)}});const h_=sA({mirrorPad_:function(e,t,n){PI("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=rA(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");PI(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const a="reflect"===n?1:0;for(let o=0;o<r.rank;o++)PI(2===t[o].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),PI(t[o][0]>=0&&t[o][0]<=r.shape[o]-a&&t[o][1]>=0&&t[o][1]<=r.shape[o]-a,(()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-a} or less than 0 for input of shape ${r.shape}`));const i={paddings:t,mode:n},s={x:r};return QT.runKernel(hE,s,i)}});const p_=sA({mod_:function(e,t){let n=rA(e,"a","mod"),r=rA(t,"b","mod");[n,r]=PT(n,r);const a={a:n,b:r};return QT.runKernel(pE,a)}});const m_=sA({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=ZI(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=rA(e,"x","moments")).shape),r=l_(e,n,t);let a=r.shape;t||(a=gO(r.shape,n));const i=AD(GD(CD(e,"float32"),vj(r,a)));return{mean:r,variance:l_(i,n,t)}}});const g_=sA({multiRNNCell_:function(e,t,n,r){const a=rA(t,"data","multiRNNCell"),i=aA(n,"c","multiRNNCell"),s=aA(r,"h","multiRNNCell");let o=a;const l=[];for(let f=0;f<e.length;f++){const t=e[f](o,i[f],s[f]);l.push(t[0]),l.push(t[1]),o=t[1]}const u=[],c=[];for(let f=0;f<l.length;f+=2)u.push(l[f]),c.push(l[f+1]);return[u,c]}});const y_=sA({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=rA(e,"logits","multinomial"),i=a.size,s=a.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();const o={logits:1===s?vj(a,[1,-1]):a},l={numSamples:t,seed:n,normalized:r},u=QT.runKernel(mE,o,l);return 1===s?vj(u,[u.size]):u}});const b_=sA({notEqual_:function(e,t){let n=rA(e,"a","notEqual","string_or_numeric"),r=rA(t,"b","notEqual","string_or_numeric");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(bE,a)}});const v_=sA({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:rA(e,"indices","oneHot","int32")},s={dtype:a,depth:t,onValue:n,offValue:r};return QT.runKernel(CE,i,s)}});const w_=sA({onesLike_:function(e){const t={x:rA(e,"x","onesLike")};return QT.runKernel(kE,t)}});const x_=sA({outerProduct_:function(e,t){const n=rA(e,"v1","outerProduct"),r=rA(t,"v2","outerProduct");PI(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const a=vj(n,[-1,1]),i=vj(r,[1,-1]);return Cj(a,i)}});const k_=sA({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=rA(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:t,constantValue:n},i={x:r};return QT.runKernel(IE,i,a)}});const C_=sA({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return PI(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),k_(e,[t],n)}});const N_=sA({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return PI(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),k_(e,t,n)}});const I_=sA({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return PI(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),k_(e,t,n)}});const S_=sA({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return PI(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),k_(e,t,n)}});const M_=sA({spaceToBatchND_:function(e,t,n){const r=rA(e,"x","spaceToBatchND");PI(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),PI(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),PI(r.shape.reduce(((e,r,a)=>a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const a={x:r},i={blockShape:t,paddings:n};return QT.runKernel(aL,a,i)}});const E_=sA({pool_:function(e,t,n,r,a,i,s){null==a&&(a=[1,1]),null==i&&(i=1),0===r&&(r="valid");const o=rA(e,"x","maxPool");let l=o,u=!1;3===o.rank&&(u=!0,l=vj(o,[1,o.shape[0],o.shape[1],o.shape[2]])),PI(mj(i,a),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`));const c=ij(l.shape,t,i,a,r),f=[c.dilationHeight,c.dilationWidth];let d;d="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),a=r.map((e=>Math.floor(e/2))),i=r.map(((e,t)=>e-a[t]));return r.map(((e,t)=>[a[t],i[t]]))}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];const h=1===f[0]&&1===f[1],[p,m]=function(e,t,n){const r=n.map((e=>e[0])),a=n.map((e=>e[1])),i=e.concat(r,a),s=t.map(((e,t)=>(e-i[t]%e)%e)),o=a.map(((e,t)=>e+s[t])),l=t.map(((e,t)=>[r[t],o[t]])),u=t.map(((e,t)=>[0,s[t]]));return[l,u]}([c.inHeight,c.inWidth],f,d),g=h?r:"valid",y=h?l:M_(l,f,p),b=("avg"===n?()=>wj(y,t,i,g,s):()=>i_(y,t,i,g,s))(),v=h?b:Ej(b,f,m);return u?vj(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});const L_=sA({prelu_:function(e,t){const n={x:rA(e,"x","prelu"),alpha:rA(t,"alpha","prelu")};return QT.runKernel(ME,n)}});const T_=sA({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=rA(e,"x","prod");"bool"===r.dtype&&(r=CD(r,"int32"));const a={x:r},i={axis:t,keepDims:n};return QT.runKernel(EE,a,i)}});const A_=sA({raggedGather_:function(e,t,n,r){const a=e.map(((e,t)=>rA(e,`tensors${t}`,"raggedGather","int32"))),i={paramsNestedSplits:a,paramsDenseValues:rA(t,"paramsDenseValues","raggedGather"),indices:rA(n,"indices","raggedGather","int32")},s={outputRaggedRank:r},o=QT.runKernel(LE,i,s);return{outputNestedSplits:o.slice(0,o.length-1),outputDenseValues:o[o.length-1]}}});const D_=sA({raggedRange_:function(e,t,n){const r=rA(e,"starts","raggedRange"),a={starts:r,limits:rA(t,"limits","raggedRange",r.dtype),deltas:rA(n,"deltas","raggedRange",r.dtype)},i=QT.runKernel(TE,a);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}});const R_=sA({raggedTensorToTensor_:function(e,t,n,r,a){const i=rA(e,"shape","raggedTensorToTensor","int32"),s=rA(t,"values","raggedTensorToTensor"),o=rA(n,"defaultValue","raggedTensorToTensor",s.dtype),l=r.map(((e,t)=>rA(e,`tensors${t}`,"raggedTensorToTensor","int32"))),u={shape:i,values:s,defaultValue:o,rowPartitionTensors:l},c={rowPartitionTypes:a};return QT.runKernel(AE,u,c)}});const j_=sA({rand_:function(e,t,n){hS(e);const r=WI(e);let a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);a=new Uint8Array(r)}for(let i=0;i<r;i++)a[i]=t();return QT.makeTensor(a,e,n)}});var O_=n(4334);class __{constructor(e,t,n,r,a){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=a||Math.random();this.random=O_.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,a,i;do{r=2*this.random()-1,a=2*this.random()-1,i=r*r+a*a}while(i>=1||0===i);const s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*s,t=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class $_{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const a=r||Math.random();this.randu=O_.alea(a.toString()),this.randn=new __(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,a,i;for(;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-i+Math.log(i)),a=this.randu(),a<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class F_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=O_.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const z_=sA({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(hS(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const i=new $_(t,n,r,a),s=kD(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}});const P_=sA({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(hS(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const i=new __(t,n,r,!1,a),s=kD(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}});const B_=sA({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return P_(e,0,1,t,n)}});const U_=sA({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;hS(e);const i=kD(e,r),s=new F_(t,n,null,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}});const W_=sA({randomUniformInt_:function(e,t,n,r){return U_(e,t,n,"int32",r)}});function V_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:r};return QT.runKernel(DE,{},a)}const G_=sA({real_:function(e){const t={input:rA(e,"input","real")};return QT.runKernel(RE,t)}});const H_=sA({reciprocal_:function(e){const t={x:rA(e,"x","reciprocal")};return QT.runKernel(jE,t)}});const Y_=sA({relu_:function(e){const t={x:rA(e,"x","relu")};return QT.runKernel(OE,t)}});const Q_=sA({relu6_:function(e){const t={x:rA(e,"x","relu6")};return QT.runKernel(BE,t)}});const J_=sA({reverse_:function(e,t){const n={x:rA(e,"x","reverse")},r={dims:t};return QT.runKernel(UE,n,r)}});const Z_=sA({reverse1d_:function(e){const t=rA(e,"x","reverse");return PI(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),J_(t,0)}});const q_=sA({reverse2d_:function(e,t){const n=rA(e,"x","reverse");return PI(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),J_(n,t)}});const K_=sA({reverse3d_:function(e,t){const n=rA(e,"x","reverse");return PI(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),J_(n,t)}});const X_=sA({reverse4d_:function(e,t){const n=rA(e,"x","reverse");return PI(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),J_(n,t)}});const e$=sA({round_:function(e){const t={x:rA(e,"x","round")};return QT.runKernel(WE,t)}});const t$=sA({rsqrt_:function(e){const t={x:rA(e,"x","rsqrt","float32")};return QT.runKernel(VE,t)}});const n$=sA({selu_:function(e){const t={x:rA(e,"x","selu")};return QT.runKernel(JE,t)}});const r$=sA({separableConv2d_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const o=rA(e,"x","separableConv2d"),l=rA(t,"depthwiseFilter","separableConv2d"),u=rA(n,"pointwiseFilter","separableConv2d");let c=o,f=!1;if(3===o.rank&&(f=!0,c=vj(o,[1,o.shape[0],o.shape[1],o.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");PI(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),PI(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),PI(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),PI(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),PI(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const d=l.shape[2],h=l.shape[3];PI(u.shape[2]===d*h,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${u.shape[2]}.`));const p=nO(c,l,r,a,s,i),m=Wj(p,u,1,"valid",s);return f?vj(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const a$=async function(e,t){const n=rA(e,"x","setdiff1d"),r=rA(t,"y","setdiff1d");PI(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),PI(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),PI(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const a=await n.data(),i=await r.data(),s=new Set(i);let o=0;for(let c=0;c<a.length;c++)s.has(a[c])||o++;const l=new CT([o],n.dtype),u=new CT([o],"int32");for(let c=0,f=0;c<a.length;c++)s.has(a[c])||(l.values[f]=a[c],u.values[f]=c,f++);return[l.toTensor(),u.toTensor()]};const i$=sA({sign_:function(e){const t={x:rA(e,"x","sign")};return QT.runKernel(XE,t)}});const s$=sA({sin_:function(e){const t={x:rA(e,"x","sin","float32")};return QT.runKernel(qE,t)}});const o$=sA({sinh_:function(e){const t={x:rA(e,"x","sinh")};return QT.runKernel(KE,t)}});const l$=sA({slice1d_:function(e,t,n){const r=rA(e,"x","slice1d");return PI(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),Ij(r,[t],[n])}});const u$=sA({slice2d_:function(e,t,n){const r=rA(e,"x","slice2d");return PI(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),Ij(r,t,n)}});const c$=sA({slice3d_:function(e,t,n){const r=rA(e,"x","slice3d");return PI(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),Ij(r,t,n)}});const f$=sA({slice4d_:function(e,t,n){const r=rA(e,"x","slice4d");return PI(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),Ij(r,t,n)}});const d$=sA({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=rA(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},a={dim:t};return QT.runKernel(sL,r,a)}});const h$=sA({fft_:function(e){PI("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return QT.runKernel(TM,t)}});const p$=sA({ifft_:function(e){PI("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return QT.runKernel(BM,t)}});const m$=sA({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const a=vj(e,[n,t]);r=p$(a)}else{const a=[n,2*(t-1)],i=vj(G_(e),[n,t]),s=vj(_O(e),[n,t]),o=J_(Ij(i,[0,1],[n,t-2]),1),l=LD(J_(Ij(s,[0,1],[n,t-2]),1),jD(-1)),u=kj([i,o],1),c=kj([s,l],1),f=vj(oA(u,c),[a[0],a[1]]);r=p$(f)}if(r=G_(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=vj(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const g$=sA({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:rA(e,"x","split")},a={numOrSizeSplits:t,axis:n};return QT.runKernel(iL,r,a)}});const y$=sA({rfft_:function(e,t){PI("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let a;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,a=Ij(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,a=kj([e,u_(r)],e.shape.length-1),n=t}else a=e;const i=DD(a),s=vj(oA(a,i),[r,n]),o=h$(s),l=Math.floor(n/2)+1,u=G_(o),c=_O(o),f=g$(u,[l,n-l],u.shape.length-1),d=g$(c,[l,n-l],c.shape.length-1),h=a.shape.slice();return h[a.shape.length-1]=l,vj(oA(f[0],d[0]),h)}});const b$=sA({squaredDifference_:function(e,t){let n=rA(e,"a","squaredDifference"),r=rA(t,"b","squaredDifference");[n,r]=PT(n,r),ZD(n.shape,r.shape);const a={a:n,b:r};return QT.runKernel(dL,a,{})}});const v$=sA({squeeze_:function(e,t){const n=rA(e,"x","squeeze","string_or_numeric");return vj(n,qI(n.shape,t).newShape)}});const w$=sA({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=aA(e,"tensors","stack","string_or_numeric");PI(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&PI(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,a={axis:t};return QT.runKernel(NE,r,a)}});const x$=sA({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:rA(e,"x","step")},r={alpha:t};return QT.runKernel(TL,n,r)}});const k$=sA({stridedSlice_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:rA(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};return QT.runKernel(mL,u,c)}});const C$=sA({tan_:function(e){const t={x:rA(e,"x","tan","float32")};return QT.runKernel(wL,t)}});function N$(e,t){UI(e);const n=eA(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return lA(e,null,n,t)}function I$(e,t,n){if(UI(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=eA(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return lA(e,t,r,n)}function S$(e,t,n){if(UI(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=eA(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return lA(e,t,r,n)}function M$(e,t,n){if(UI(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=eA(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return lA(e,t,r,n)}function E$(e,t,n){if(UI(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=eA(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return lA(e,t=t||r,r,n)}function L$(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(let s=0;s<a;++s)if(n.shape[s]!==t.shape[s])throw new Error(i+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${e[s+a]})`)}function T$(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}L$(n,t,e)}function A$(e,t,n){const r=t.shape.length,a=r>1?t.shape[r-1]:1,i=n.length;let s=1;for(let l=a;l<i;++l)s*=n[l];const o=a<1?1:a;return{sliceRank:a,numUpdates:WI(t.shape)/o,sliceSize:s,strides:[...oS(n.slice(0,a)),1],outputSize:WI(n)}}const D$=sA({tensorScatterUpdate_:function(e,t,n){const r=rA(e,"tensor","tensorScatterupdate"),a=rA(t,"indices","tensorScatterupdate","int32"),i=rA(n,"updates","tensorScatterupdate");if(T$(i,a,r.shape),r.dtype!==i.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${i.dtype}.`);const s={tensor:r,indices:a,updates:i};return QT.runKernel(HE,s,{})}});const R$=sA({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=rA(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${t}`);const i={x:r},s={k:t,sorted:n},[o,l]=QT.runKernel(CL,i,s);return{values:o,indices:l}}});const j$=sA({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(hS(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new __(t,n,r,!0,a),s=kD(e,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}});const O$=sA({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=rA(e,"x","unique","string_or_numeric");PI(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},a={axis:t},[i,s]=QT.runKernel(SL,r,a);return{values:i,indices:s}}});const _$=sA({unsortedSegmentSum_:function(e,t,n){const r=rA(e,"x","unsortedSegmentSum"),a=rA(t,"segmentIds","unsortedSegmentSum","int32");PI(GI(n),(()=>"numSegments must be of dtype int"));const i={x:r,segmentIds:a},s={numSegments:n};return QT.runKernel(EL,i,s)}});const $$=sA({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=rA(e,"x","unstack","string_or_numeric");PI(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},a={axis:t};return QT.runKernel(ML,r,a)}});function F$(e,t){return r_(e,t,"right")}function z$(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return QT.makeVariable(e,t,n,r)}function P$(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=kD(e,"int32"),a=kD([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const t=r.indexToLoc(n[i]),s=i*e.length;a.values.set(t,s)}return a.toTensor()}const B$=async function(e){const t=rA(e,"condition","whereAsync","bool"),n=await t.data(),r=P$(t.shape,n);return e!==t&&t.dispose(),r};const U$=async function(e,t,n){const r=rA(e,"tensor","boolMask"),a=rA(t,"mask","boolMask","bool"),i=null==n?0:n,s=a.rank,o=r.shape;PI(s>0,(()=>"mask cannot be scalar")),BI(o.slice(i,i+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=i;m<i+s;m++)l*=o[m];const u=o.slice(0,i).concat([l],o.slice(i+s)),c=vj(r,u),f=vj(a,[-1]),d=await B$(f),h=v$(d,[1]),p=RO(c,h,i);return e!==r&&r.dispose(),t!==a&&a.dispose(),h.dispose(),c.dispose(),f.dispose(),d.dispose(),p};const W$=sA({transpose_:function(e,t,n){const r=rA(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),PI(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{PI(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const a={x:r},i={perm:t};return"complex64"===r.dtype?pA((()=>{let e=G_(r),t=_O(r);return e=QT.runKernel(IL,{x:e},i),t=QT.runKernel(IL,{x:t},i),n&&(t=YO(t)),oA(e,t)})):QT.runKernel(IL,a,i)}});const V$=sA({movingAverage_:function(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const i=rA(e,"v","movingAverage"),s=rA(t,"x","movingAverage"),o=rA(n,"decay","movingAverage");!function(e,t){PI(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}(i,s),PI(VI(i.shape,s.shape),(()=>"Shape mismatch in v and x"));const l=jD(1),u=GD(l,o);let c=LD(GD(s,i),u);if(a){PI(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=rA(r,"step","movingAverage");c=ED(c,GD(l,VD(o,e)))}return SD(i,c)}});const G$=sA({scatterND_:function(e,t,n){hS(n);const r=rA(e,"indices","scatterND","int32"),a=rA(t,"updates","scatterND");T$(a,r,n);const i={indices:r,updates:a},s={shape:n};return QT.runKernel(GE,i,s)}});const H$=sA({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;hS(n);const a=rA(e,"sparseIndices","sparseToDense","int32"),i=rA(t,"sparseValues","sparseToDense","string_or_numeric"),s=rA(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,s);const o={sparseIndices:a,sparseValues:i,defaultValue:s},l={outputShape:n};return QT.runKernel(fL,o,l)}});const Y$=sA({gatherND_:function(e,t){const n=rA(t,"indices","gatherND","int32"),r={params:rA(e,"x","gatherND","string_or_numeric"),indices:n};return QT.runKernel($M,r)}});const Q$=sA({dropout_:function(e,t,n,r){const a=rA(e,"x","dropout");if(PI("float32"===a.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`)),PI(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof MT?a.clone():a;const i=function(e,t){if(null==t)return e.shape.slice();if(VI(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,o=ED(DO(SD(U_(i,0,1,"float32",r),s)),s);return LD(a,o)}});function J$(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Z$(e,t,n){const r=1-e%2,a=new Float32Array(e);for(let i=0;i<e;++i){const s=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(s)}return N$(a,"float32")}const q$=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=rA(e,"predictions","inTopK"),a=rA(t,"targets","inTopK");PI(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),PI(r.rank-1===a.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`)),BI(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];PI(n>0&&n<=i,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`));const s=await r.data(),o=await a.data(),[l,u]=[s.length/i,i],c=KI("bool",l);for(let f=0;f<l;f++){const e=f*u,t=s.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[f]=0;for(let a=0;a<n;a++)if(r[a].index===o[f]){c[f]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),uA(c,a.shape,"bool")};const K$=sA({conv2DBackpropFilter_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0,o=e;3===e.rank&&(o=vj(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=vj(t,[1,t.shape[0],t.shape[1],t.shape[2]])),PI(4===o.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`)),PI(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),PI(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===i?o.shape[3]:o.shape[1],c="NHWC"===i?l.shape[3]:l.shape[1];PI(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),PI(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),bj("conv2dDerFilter",a,s);const f={x:o,dy:l},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,filterShape:n};return QT.runKernel(tM,f,d)}});function X$(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return LD(e,x$(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function eF(e,t){let n=t;const r=JD(e.shape,t.shape);return r.length>0&&(n=CO(n,r)),vj(n,e.shape)}function tF(e,t,n,r){if("linear"===t)return e;if("relu"===t)return Y_(e);if("elu"===t)return cO(e);if("relu6"===t)return Q_(e);if("prelu"===t)return L_(e,n);if("leakyrelu"===t)return PO(e,r);if("sigmoid"===t)return Nj(e);throw new Error(`Unknown fused activation ${t}.`)}const nF=(e,t)=>!(e>0)||"linear"===t;const rF=sA({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:i="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:f}=e;if(u=u||"linear",!1===nF(QT.state.gradientDepth,u)){PI("NHWC"===i,(()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let e=Wj(t,n,r,a,i,s,o);return null!=l&&(e=SD(e,l)),tF(e,u,c,f)}const d=rA(t,"x","conv2d","float32"),h=rA(n,"filter","conv2d","float32");let p=d,m=!1;3===d.rank&&(m=!0,p=vj(d,[1,d.shape[0],d.shape[1],d.shape[2]])),PI(4===p.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`)),PI(4===h.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`)),bj("fused conv2d",a,o);const g="NHWC"===i?p.shape[3]:p.shape[1];PI(h.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`)),PI(mj(r,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`));const y=oj(p.shape,h.shape,r,s,a,o);let b,v;if(null!=l&&(b=rA(l,"bias","fused conv2d"),[b]=PT(b,d),"NHWC"===i?ZD(y.outShape,b.shape):(PI(b.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${b.shape.length}.`)),PI(0===b.shape.length||b.shape[0]===y.outChannels||1===b.shape[0],(()=>`Error in fused conv2d: bias shape (${b.shape}) is not compatible with the number of output channels (${y.outChannels})`)))),null!=c){const e=c.shape;if(PI(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)PI(1===e[0]||e[0]===y.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`));else if(3===e.length)try{ZD(e,y.outShape)}catch(Lae){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}v=rA(c,"prelu weights","fused conv2d")}const w=(e,t)=>{PI("NHWC"===i,(()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`));const[n,o,l,c]=t,f=X$(e,l,u);PI(pj(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const d=[Gj(o.shape,f,n,r,a),K$(o,f,n.shape,r,a)];if(null!=c){const e=eF(c,f);d.push(e)}return d},x={x:p,filter:h,bias:b,preluActivationWeights:v},k={strides:r,pad:a,dataFormat:i,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:f};if(null==l){const e=RD(((e,t,n)=>{let r=QT.runKernel(jL,x,k);return n([t,e,r]),m&&(r=vj(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(p,h)}{const e=RD(((e,t,n,r)=>{let a=QT.runKernel(jL,x,k);return r([t,e,a,n]),m&&(a=vj(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}}));return e(p,h,b)}}});const aF=sA({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,o=e;3===e.rank&&(o=vj(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=vj(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:o,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,filterShape:n};return QT.runKernel(pM,u,c)}});const iF=sA({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,o=t,l=!1;3===t.rank&&(l=!0,o=vj(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:o,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,inputShape:e},f=QT.runKernel(mM,u,c);return l?vj(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const sF=sA({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:a,dataFormat:i="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:f}=e;if(!1===nF(QT.state.gradientDepth,u)){let e=nO(t,n,r,a,i,s,o);return null!=l&&(e=SD(e,l)),tF(e,u,c,f)}const d=rA(t,"x","depthwiseConv2d","float32"),h=rA(n,"filter","depthwiseConv2d","float32");let p=d,m=!1;3===d.rank&&(m=!0,p=vj(d,[1,d.shape[0],d.shape[1],d.shape[2]])),PI(4===p.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`)),PI(4===h.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),PI(p.shape[3]===h.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),null==s&&(s=[1,1]),PI(mj(r,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`)),bj("fused depthwiseConv2d",a,o);const g=oj(p.shape,h.shape,r,s,a,o,!0);let y,b;null!=l&&(y=rA(l,"bias","fused conv2d"),[y]=PT(y,d),ZD(g.outShape,y.shape)),null!=c&&(b=rA(c,"prelu weights","fused depthwiseConv2d"));const v=(e,t)=>{PI(pj(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[n,i,l,c]=t,f=X$(e,l,u),d=iF(i.shape,f,n,r,a,s,o),h=aF(i,f,n.shape,r,a,s,o);if(null!=c){return[d,h,eF(y,f)]}return[d,h]},w={x:p,filter:h,bias:y,preluActivationWeights:b},x={strides:r,pad:a,dataFormat:i,dilations:s,dimRoundingMode:o,activation:u,leakyreluAlpha:f};if(null==l){const e=RD(((e,t,n)=>{let r=QT.runKernel(OL,w,x);return n([t,e,r]),m&&(r=vj(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(p,h)}{const e=RD(((e,t,n,r)=>{let a=QT.runKernel(OL,w,x);return r([t,e,a,n]),m&&(a=vj(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:v}}));return e(p,h,y)}}});const oF=sA({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:a=!1,bias:i,activation:s="linear",preluActivationWeights:o,leakyreluAlpha:l=.2}=e;if(!1===nF(QT.state.gradientDepth,s)){let e=Cj(t,n,r,a);return null!=i&&(e=SD(e,i)),tF(e,s,o,l)}let u=rA(t,"a","fused matMul"),c=rA(n,"b","fused matMul");[u,c]=PT(u,c);const f=r?u.shape[u.rank-2]:u.shape[u.rank-1],d=a?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],p=a?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=WI(m),b=WI(g);PI(f===d,(()=>`Error in fused matMul: inner shapes (${f}) and (${d}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${r} and transposeB=${a} must match.`));const v=ZD(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,p]),w=vj(u,r?[y,f,h]:[y,h,f]),x=vj(c,a?[b,p,d]:[b,d,p]);let k,C;null!=i&&(k=rA(i,"bias","fused matMul"),[k]=PT(k,u),ZD(v,k.shape)),null!=o&&(C=rA(o,"prelu weights","fused matMul"));const N=(e,t)=>{const[n,o,l,u]=t,c=X$(vj(e,l.shape),l,s);let f,d;if(r||a?!r&&a?(f=Cj(c,o,!1,!1),d=Cj(c,n,!0,!1)):r&&!a?(f=Cj(o,c,!1,!0),d=Cj(n,c,!1,!1)):(f=Cj(o,c,!0,!0),d=Cj(c,n,!0,!0)):(f=Cj(c,o,!1,!0),d=Cj(n,c,!0,!1)),null!=i){return[f,d,eF(u,c)]}return[f,d]},I={a:w,b:x,bias:k,preluActivationWeights:C},S={transposeA:r,transposeB:a,activation:s,leakyreluAlpha:l};if(null==i){const e=RD(((e,t,n)=>{const r=QT.runKernel(RL,I,S);return n([e,t,r]),{value:vj(r,v),gradFunc:N}}));return e(w,x)}{const e=RD(((e,t,n,r)=>{const a=QT.runKernel(RL,I,S);return r([e,t,a,n]),{value:vj(a,v),gradFunc:N}}));return e(w,x,k)}}});const lF=sA({hammingWindow_:function(e){return Z$(e,.54,.46)}});const uF=sA({hannWindow_:function(e){return Z$(e,.5,.5)}});const cF=sA({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0;const s=[];for(;i+t<=e.size;)s.push(Ij(e,i,t)),i+=n;if(r)for(;i<e.size;){const r=i+t-e.size,o=kj([Ij(e,i,t-r),UD([r],a)]);s.push(o),i+=n}return 0===s.length?I$([],[0,t]):vj(kj(s),[s.length,t])}});const fF=sA({stft_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uF;null==r&&(r=J$(t));const i=cF(e,t,n),s=LD(i,a(t));return y$(s,r)}});const dF=sA({cropAndResize_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=rA(e,"image","cropAndResize"),o=rA(t,"boxes","cropAndResize","float32"),l=rA(n,"boxInd","cropAndResize","int32"),u=o.shape[0];PI(4===s.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`)),PI(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`)),PI(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`)),PI(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),PI(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),PI("bilinear"===a||"nearest"===a,(()=>`method must be bilinear or nearest, but was ${a}`));const c={image:s,boxes:o,boxInd:l},f={method:a,extrapolationValue:i,cropSize:r};return QT.runKernel(cM,c,f)}});const hF=sA({flipLeftRight_:function(e){const t=rA(e,"image","flipLeftRight","float32");PI(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return QT.runKernel(DM,n,{})}});const pF=sA({grayscaleToRGB_:function(e){const t=rA(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];PI(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),PI(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,TO(t,a)}});const mF=sA({rgbToGrayscale_:function(e){const t=rA(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];PI(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),PI(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const a=t.dtype,i=CD(t,"float32"),s=N$([.2989,.587,.114]);let o;switch(t.rank){case 2:o=uO("ij,j->i",i,s);break;case 3:o=uO("ijk,k->ij",i,s);break;case 4:o=uO("ijkl,l->ijk",i,s);break;case 5:o=uO("ijklm,m->ijkl",i,s);break;case 6:o=uO("ijklmn,n->ijklm",i,s);break;default:throw new Error("Not a valid tensor rank.")}return o=EO(o,-1),CD(o,a)}});const gF=sA({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=rA(e,"image","rotateWithOffset","float32");PI(4===a.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`));const i={image:a},s={radians:t,fillValue:n,center:r};return QT.runKernel(DL,i,s)}});function yF(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);const s=e.shape[0];return n=Math.min(n,s),PI(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),PI(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),PI(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),PI(1===t.rank,(()=>"scores must be a 1D tensor")),PI(t.shape[0]===s,(()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`)),PI(0<=i&&i<=1,(()=>`softNmsSigma must be in [0, 1], but was '${i}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}const bF=sA({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=rA(e,"boxes","nonMaxSuppression","float32"),s=rA(t,"scores","nonMaxSuppression","float32"),o=yF(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return QT.runKernel(vE,{boxes:i,scores:s},l)}});function vF(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,a=e.length,i=0,s=!1;for(;r<a;){i=r+(a-r>>>1);const o=n(t,e[i]);o>0?r=i+1:(a=i,s=!o)}return s?r:-r-1}(e,t,n||wF)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function wF(e,t){return e>t?1:e<t?-1:0}function xF(e,t,n,r,a){return NF(e,t,n,r,a,0)}function kF(e,t,n,r,a,i){return NF(e,t,n,r,a,0,!1,i,!0)}function CF(e,t,n,r,a,i){return NF(e,t,n,r,a,i,!0)}function NF(e,t,n,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>a&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(MF);const c=i>0?-.5/i:0,f=[],d=[];for(;f.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:i,suppressBeginIndex:s}=t;if(n<a)break;let o=!1;for(let l=f.length-1;l>=s;--l){const n=IF(e,i,f[l]);if(n>=r){o=!0;break}if(t.score=t.score*SF(r,c,n),t.score<=a)break}t.suppressBeginIndex=f.length,o||(t.score===n?(f.push(i),d.push(t.score)):t.score>a&&vF(u,t,MF))}const h=f.length,p=n-h;o&&p>0&&(f.push(...new Array(p).fill(0)),d.push(...new Array(p).fill(0)));const m={selectedIndices:f};return s&&(m.selectedScores=d),l&&(m.validOutputs=h),m}function IF(e,t,n){const r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),h=(o-i)*(l-s),p=(f-u)*(d-c);if(h<=0||p<=0)return 0;const m=Math.max(i,u),g=Math.max(s,c),y=Math.min(o,f),b=Math.min(l,d),v=Math.max(y-m,0)*Math.max(b-g,0);return v/(h+p-v)}function SF(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function MF(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const EF=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=rA(e,"boxes","nonMaxSuppressionAsync"),s=rA(t,"scores","nonMaxSuppressionAsync"),o=yF(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l=await Promise.all([i.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:f}=xF(u,c,n,r,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),N$(f,"int32")};const LF=sA({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=rA(e,"boxes","nonMaxSuppression"),o=rA(t,"scores","nonMaxSuppression"),l=yF(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:s,scores:o},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i},f=QT.runKernel(xE,u,c);return{selectedIndices:f[0],selectedScores:f[1]}}});const TF=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=rA(e,"boxes","nonMaxSuppressionAsync"),o=rA(t,"scores","nonMaxSuppressionAsync"),l=yF(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([s.data(),o.data()]),c=u[0],f=u[1],{selectedIndices:d,selectedScores:h}=CF(c,f,n,r,a,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:N$(d,"int32"),selectedScores:N$(h)}};const AF=sA({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=rA(e,"boxes","nonMaxSuppression"),o=rA(t,"scores","nonMaxSuppression"),l=yF(s,o,n,r,a,null),u={boxes:s,scores:o},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},f=QT.runKernel(wE,u,c);return{selectedIndices:f[0],validOutputs:f[1]}}});const DF=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=rA(e,"boxes","nonMaxSuppressionAsync"),o=rA(t,"scores","nonMaxSuppressionAsync"),l=yF(s,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,f=l.scoreThreshold,[d,h]=await Promise.all([s.data(),o.data()]),{selectedIndices:p,validOutputs:m}=kF(d,h,u,c,f,i);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:N$(p,"int32"),validOutputs:jD(m,"int32")}};const RF=sA({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=rA(e,"images","resizeBilinear");PI(3===a.rank||4===a.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`)),PI(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),PI(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let i=a,s=!1;3===a.rank&&(s=!0,i=vj(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=QT.runKernel(zE,o,l);return s?vj(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const jF=sA({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=rA(e,"images","resizeNearestNeighbor");PI(3===a.rank||4===a.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`)),PI(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),PI("float32"===a.dtype||"int32"===a.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),PI(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let i=a,s=!1;3===a.rank&&(s=!0,i=vj(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const[]=t,o={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=QT.runKernel($E,o,l);return s?vj(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const OF=sA({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const a=rA(e,"image","threshold"),i=a.shape[0]*a.shape[1];let s,o,l,u,c=LD(N$([r]),255);if(PI(3===a.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`)),PI(3===a.shape[2]||1===a.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`)),PI("int32"===a.dtype||"float32"===a.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`)),PI("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===a.shape[2]){[s,o,l]=g$(a,[1,1,1],-1);const e=LD(s,.2989),t=LD(o,.587),n=LD(l,.114);u=SD(SD(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,a,i,s,o,l=N$([-1]),u=N$([0]),c=N$([0]);for(let f=0;f<e.size-1;f++){n=Ij(e,0,f+1),r=Ij(e,f+1),s=ED(CO(n),t),o=ED(CO(r),t);const d=CO(LD(n,V_(0,n.size)));a=ED(d,CO(n));const h=UD(r.shape,n.size),p=SD(V_(0,r.size),h),m=LD(r,p);i=ED(CO(m),CO(r));const g=GD(a,i),y=GD(a,i),b=LD(s,o);c=LD(LD(b,g),y);const v=jO(c,u);u=sO(v,c,u),l=sO(v,N$([f]),l)}return l}(Rj(CD(e$(u),"int32"),uA([]),256),i)}const f=n?UO(u,c):jO(u,c);return CD(LD(f,255),"int32")}});const _F=sA({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;const s=rA(e,"image","transform","float32"),o=rA(t,"transforms","transform","float32");PI(4===s.rank,(()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`)),PI(2===o.rank&&(o.shape[0]===s.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),PI(null==i||2===i.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`));const l={image:s,transforms:o},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return QT.runKernel(NL,l,u)}});const $F=sA({bandPart_:function(e,t,n){const r=rA(e,"a","bandPart");PI(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const a=r.shape,[i,s]=r.shape.slice(-2);let o,l;"number"===typeof t?(PI(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),PI(t<=i,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`)),o=rA(t<0?i:t,"numLower","bandPart")):(PI("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),o=sO(BO(t,0),i,d_(t,i))),"number"===typeof n?(PI(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),PI(n<=s,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`)),l=rA(n<0?s:n,"numUpper","bandPart")):(PI("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=sO(BO(n,0),s,d_(n,s)));const u=vj(V_(0,i,1,"int32"),[-1,1]),c=V_(0,s,1,"int32"),f=GD(u,c),d=KO(UO(f,o),OO(f,YO(l))),h=u_([i,s],r.dtype);return vj(w$($$(vj(r,[-1,i,s])).map((e=>sO(d,e,h)))),a)}});const FF=sA({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,PI(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)PI(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=g$(e,e.shape[0],0).map((e=>v$(e,[0])));PI(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let a=0;a<e.length;++a)n.push(QT.tidy((()=>{let e=r[a];if(a>0)for(let t=0;t<a;++t){const r=LD(CO(LD(n[t],e)),n[t]);e=GD(e,r)}return ED(e,IO(e,"euclidean"))})));return t?w$(n,0):n}});function zF(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return QT.tidy((()=>{PI(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let a=AO(n),i=ND(e);const s=I$([[1]],[1,1]);let o=ND(s);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=i,l=o,u=a;[o,i,a]=QT.tidy((()=>{const t=Ij(i,[e,e],[n-e,1]),l=IO(t),u=Ij(i,[e,e],[1,1]),c=sO(jO(u,0),I$([[-1]]),I$([[1]])),f=GD(u,LD(c,l)),d=ED(t,f);o=1===d.shape[0]?ND(s):kj([s,Ij(d,[1,0],[d.shape[0]-1,d.shape[1]])],0);const h=YO(ED(Cj(c,f),l)),p=Ij(i,[e,0],[n-e,r]),m=LD(h,o),g=W$(o);if(0===e)i=GD(p,Cj(m,Cj(g,p)));else{const t=GD(p,Cj(m,Cj(g,p)));i=kj([Ij(i,[0,0],[e,r]),t],0)}const y=W$(m),b=Ij(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=GD(b,Cj(Cj(b,o),y));else{const t=GD(b,Cj(Cj(b,o),y));a=kj([Ij(a,[0,0],[n,e]),t],1)}return[o,i,a]})),mA([t,l,u])}return!t&&n>r&&(a=Ij(a,[0,0],[n,r]),i=Ij(i,[0,0],[r,r])),[a,i]}))}const PF=sA({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(PI(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return zF(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=$$(vj(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];r.forEach((e=>{const[n,r]=zF(e,t);a.push(n),i.push(r)}));return[vj(w$(a,0),e.shape),vj(w$(i,0),e.shape)]}}});var BF;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(BF||(BF={}));const UF=sA({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BF.SUM_BY_NONZERO_WEIGHTS;const r=rA(e,"losses","computeWeightedLoss");let a=null;null!=t&&(a=rA(t,"weights","computeWeightedLoss"));const i=null==a?r:LD(r,a);if(n===BF.NONE)return i;if(n===BF.SUM)return CO(i);if(n===BF.MEAN){if(null==a)return l_(i);{const e=r.size/a.size,t=ED(CO(i),CO(a));return e>1?ED(t,jD(e)):t}}if(n===BF.SUM_BY_NONZERO_WEIGHTS){if(null==a)return ED(CO(i),jD(r.size));{const e=LD(a,c_(r.shape)),t=CD(CO(b_(e,jD(0))),"float32");return ED(CO(i),t)}}throw Error(`Unknown reduction: ${n}`)}});const WF=sA({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BF.SUM_BY_NONZERO_WEIGHTS;const a=rA(e,"labels","absoluteDifference"),i=rA(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=rA(n,"weights","absoluteDifference")),BI(a.shape,i.shape,"Error in absoluteDifference: ");const o=YD(GD(a,i));return UF(o,s,r)}});const VF=sA({cosineDistance_:function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BF.SUM_BY_NONZERO_WEIGHTS;const i=rA(e,"labels","cosineDistance"),s=rA(t,"predictions","cosineDistance");let o=null;null!=r&&(o=rA(r,"weights","cosineDistance")),BI(i.shape,s.shape,"Error in cosineDistance: ");const l=jD(1),u=GD(l,CO(LD(i,s),n,!0));return UF(u,o,a)}});const GF=sA({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BF.SUM_BY_NONZERO_WEIGHTS,a=rA(e,"labels","hingeLoss");const i=rA(t,"predictions","hingeLoss");let s=null;null!=n&&(s=rA(n,"weights","hingeLoss")),BI(a.shape,i.shape,"Error in hingeLoss: ");const o=jD(1);a=GD(LD(jD(2),a),o);const l=Y_(GD(o,LD(a,i)));return UF(l,s,r)}});const HF=sA({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BF.SUM_BY_NONZERO_WEIGHTS;const i=rA(e,"labels","huberLoss"),s=rA(t,"predictions","huberLoss");let o=null;null!=n&&(o=rA(n,"weights","huberLoss")),BI(i.shape,s.shape,"Error in huberLoss: ");const l=jD(r),u=YD(GD(s,i)),c=d_(u,l),f=GD(u,c),d=SD(LD(jD(.5),AD(c)),LD(l,f));return UF(d,o,a)}});const YF=sA({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BF.SUM_BY_NONZERO_WEIGHTS;const i=rA(e,"labels","logLoss"),s=rA(t,"predictions","logLoss");let o=null;null!=n&&(o=rA(n,"weights","logLoss")),BI(i.shape,s.shape,"Error in logLoss: ");const l=jD(1),u=jD(r),c=YO(LD(i,GO(SD(s,u)))),f=LD(GD(l,i),GO(SD(GD(l,s),u))),d=GD(c,f);return UF(d,o,a)}});const QF=sA({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:BF.SUM_BY_NONZERO_WEIGHTS;const a=rA(e,"labels","meanSquaredError"),i=rA(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=rA(n,"weights","meanSquaredError")),BI(a.shape,i.shape,"Error in meanSquaredError: ");const o=b$(a,i);return UF(o,s,r)}});const JF=sA({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BF.SUM_BY_NONZERO_WEIGHTS,i=rA(e,"multiClassLabels","sigmoidCrossEntropy");const s=rA(t,"logits","sigmoidCrossEntropy");let o=null;if(null!=n&&(o=rA(n,"weights","sigmoidCrossEntropy")),BI(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=jD(r),t=jD(1),n=jD(.5);i=SD(LD(i,GD(t,e)),LD(n,e))}const l=function(e,t){const n=rA(e,"labels","sigmoidCrossEntropyWithLogits"),r=rA(t,"logits","sigmoidCrossEntropyWithLogits");BI(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=Y_(r),i=LD(r,n),s=HO(MO(YO(YD(r))));return SD(GD(a,i),s)}(i,s);return UF(l,o,a)}});const ZF=sA({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BF.SUM_BY_NONZERO_WEIGHTS,i=rA(e,"onehotLabels","softmaxCrossEntropy");const s=rA(t,"logits","softmaxCrossEntropy");let o=null;if(null!=n&&(o=rA(n,"weights","softmaxCrossEntropy")),BI(i.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=jD(r),t=jD(1),n=jD(i.shape[1]);i=SD(LD(i,GD(t,e)),ED(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=RD(((e,t,r)=>{const a=qO(t,[n],!0),i=GD(CD(t,"float32"),a);r([e,i]);const s=YO(LD(i,e));return{value:CO(s,[n]),gradFunc:(e,t)=>{const[r,a]=t,i=gO(e.shape,[n]);return[LD(vj(e,i),GD(CD(r,"float32"),MO(a))),LD(vj(e,i),GD(MO(a),CD(r,"float32")))]}}}));return r(e,t)}(i,s);return UF(l,o,a)}});const qF=sA({sparseFillEmptyRows_:function(e,t,n,r){const a=rA(e,"indices","sparseFillEmptyRows","int32"),i=rA(t,"values","sparseFillEmptyRows"),s=rA(n,"denseShape","sparseFillEmptyRows","int32"),o=rA(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==i.rank)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(1!==s.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(0!==o.rank)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:a,values:i,denseShape:s,defaultValue:o},u=QT.runKernel(oL,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}});const KF=sA({sparseReshape_:function(e,t,n){const r=rA(e,"inputIndices","sparseReshape","int32"),a=rA(t,"inputShape","sparseReshape","int32"),i=rA(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const s={inputIndices:r,inputShape:a,newShape:i},o=QT.runKernel(lL,s);return{outputIndices:o[0],outputShape:o[1]}}});const XF=sA({sparseSegmentMean_:function(e,t,n){const r=rA(e,"data","sparseSegmentMean"),a=rA(t,"indices","sparseSegmentMean","int32"),i=rA(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${i.shape}`);const s={data:r,indices:a,segmentIds:i};return QT.runKernel(uL,s)}});const ez=sA({sparseSegmentSum_:function(e,t,n){const r=rA(e,"data","sparseSegmentSum"),a=rA(t,"indices","sparseSegmentSum","int32"),i=rA(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${i.shape}`);const s={data:r,indices:a,segmentIds:i};return QT.runKernel(cL,s)}});const tz=sA({stringNGrams_:function(e,t,n,r,a,i,s,o){const l=rA(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=rA(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:s,preserveShortSequences:o},f={data:l,dataSplits:u},d=QT.runKernel(gL,f,c);return{nGrams:d[0],nGramsSplits:d[1]}}});const nz=sA({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=rA(e,"input","stringSplit","string"),a=rA(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const i={skipEmpty:n},s={input:r,delimiter:a},o=QT.runKernel(yL,s,i);return{indices:o[0],values:o[1],shape:o[2]}}});const rz=sA({stringToHashBucketFast_:function(e,t){const n=rA(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return QT.runKernel(bL,a,r)}});const az=sA({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=rA(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return QT.runKernel(pL,{x:a},i)}}),iz={fft:h$,ifft:p$,rfft:y$,irfft:m$},sz={hammingWindow:lF,hannWindow:uF,frame:cF,stft:fF},oz={flipLeftRight:hF,grayscaleToRGB:pF,resizeNearestNeighbor:jF,resizeBilinear:RF,rgbToGrayscale:mF,rotateWithOffset:gF,cropAndResize:dF,nonMaxSuppression:bF,nonMaxSuppressionAsync:EF,nonMaxSuppressionWithScore:LF,nonMaxSuppressionWithScoreAsync:TF,nonMaxSuppressionPadded:AF,nonMaxSuppressionPaddedAsync:DF,threshold:OF,transform:_F},lz={bandPart:$F,gramSchmidt:FF,qr:PF},uz={absoluteDifference:WF,computeWeightedLoss:UF,cosineDistance:VF,hingeLoss:GF,huberLoss:HF,logLoss:YF,meanSquaredError:QF,sigmoidCrossEntropy:JF,softmaxCrossEntropy:ZF},cz={sparseFillEmptyRows:qF,sparseReshape:KF,sparseSegmentMean:XF,sparseSegmentSum:ez},fz={stringNGrams:tz,stringSplit:nz,stringToHashBucketFast:rz,staticRegexReplace:az};const dz=class{static sgd(e){return new XD(e)}static momentum(e,t){return new eR(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new tR(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new HD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new BD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new KD(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new WD(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}},hz="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function pz(){return new Promise((e=>hz((()=>e()))))}function mz(e,t){const n=e[0].length;e.forEach(((e,t)=>{PI(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),PI(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,a)=>{for(let i=0;i<n;i++)PI(i===t||e[i]===r[i],(()=>`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`))}))}function gz(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var yz;function bz(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const i=n[a],s=r[r.length-n.length+a],o=r[s];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${o}`)}else r[s]=i}return r}function vz(e){const t={FIRST_DIM_SIZE:yz.FIRST_DIM_SIZE,VALUE_ROWIDS:yz.VALUE_ROWIDS,ROW_LENGTHS:yz.ROW_LENGTHS,ROW_SPLITS:yz.ROW_SPLITS,ROW_LIMITS:yz.ROW_LIMITS,ROW_STARTS:yz.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function wz(e){return 0===e.length?0:e[0]===yz.FIRST_DIM_SIZE?e.length-1:e.length}function xz(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const n=e[a],r=t[a+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${n} but ragged tensor input.flatValues.shape[${a-e.length}] = ${r}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(yz||(yz={}));const kz=30;function Cz(e){return e<=kz?e:sS(e,Math.floor(Math.sqrt(e)))}function Nz(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Iz(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)r=r.concat([e[a+1]/t[a],t[a]]);r=r.concat(e.slice(n+1))}return r}function Sz(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],a=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?a.push(n):r.push(n);n.push(...r),n.push(0),n.push(...a)}return n}function Mz(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Ez(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Lz(e,t,n){const r=e.slice(0,1);for(let a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}function Tz(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===WI(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const a=t.shape,i=a[a.length-1];let s=1;for(let f=0;f<a.length-1;++f)s*=a[f];const o=e.shape,l=a.slice();l.pop();let u=1;for(let f=i;f<n;++f)u*=o[f],l.push(o[f]);const c=[...oS(e.shape).map((e=>e/u)),1].slice(0,i);return[l,s,u,c]}const Az=1.7580993408473768,Dz=1.0507009873554805,Rz=.3275911,jz=.254829592,Oz=-.284496736,_z=1.421413741,$z=-1.453152027,Fz=1.061405429;function zz(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Pz(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Bz(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Uz(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Wz(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Vz(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Gz(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let a=0;a<Math.ceil(e/2);a++){const i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function Hz(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Yz="->",Qz=/->/g,Jz=",",Zz="...";function qz(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Qz,"").length)/Yz.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Yz}").`);const[r,a]=e.split(Yz);PI(-1===r.indexOf(Zz),(()=>`The ellipsis notation ("${Zz}") is not supported yet.`));const i=r.split(Jz),s=i.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let f=0;f<a.length;++f){const e=a[f];if(!i.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===o.indexOf(e)&&o.push(e)}for(let f=0;f<r.length;++f){const e=r[f];-1===o.indexOf(e)&&e!==Jz&&o.push(e)}const l=new Array(i.length);for(let f=0;f<s;++f){if(new Set(i[f].split("")).size!==i[f].length)throw new Error(`Found duplicate axes in input component ${i[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let e=0;e<i[f].length;++e)l[f].push(o.indexOf(i[f][e]))}const u=o.length,c=[];for(let f=a.length;f<u;++f)c.push(f);return{allDims:o,summedDims:c,idDims:l}}function Kz(e,t){let n=new Array(e);n.fill(-1);for(let a=0;a<t.length;++a)n[t[a]]=a;const r=[];for(let a=0;a<e;++a)-1===n[a]&&r.push(a);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Xz(e,t,n){const r=new Array(e);for(let a=0;a<n.length;++a){const e=n[a].shape;for(let n=0;n<t[a].length;++n)void 0===r[t[a][n]]?r[t[a][n]]=e[n]:PI(r[t[a][n]]===e[n],(()=>`Expected dimension ${r[t[a][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function eP(e,t){const n=e,r=[];let a=0;0===e.length&&n.push(-1),a=e.length+1;for(let s=0;s<a;++s)r.push([]);const i=[];for(let s=0;s<n.length;++s){const e=nP(t,n[s]);for(const t of e)-1===i.indexOf(t)&&(r[s].push(t),i.push(t))}return{path:n,steps:r}}function tP(e){return e.every(((e,t)=>e===t))}function nP(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function rP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)PI(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const a=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);PI(a<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const r=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-r}PI(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function aP(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function iP(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function sP(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function oP(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function lP(e,t){return`size ${e} must be non-negative, not ${t}`}function uP(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function cP(e,t){return`Input to reshape is a SparseTensor with ${WI(e)}\n  dense values, but the requested shape requires a multiple of ${WI(t)}. inputShape=${e} outputShape= ${t}`}function fP(e,t){return`Input to reshape is a tensor with ${WI(e)} dense values, but the requested shape has ${WI(t)}. inputShape=${e} outputShape=${t}`}function dP(){return"segment ids must be >= 0"}function hP(){return"segment ids are not increasing"}function pP(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function mP(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function gP(e,t){let n,r=!1;for(e<=kz?(n=e,r=!0):n=sS(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=sS(e,n+1);return n}function yP(e,t,n){const r=[],a=e.length;for(let i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function bP(e,t,n,r){const a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let f=0;f<r;++f)if(e.shape[f]!==t.shape[f])throw new Error(`x.shape[${f}]: ${e.shape[f]} should be equal to indices.shape[${f}]: ${t.shape[f]}.`);const s=e.shape[n],o=[];let l=1,u=1,c=1;for(let f=0;f<r;++f)o.push(e.shape[f]),l*=e.shape[f];for(let f=r;f<n;f++)o.push(e.shape[f]),u*=e.shape[f];for(let f=r;f<a;f++)o.push(t.shape[f]);for(let f=n+1;f<i;f++)o.push(e.shape[f]),c*=e.shape[f];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:s,outputShape:o}}function vP(e){try{return e.map((e=>dT(e)))}catch(Tae){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${Tae}`)}}function wP(e){return e.map((e=>fT(e)))}!function(){for(const e of nR)zD(e)}();const xP={kernelName:IS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,x$(CD(n,"float32"),-1))}}},kP={kernelName:SS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=AD(CD(n,"float32")),r=TD(GD(jD(1),t));return YO(ED(e,r))}}}},CP={kernelName:MS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=TD(GD(AD(CD(n,"float32")),1));return ED(e,t)}}}},NP={kernelName:ES,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{let t=e;const r=JD(n.shape,a);return r.length>0&&(t=CO(t,r)),vj(t,n.shape)},b:()=>{let t=e;const n=JD(r.shape,a);return n.length>0&&(t=CO(t,n)),vj(t,r.shape)}}}},IP={kernelName:LS,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},SP={kernelName:DS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DD(n)}}},MP={kernelName:RS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>DD(n)}}},EP={kernelName:jS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,TD(GD(jD(1),AD(CD(n,"float32")))))}}},LP={kernelName:OS,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=TD(SD(jD(1),AD(CD(n,"float32"))));return ED(e,t)}}}},TP={kernelName:FS,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{const t=SD(AD(n),AD(r));let i=LD(e,ED(r,t));const s=JD(n.shape,a);return s.length>0&&(i=CO(i,s)),vj(i,n.shape)},b:()=>{const t=SD(AD(n),AD(r));let i=YO(LD(e,ED(n,t)));const s=JD(r.shape,a);return s.length>0&&(i=CO(i,s)),vj(i,r.shape)}}}},AP={kernelName:_S,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,SD(AD(CD(n,"float32")),1))}}},DP={kernelName:$S,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,GD(jD(1),AD(CD(n,"float32"))))}}};const RP=sA({avgPool3dGrad_:function(e,t,n,r,a,i){const s=rA(e,"dy","avgPool3dGrad"),o=rA(t,"input","avgPool3dGrad");let l=s,u=o,c=!1;4===o.rank&&(c=!0,l=vj(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),u=vj(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),PI(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),PI(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),bj("avgPool3dGrad",a,i);const f={dy:l,input:u},d={filterSize:n,strides:r,pad:a,dimRoundingMode:i},h=QT.runKernel(US,f,d);return c?vj(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),jP={kernelName:BS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:o}=n;return{x:()=>RP(e,r,a,i,s,o)}}};const OP=sA({avgPoolGrad_:function(e,t,n,r,a){const i=rA(e,"dy","avgPoolGrad"),s=rA(t,"input","avgPoolGrad");PI(s.rank===i.rank,(()=>`Rank of input (${s.rank}) does not match rank of dy (${i.rank})`));let o=s,l=i,u=!1;3===s.rank&&(u=!0,o=vj(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=vj(i,[1,i.shape[0],i.shape[1],i.shape[2]])),PI(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),PI(4===o.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`));const c={dy:l,input:o},f={filterSize:n,strides:r,pad:a},d=QT.runKernel(PS,c,f);return u?vj(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),_P={kernelName:zS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:a,strides:i,pad:s}=n;return{x:()=>OP(e,r,a,i,s)}}},$P={kernelName:WS,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,a]=t,{transposeA:i,transposeB:s}=n;return i||s?!i&&s?{a:()=>Cj(e,a,!1,!1),b:()=>Cj(e,r,!0,!1)}:i&&!s?{a:()=>Cj(a,e,!1,!0),b:()=>Cj(r,e,!1,!1)}:{a:()=>Cj(a,e,!0,!0),b:()=>Cj(e,r,!0,!0)}:{a:()=>Cj(e,a,!1,!0),b:()=>Cj(r,e,!0,!1)}}},FP={kernelName:VS,gradFunc:(e,t,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>M_(e,r,a)}}},zP={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,a=r.inputShape,i=r.shape,s=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])s[l]=1;else if(1!==a[l])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<s.length;l++)s[l]>1&&o.push(l);return{x:()=>CO(e,o,!0)}}},PP={kernelName:QS,gradFunc:e=>({x:()=>e.clone()})},BP={kernelName:JS,gradFunc:e=>({x:()=>DD(e)})},UP={kernelName:ZS,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>sO(KO(OO(r,a),UO(r,i)),e,DD(e))}}},WP={kernelName:KS,inputsToSave:["x"],gradFunc:xP.gradFunc},VP={kernelName:XS,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:a}=n,i=ZI(a,t[0].shape)[0],s=r.map((e=>e[i]));return g$(e,s,i).map((e=>()=>e))}},GP={kernelName:eM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{dilations:i,strides:s,pad:o,dataFormat:l}=n;return PI(pj(i),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`)),{x:()=>Gj(r.shape,e,a,s,o,l),filter:()=>K$(r,e,a.shape,s,o,l)}}},HP={kernelName:nM,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,{strides:i,pad:s,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>Wj(e,a,i,s,o,1,l),filter:()=>K$(e,r,a.shape,i,s,o,l)}}};const YP=sA({conv3DBackpropFilter_:function(e,t,n,r,a){let i=e;4===e.rank&&(i=vj(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let s=t;4===s.rank&&(s=vj(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),PI(5===i.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`)),PI(5===s.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`)),PI(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),PI(i.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`)),PI(s.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${n[4]}).`));const o={x:i,dy:s},l={strides:r,pad:a,filterShape:n};return QT.runKernel(aM,o,l)}}),QP={kernelName:rM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i}=n;PI(pj(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[s,o]=t;return{x:()=>Qj(s.shape,e,o,a,i),filter:()=>YP(s,e,o.shape,a,i)}}},JP={kernelName:sM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(YO(s$(CD(n,"float32"))),e)}}},ZP={kernelName:oM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(o$(CD(n,"float32")),e)}}},qP={kernelName:uM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a,exclusive:i,reverse:s}=n;return{x:()=>{const t=bO([a],r.rank);let n=Xj(e,a,i,!s);return null!=t&&(n=W$(n,t)),n}}}},KP={kernelName:hM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:a,pad:i,dimRoundingMode:s}=n,o=null==r?[1,1]:r;PI(pj(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,u]=t;return PI(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),PI(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),PI(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),PI(mj(a,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`)),bj("depthwiseConv2d",i,s),{x:()=>iF(l.shape,e,u,a,i,o,s),filter:()=>aF(l,e,u.shape,a,i,o,s)}}},XP={kernelName:yM,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,a]=t,i={x:r,filter:a,dy:e},s={x:r,filter:a,dy:e};return{x:()=>QT.runKernel(bM,i,n),filter:()=>QT.runKernel(vM,s,n)}}},eB={kernelName:CM,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>QT.runKernel(NM,r)}}},tB={kernelName:IM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=LD(MO(YO(AD(n))),2/Math.sqrt(Math.PI));return{x:()=>LD(e,r)}}},nB={kernelName:MM,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,n)}}},rB={kernelName:EM,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>vj(e,n.shape)}}},aB={kernelName:LM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,MO(n))}}},iB={kernelName:RM,gradFunc:e=>({x:()=>DD(e)})},sB={kernelName:jM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{const t=ED(e,CD(r,"float32")),i=JD(n.shape,a);return i.length>0?vj(CO(t,i),n.shape):t},b:()=>{let t=LD(e,CD(n,"float32"));const i=JD(r.shape,a);i.length>0&&(t=vj(CO(t,i),r.shape));const s=AD(r);return YO(ED(t,CD(s,"float32")))}}}},oB={kernelName:OM,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[a,i,s,o]=t,l=null==o?jD(1):o,u=JD(i.shape,a.shape),c=[];if(1===i.rank){for(let e=0;e<a.shape.length-1;++e)c.push(a.shape[e]);c.push(1)}const f=GD(a,i),d=LD(e,l),h=t$(SD(s,jD(r))),p=LD(LD(LD(h,h),h),jD(-.5));return{x:()=>1===i.rank?vj(LD(LD(e,TO(vj(h,[1,1,1,i.shape[0]]),c)),l),a.shape):vj(LD(LD(e,h),l),a.shape),mean:()=>{let e=LD(LD(h,jD(-1)),d);return 1===i.rank&&(e=CO(e,u)),vj(e,i.shape)},variance:()=>{let e=LD(LD(p,f),d);return 1===i.rank&&(e=CO(e,u)),vj(e,i.shape)},scale:()=>{const t=LD(f,h);let n=LD(e,t);return 1===i.rank&&(n=CO(n,u)),vj(n,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=CO(t,u)),vj(t,i.shape)}}}},lB={kernelName:_M,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,a]=t,{axis:i,batchDims:s}=n,o=ZI(i,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,a=t.size,s=r.slice(0,o),l=s.length,u=r.slice(i,r.length).slice(1),c=u.length,f=uB(0,l),d=uB(l+1,l+1+c),h=cB([s,[a],u]),p=vj(n,h),m=vj(t,[a]),g=cB([[l],f,d]),y=W$(p,g);let b=_$(y,m,e.shape[o]);const v=vO(g);return b=W$(b,v),b};if(1===s){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=w$(n.map(((t,n)=>l(t,a.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>a}}return{x:l(r,a,e),indices:()=>a}}};function uB(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function cB(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const fB={kernelName:zM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>DD(n),b:()=>DD(r)}}},dB={kernelName:PM,gradFunc:e=>({x:()=>CD(e,"float32")})},hB={kernelName:WM,gradFunc:e=>({x:()=>DD(e)})},pB={kernelName:VM,gradFunc:e=>({x:()=>DD(e)})},mB={kernelName:GM,gradFunc:e=>({x:()=>DD(e)})},gB={kernelName:HM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:a}=n,i=jO(r,0);return{x:()=>sO(i,e,LD(e,a))}}},yB={kernelName:qM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,SD(n,1))}}},bB={kernelName:ZM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,CD(n,"float32"))}}},vB={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;return{logits:()=>{const t=MO(r);return GD(e,LD(CO(e,a,!0),t))}}}};const wB=sA({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return QT.runKernel(nE,r,a)}}),xB={kernelName:tE,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{depthRadius:i,bias:s,alpha:o,beta:l}=n;return{x:()=>wB(r,a,e,i,s,o,l)}}};function kB(e,t,n,r){return t.rank<n.rank&&(t=vj(t,gO(t.shape,r))),e.rank<n.rank&&(e=vj(e,gO(e.shape,r))),{x:()=>LD(e,CD(iO(n,t),e.dtype))}}const CB={kernelName:rE,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:a}=r,i=t[0],s=kB(e,t[1],i,ZI(a,i.shape));return{x:()=>s.x()}}},NB={kernelName:aE,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>LD(e,CD(OO(n,r),"float32")),b:()=>LD(e,CD(BO(n,r),"float32"))}}};const IB=sA({maxPool3dGrad_:function(e,t,n,r,a,i,s){const o=rA(e,"dy","maxPool3dGrad"),l=rA(t,"input","maxPool3dGrad"),u=rA(n,"output","maxPool3dGrad");let c=o,f=l,d=u,h=!1;4===l.rank&&(h=!0,c=vj(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),f=vj(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=vj(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),PI(5===c.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),PI(5===f.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`)),PI(5===d.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`)),bj("maxPool3dGrad",i,s);const p={dy:c,input:f,output:d},m={filterSize:r,strides:a,pad:i,dimRoundingMode:s},g=QT.runKernel(lE,p,m);return h?vj(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),SB={kernelName:oE,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=n;return{x:()=>IB(e,r,a,i,s,o,l)}}};const MB=sA({maxPoolGrad_:function(e,t,n,r,a,i,s){const o=rA(e,"dy","maxPoolGrad"),l=rA(t,"input","maxPoolGrad"),u=rA(n,"output","maxPoolGrad");PI(l.rank===o.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`)),PI(4===o.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`)),PI(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),bj("maxPoolGrad",i,s);const c={dy:o,input:l,output:u},f={filterSize:r,strides:a,pad:i,dimRoundingMode:s};return QT.runKernel(sE,c,f)}}),EB={kernelName:iE,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,a]=t,{filterSize:i,strides:s,pad:o}=n;return{x:()=>MB(e,r,a,i,s,o)}}},LB={kernelName:cE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n,i=ZI(a,r.shape),s=WI(mO(r.shape,i)[1]);return{x:()=>{const t=r.shape.slice();i.forEach((e=>{t[e]=1}));const n=vj(e,t);return ED(LD(n,c_(r.shape,"float32")),s)}}}},TB={kernelName:fE,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:a}=r,[i,s]=t,o=kB(e,s,i,ZI(a,i.shape));return{x:()=>o.x()}}},AB={kernelName:dE,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>LD(e,CD(UO(n,r),"float32")),b:()=>LD(e,CD(jO(n,r),"float32"))}}},DB={kernelName:hE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map((e=>e[0]));return{x:()=>Ij(e,i,r.shape)}}},RB={kernelName:pE,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{const t=JD(n.shape,a);return t.length>0?vj(CO(e,t),n.shape):e},b:()=>{const t=LD(e,YO(DO(ED(n,r)))),i=JD(r.shape,a);return i.length>0?vj(CO(t,i),r.shape):t}}}},jB={kernelName:gE,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{const t=LD(e,CD(r,"float32")),i=JD(n.shape,a);return i.length>0?vj(CO(t,i),n.shape):t},b:()=>{const t=LD(e,CD(n,"float32")),i=JD(r.shape,a);return i.length>0?vj(CO(t,i),r.shape):t}}}},OB={kernelName:NE,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return $$(e,r).map((e=>()=>e))}},_B={kernelName:IE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:a}=n,i=a.map((e=>e[0]));return{x:()=>Ij(e,i,r.shape)}}},$B={kernelName:SE,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,a]=t,i=n,s=r,o=ZD(i.shape,s.shape);return{a:()=>{const t=CD(s,"float32");let n=LD(e,LD(t,VD(i,GD(t,jD(1)))));const r=JD(i.shape,o);return r.length>0&&(n=CO(n,r)),vj(n,i.shape)},b:()=>{const t=jO(i,0),n=sO(t,GO(i),DD(i));let r=LD(e,LD(a,n));const l=JD(s.shape,o);return l.length>0&&(r=CO(r,l)),vj(r,s.shape)}}}},FB={kernelName:ME,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,a=jO(n,0);return{x:()=>sO(a,e,LD(e,r)),alpha:()=>{let t=sO(a,DD(e),LD(e,n));const i=JD(r.shape,e.shape);return i.length>0&&(t=CO(t,i)),vj(t,r.shape)}}}};function zB(e,t,n){const r=e.shape.length,a=r-n.length,i=bO(n,r);let s=e;null!=i&&(s=W$(e,i));const o=s.shape.slice(),l=o.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);o.push(l);let u=function(e,t,n){const r=e.shape.slice();r[n]=1;const a=vj(t,r),i=Kj(e,n,!0,!1),s=Kj(e,n,!0,!0),o=LD(i,s);return LD(a,o)}(s.reshape(o),t,a);if(u=u.reshape(s.shape),null!=i){const e=vO(i);u=W$(u,e)}return u}const PB={kernelName:EE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:a}=n;let i=[];return i=void 0===a||null===a?r.shape.map(((e,t)=>t)):"number"===typeof a?[a]:a,{x:()=>zB(r,e,i)}}},BB={kernelName:xM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{const t=ED(e,CD(r,"float32")),i=JD(n.shape,a);return i.length>0?vj(CO(t,i),n.shape):t},b:()=>{let t=LD(e,CD(n,"float32"));const i=JD(r.shape,a);i.length>0&&(t=vj(CO(t,i),r.shape));const s=AD(r);return YO(ED(t,CD(s,"float32")))}}}},UB={kernelName:jE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,YO(AD(n)))}}},WB={kernelName:BE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=LD(UO(n,6),x$(n));return{x:()=>LD(e,CD(r,"float32"))}}},VB={kernelName:OE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,CD(x$(n),"float32"))}}},GB={kernelName:_E,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>vj(e,n.shape)}}},HB={kernelName:VE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>YO(ED(e,LD(VD(n,1.5),2)))}}},YB={kernelName:JE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=jO(n,jD(0)),r=jD(Az),a=jD(Dz),i=LD(e,a),s=LD(LD(e,r),MO(CD(n,"float32")));return sO(t,i,s)}}}},QB={kernelName:eL,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,LD(n,GD(jD(1),n)))}}},JB={kernelName:qE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(Zj(CD(n,"float32")),e)}}},ZB={kernelName:KE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(qj(CD(n,"float32")),e)}}},qB={kernelName:ZE,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:a,size:i}=n,s=r.shape,[o,l]=WR(r,a,i),u=[];for(let c=0;c<e.rank;c++)u.push([o[c],s[c]-o[c]-l[c]]);return{x:()=>k_(e,u)}}},KB={kernelName:sL,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:a}=n,i=LD(e,r);return{logits:()=>GD(i,LD(CO(i,[a],true),r))}}},XB={kernelName:tL,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,Nj(n))}}},eU={kernelName:aL,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>Ej(e,r,a)}}},tU={kernelName:iL,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>kj(e,r)}}},nU={kernelName:nL,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,LD(TD(CD(n,"float32")),2))}}},rU={kernelName:hL,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(e,LD(CD(n,"float32"),2))}}},aU={kernelName:dL,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=jD(2);return{a:()=>LD(e,LD(a,GD(n,r))),b:()=>LD(e,LD(a,GD(r,n)))}}},iU={kernelName:vL,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,a=ZD(n.shape,r.shape);return{a:()=>{let t=e;const r=JD(n.shape,a);return r.length>0&&(t=CO(t,r)),vj(t,n.shape)},b:()=>{let t=e;const n=JD(r.shape,a);return n.length>0&&(t=CO(t,n)),vj(YO(t),r.shape)}}}},sU={kernelName:rL,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,a=r.shape.slice(),{axis:i}=n;ZI(i,r.shape).forEach((e=>{a[e]=1}));const s=vj(e,a),o=LD(s,c_(r.shape,"float32"));return{x:()=>o}}},oU={kernelName:wL,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ED(e,AD(Zj(n)))}}},lU={kernelName:xL,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>LD(GD(jD(1),AD(n)),e)}}},uU={kernelName:kL,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:a}=n;return{x:()=>{let t=DD(r);if(1===r.rank)for(let n=0;n<a[0];++n)t=SD(t,Ij(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)t=SD(t,Ij(e,[n*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)for(let s=0;s<a[2];++s)t=SD(t,Ij(e,[n*r.shape[0],i*r.shape[1],s*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<a[0];++n)for(let i=0;i<a[1];++i)for(let s=0;s<a[2];++s)for(let o=0;o<a[3];++o)t=SD(t,Ij(e,[n*r.shape[0],i*r.shape[1],s*r.shape[2],o*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},cU={kernelName:EL,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=qD(t,DD(t)),r=RO(e,n);let a=OO(t,jD(0,"int32"));const i=r.rank-a.rank;for(let o=0;o<i;++o)a=EO(a,o+1);a=KO(a,c_(r.shape,"bool"));const s=DD(r);return sO(a,r,s)}(e,n)}}};const fU=[xP,kP,CP,NP,IP,SP,MP,EP,LP,TP,AP,DP,jP,_P,$P,FP,zP,PP,BP,UP,WP,VP,HP,GP,QP,JP,ZP,qP,KP,XP,BB,eB,tB,nB,rB,aB,sB,iB,oB,lB,fB,dB,hB,pB,mB,gB,yB,bB,vB,xB,CB,CB,NB,SB,EB,LB,TB,AB,DB,RB,jB,{kernelName:yE,gradFunc:e=>({x:()=>YO(e)})},{kernelName:CE,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>u_(n.shape,"float32")}}},{kernelName:kE,gradFunc:e=>({x:()=>DD(e)})},OB,_B,_B,$B,FB,PB,UB,WB,VB,GB,{kernelName:zE,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>QT.runKernel(PE,a,n)}}},{kernelName:$E,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,a={dy:e,images:r};return{images:()=>QT.runKernel(FE,a,n)}}},{kernelName:UE,gradFunc:(e,t,n)=>{const{dims:r}=n,a=ZI(r,e.shape);return{x:()=>J_(e,a)}}},{kernelName:WE,gradFunc:e=>({x:()=>DD(e)})},HB,{kernelName:QE,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>CD(DD(n),"float32"),t:()=>LD(e,CD(n,e.dtype)),e:()=>LD(e,CD(XO(n),e.dtype))}}},YB,QB,{kernelName:XE,gradFunc:e=>({x:()=>DD(e)})},JB,ZB,qB,KB,XB,eU,eU,tU,tU,nU,aU,rU,{kernelName:TL,gradFunc:e=>({x:()=>DD(e)})},iU,sU,oU,lU,uU,{kernelName:IL,gradFunc:(e,t,n)=>{const r=n,{perm:a}=r,i=vO(a);return{x:()=>W$(e,i)}}},{kernelName:ML,gradFunc:(e,t,n)=>{const r=n,{axis:a}=r;return{value:()=>w$(e,a)}}},cU,{kernelName:LL,gradFunc:e=>({x:()=>DD(e)})}];for(const n of fU)VL(n);ET().prototype.abs=function(){return this.throwIfDisposed(),YD(this)},ET().prototype.acos=function(){return this.throwIfDisposed(),HR(this)},ET().prototype.acosh=function(){return this.throwIfDisposed(),YR(this)},ET().prototype.add=function(e){return this.throwIfDisposed(),SD(this,e)},ET().prototype.all=function(e,t){return this.throwIfDisposed(),JR(this,e,t)},ET().prototype.any=function(e,t){return this.throwIfDisposed(),ZR(this,e,t)},ET().prototype.argMax=function(e){return this.throwIfDisposed(),qR(this,e)},ET().prototype.argMin=function(e){return this.throwIfDisposed(),KR(this,e)},ET().prototype.asScalar=function(){return this.throwIfDisposed(),PI(1===this.size,(()=>"The array must have only 1 element.")),vj(this,[])},ET().prototype.asType=function(e){return this.throwIfDisposed(),CD(this,e)},ET().prototype.as1D=function(){return this.throwIfDisposed(),vj(this,[this.size])},ET().prototype.as2D=function(e,t){return this.throwIfDisposed(),vj(this,[e,t])},ET().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),vj(this,[e,t,n])},ET().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),vj(this,[e,t,n,r])},ET().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),vj(this,[e,t,n,r,a])},ET().prototype.asin=function(){return this.throwIfDisposed(),XR(this)},ET().prototype.asinh=function(){return this.throwIfDisposed(),ej(this)},ET().prototype.atan=function(){return this.throwIfDisposed(),tj(this)},ET().prototype.atan2=function(e){return this.throwIfDisposed(),nj(this,e)},ET().prototype.atanh=function(){return this.throwIfDisposed(),rj(this)},ET().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),wj(this,e,t,n,r)},ET().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Ej(this,e,t)},ET().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),Lj(this,e,t,n,r,a)},ET().prototype.broadcastTo=function(e){return this.throwIfDisposed(),_j(this,e)},ET().prototype.cast=function(e){return this.throwIfDisposed(),CD(this,e)},ET().prototype.ceil=function(){return this.throwIfDisposed(),$j(this)},ET().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Fj(this,e,t)},ET().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof MT&&(e=[e]),kj([this,...e],t)},ET().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Vj(this,e,t,n,r,a,i)},ET().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),Hj(this,e,t,n,r,a)},ET().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),Wj(this,e,t,n,r,a,i)},ET().prototype.cos=function(){return this.throwIfDisposed(),Zj(this)},ET().prototype.cosh=function(){return this.throwIfDisposed(),qj(this)},ET().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),Kj(this,e,t,n)},ET().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Xj(this,e,t,n)},ET().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),tO(this,e,t)},ET().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),nO(this,e,t,n,r,a,i)},ET().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),aO(this,e,t,n,r,a)},ET().prototype.divNoNan=function(e){return this.throwIfDisposed(),oO(this,e)},ET().prototype.div=function(e){return this.throwIfDisposed(),ED(this,e)},ET().prototype.dot=function(e){return this.throwIfDisposed(),lO(this,e)},ET().prototype.elu=function(){return this.throwIfDisposed(),cO(this)},ET().prototype.equal=function(e){return this.throwIfDisposed(),iO(this,e)},ET().prototype.erf=function(){return this.throwIfDisposed(),dO(this)},ET().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),SO(this,e,t)},ET().prototype.exp=function(){return this.throwIfDisposed(),MO(this)},ET().prototype.expandDims=function(e){return this.throwIfDisposed(),EO(this,e)},ET().prototype.expm1=function(){return this.throwIfDisposed(),LO(this)},ET().prototype.fft=function(){return this.throwIfDisposed(),h$(this)},ET().prototype.flatten=function(){return this.throwIfDisposed(),vj(this,[this.size])},ET().prototype.floor=function(){return this.throwIfDisposed(),DO(this)},ET().prototype.floorDiv=function(e){return this.throwIfDisposed(),MD(this,e)},ET().prototype.gather=function(e,t,n){return this.throwIfDisposed(),RO(this,e,t,n)},ET().prototype.greaterEqual=function(e){return this.throwIfDisposed(),OO(this,e)},ET().prototype.greater=function(e){return this.throwIfDisposed(),jO(this,e)},ET().prototype.ifft=function(){return this.throwIfDisposed(),p$(this)},ET().prototype.irfft=function(){return this.throwIfDisposed(),m$(this)},ET().prototype.isFinite=function(){return this.throwIfDisposed(),$O(this)},ET().prototype.isInf=function(){return this.throwIfDisposed(),FO(this)},ET().prototype.isNaN=function(){return this.throwIfDisposed(),zO(this)},ET().prototype.leakyRelu=function(e){return this.throwIfDisposed(),PO(this,e)},ET().prototype.lessEqual=function(e){return this.throwIfDisposed(),UO(this,e)},ET().prototype.less=function(e){return this.throwIfDisposed(),BO(this,e)},ET().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),VO(this,e,t,n,r)},ET().prototype.logSigmoid=function(){return this.throwIfDisposed(),JO(this)},ET().prototype.logSoftmax=function(e){return this.throwIfDisposed(),ZO(this,e)},ET().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),qO(this,e,t)},ET().prototype.log=function(){return this.throwIfDisposed(),GO(this)},ET().prototype.log1p=function(){return this.throwIfDisposed(),HO(this)},ET().prototype.logicalAnd=function(e){return this.throwIfDisposed(),KO(this,e)},ET().prototype.logicalNot=function(){return this.throwIfDisposed(),XO(this)},ET().prototype.logicalOr=function(e){return this.throwIfDisposed(),e_(this,e)},ET().prototype.logicalXor=function(e){return this.throwIfDisposed(),t_(this,e)},ET().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Cj(this,e,t,n)},ET().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),i_(this,e,t,n,r)},ET().prototype.max=function(e,t){return this.throwIfDisposed(),xO(this,e,t)},ET().prototype.maximum=function(e){return this.throwIfDisposed(),qD(this,e)},ET().prototype.mean=function(e,t){return this.throwIfDisposed(),l_(this,e,t)},ET().prototype.min=function(e,t){return this.throwIfDisposed(),kO(this,e,t)},ET().prototype.minimum=function(e){return this.throwIfDisposed(),d_(this,e)},ET().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),h_(this,e,t)},ET().prototype.mod=function(e){return this.throwIfDisposed(),p_(this,e)},ET().prototype.mul=function(e){return this.throwIfDisposed(),LD(this,e)},ET().prototype.neg=function(){return this.throwIfDisposed(),YO(this)},ET().prototype.norm=function(e,t,n){return this.throwIfDisposed(),IO(this,e,t,n)},ET().prototype.notEqual=function(e){return this.throwIfDisposed(),b_(this,e)},ET().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),v_(this,e,t,n)},ET().prototype.onesLike=function(){return this.throwIfDisposed(),w_(this)},ET().prototype.pad=function(e,t){return this.throwIfDisposed(),k_(this,e,t)},ET().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),E_(this,e,t,n,r,a,i)},ET().prototype.pow=function(e){return this.throwIfDisposed(),VD(this,e)},ET().prototype.prelu=function(e){return this.throwIfDisposed(),L_(this,e)},ET().prototype.prod=function(e,t){return this.throwIfDisposed(),T_(this,e,t)},ET().prototype.reciprocal=function(){return this.throwIfDisposed(),H_(this)},ET().prototype.relu=function(){return this.throwIfDisposed(),Y_(this)},ET().prototype.relu6=function(){return this.throwIfDisposed(),Q_(this)},ET().prototype.reshapeAs=function(e){return this.throwIfDisposed(),vj(this,e.shape)},ET().prototype.reshape=function(e){return this.throwIfDisposed(),vj(this,e)},ET().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),RF(this,e,t,n)},ET().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),jF(this,e,t,n)},ET().prototype.reverse=function(e){return this.throwIfDisposed(),J_(this,e)},ET().prototype.rfft=function(){return this.throwIfDisposed(),y$(this)},ET().prototype.round=function(){return this.throwIfDisposed(),e$(this)},ET().prototype.rsqrt=function(){return this.throwIfDisposed(),t$(this)},ET().prototype.selu=function(){return this.throwIfDisposed(),n$(this)},ET().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),r$(this,e,t,n,r,a,i)},ET().prototype.sigmoid=function(){return this.throwIfDisposed(),Nj(this)},ET().prototype.sign=function(){return this.throwIfDisposed(),i$(this)},ET().prototype.sin=function(){return this.throwIfDisposed(),s$(this)},ET().prototype.sinh=function(){return this.throwIfDisposed(),o$(this)},ET().prototype.slice=function(e,t){return this.throwIfDisposed(),Ij(this,e,t)},ET().prototype.softmax=function(e){return this.throwIfDisposed(),d$(this,e)},ET().prototype.softplus=function(){return this.throwIfDisposed(),QO(this)},ET().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),M_(this,e,t)},ET().prototype.split=function(e,t){return this.throwIfDisposed(),g$(this,e,t)},ET().prototype.sqrt=function(){return this.throwIfDisposed(),TD(this)},ET().prototype.square=function(){return this.throwIfDisposed(),AD(this)},ET().prototype.squaredDifference=function(e){return this.throwIfDisposed(),b$(this,e)},ET().prototype.squeeze=function(e){return this.throwIfDisposed(),v$(this,e)},ET().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof MT?[this,e]:[this,...e];return w$(n,t)},ET().prototype.step=function(e){return this.throwIfDisposed(),x$(this,e)},ET().prototype.stridedSlice=function(e,t,n,r,a,i,s,o){return this.throwIfDisposed(),k$(this,e,t,n,r,a,i,s,o)},ET().prototype.sub=function(e){return this.throwIfDisposed(),GD(this,e)},ET().prototype.sum=function(e,t){return this.throwIfDisposed(),CO(this,e,t)},ET().prototype.tan=function(){return this.throwIfDisposed(),C$(this)},ET().prototype.tanh=function(){return this.throwIfDisposed(),Sj(this)},ET().prototype.tile=function(e){return this.throwIfDisposed(),TO(this,e)},ET().prototype.toBool=function(){return this.throwIfDisposed(),CD(this,"bool")},ET().prototype.toFloat=function(){return this.throwIfDisposed(),CD(this,"float32")},ET().prototype.toInt=function(){return this.throwIfDisposed(),CD(this,"int32")},ET().prototype.topk=function(e,t){return this.throwIfDisposed(),R$(this,e,t)},ET().prototype.transpose=function(e){return this.throwIfDisposed(),W$(this,e)},ET().prototype.unique=function(e){return this.throwIfDisposed(),O$(this,e)},ET().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),_$(this,e,t)},ET().prototype.unstack=function(e){return this.throwIfDisposed(),$$(this,e)},ET().prototype.where=function(e,t){return this.throwIfDisposed(),sO(e,this,t)},ET().prototype.zerosLike=function(){return this.throwIfDisposed(),DD(this)};class dU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,dU.prototype)}}class hU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,hU.prototype)}}class pU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,pU.prototype)}}class mU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,mU.prototype)}}class gU extends Error{constructor(e){super(e),Object.setPrototypeOf(this,gU.prototype)}}Error;class yU{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function bU(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function vU(e,t){if(!e)throw new gU(t)}function wU(e,t){let n=0;for(const r of e)r===t&&n++;return n}function xU(e){return 1===e.length?e[0]:e}function kU(e){return Array.isArray(e)?e:[e]}function CU(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function NU(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let IU={};function SU(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function MU(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>MU(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?MU(t):e[n]=t.value)}}}function EU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const a=e;let i;if(a in n)i=n[a];else if(a in IU)i=IU[a];else if(i=t[a],null==i)throw new pU(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}{const i=e;if(null==i.className||null==i.config)throw new pU(`${r}: Improper config format: ${JSON.stringify(i)}.\n'className' and 'config' must set.`);const s=i.className;let o,l;if(s in n?[o,l]=n[s]:s in IU?[o,l]=IU.className:s in t&&([o,l]=t[s]),null==o)throw new pU(`Unknown ${r}: ${s}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const n of Object.keys(IU))e[n]=IU[n];for(const a of Object.keys(n))e[a]=n[a];i.config.customObjects=e;const t=Object.assign({},IU);for(const a of Object.keys(n))IU[a]=n[a];MU(i.config);const r=l(o,i.config,n,a);return IU=Object.assign({},t),r}{const e=Object.assign({},IU);for(const r of Object.keys(n))IU[r]=n[r];const t=new o(i.config);return IU=Object.assign({},e),t}}}function LU(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function TU(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function AU(e){if(null==e)throw new pU(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function DU(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new pU(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function RU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return vU(n>=0),vU(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function jU(e,t){Array.isArray(e)?(PI(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>jU(e,`element ${n+1} of ${t}`)))):PI(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${OU(e)}.`))}function OU(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>OU(e))).join(",")+"]":"string"===typeof e?`"${e}"`:`${e}`}function _U(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let $U=0;function FU(){return $U++}const zU={};function PU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in zU||(zU[e]=0),zU[e]+=1,e+zU[e].toString()}const BU=["channelsFirst","channelsLast"],UU=["nearest","bilinear"],WU=["valid","same","causal"],VU=["max","avg"],GU=["sum","mul","concat","ave"],HU=new Map;function YU(e){DU(BU,"DataFormat",e)}function QU(e){DU(WU,"PaddingMode",e)}function JU(e){DU(VU,"PoolMode",e)}const ZU=[];function qU(e,t){ZU.push(e);try{const e=t();return ZU.pop(),e}catch(Lae){throw ZU.pop(),Lae}}function KU(e){if(!tW(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===ZU.length?"":ZU.join("/")+"/")+e}function XU(e){if(!tW(e))throw new Error("Not a valid tensor name: '"+e+"'");HU.has(e)||HU.set(e,0);const t=HU.get(e);if(HU.set(e,HU.get(e)+1),t>0){const n=`${e}_${t}`;return HU.set(n,1),n}return e}const eW=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function tW(e){return!!e.match(eW)}function nW(e){return e===parseInt(e.toString(),10)}function rW(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let a=t;a<n;++a)r*=e[a];return r}function aW(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function iW(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function sW(e,t){if(t<e)throw new pU(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let oW;function lW(){return null==oW&&(oW=vA().epsilon()),oW}function uW(e,t){return CD(e,t)}function cW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),vj(e,n)}function fW(e,t,n){return pA((()=>{switch(e.rank){case 1:return l$(e,t,n);case 2:return u$(e,[t,0],[n,e.shape[1]]);case 3:return c$(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return f$(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Ij(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Ij(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new pU(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function dW(e,t,n){return pA((()=>{switch(e.rank){case 1:return l$(e,t,n);case 2:return u$(e,[0,t],[e.shape[0],n]);case 3:return c$(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return f$(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new pU(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function hW(e,t,n,r){return pA((()=>{switch(e.rank){case 1:return l$(e,t,n);case 2:switch(r){case 1:return fW(e,t,n);case 2:return dW(e,t,n);default:throw new pU(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return fW(e,t,n);case 2:return c$(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return dW(e,t,n);default:throw new pU(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return fW(e,t,n);case 2:return f$(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return f$(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return dW(e,t,n);default:throw new pU(`The axis is not within the rank of the tensor ${r}`)}default:throw new pU(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function pW(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),kj(e,n)}function mW(e,t){switch(e.rank){case 1:return zj([e,t]);case 2:return Pj([e,t],0);case 3:return Bj([e,t],0);case 4:return Uj([e,t],0);default:throw new pU(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function gW(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new pU(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return TO(e,t)}function yW(e){return P_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function bW(e,t,n,r){if(e.rank<2||t.rank<2)throw new mU(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new mU(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return oF({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?xW(e.rank,r,"channelsLast"):null,activation:n})}{const a=e.shape.slice(),i=a.pop();e=vj(e,[-1,i]);const s=t.shape.slice(),o=s.pop(),l=s.pop(),u=[...s,o],c=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=vj(W$(t,c),[l,-1]);const f=[...a,...u];return vj(oF({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?xW(e.rank,r,"channelsLast"):null,activation:n}),f)}}function vW(e,t,n){return pA((()=>(t=Array.isArray(t)?N$(t,"int32"):CD(t,"int32"),RO(e,t,n))))}function wW(e){return LD(e,e)}function xW(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new pU(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?vj(t,[1,r[0],1,1,1]):vj(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?vj(t,[1,1,1,1,r[0]]):vj(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?vj(t,[1,r[0],1,1]):vj(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?vj(t,[1,1,1,r[0]]):vj(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?vj(t,[1,r[0],1]):vj(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?vj(t,[1,1,r[0]]):vj(t,[1].concat(r))}else if(e<3)return t;throw new pU(`Unsupported input rank by biasAdd: ${t.rank}`)}function kW(e,t,n){return pA((()=>(null==n&&(n="channelsLast"),YU(n),SD(e,xW(e.rank,t,n)))))}function CW(e,t,n,r){return pA((()=>Q$(e,t,n,r)))}function NW(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const IW=["fanIn","fanOut","fanAvg"],SW=["normal","uniform","truncatedNormal"];class MW extends $D{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class EW extends MW{apply(e,t){return u_(e,t)}}EW.className="Zeros",zD(EW);class LW extends MW{apply(e,t){return c_(e,t)}}LW.className="Ones",zD(LW);class TW extends MW{constructor(e){if(super(),"object"!==typeof e)throw new pU(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new pU(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return pA((()=>LD(jD(this.value),c_(e,t))))}getConfig(){return{value:this.value}}}TW.className="Constant",zD(TW);class AW extends MW{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return U_(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}AW.className="RandomUniform",zD(AW);class DW extends MW{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new mU(`randomNormal does not support dType ${t}.`);return yW(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}DW.className="RandomNormal",zD(DW);class RW extends MW{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new mU(`truncatedNormal does not support dType ${t}.`);return j$(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}RW.className="TruncatedNormal",zD(RW);class jW extends MW{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return pA((()=>{if(2!==e.length||e[0]!==e[1])throw new pU("Identity matrix initializer can only be used for 2D square matrices.");return LD(this.gain,AO(e[0]))}))}getConfig(){return{gain:this.gain}}}jW.className="Identity",zD(jW);class OW extends MW{constructor(e){if(super(),e.scale<0)throw new pU(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function(e){DU(IW,"FanMode",e)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function(e){DU(SW,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(YU(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=rW(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=rW(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=rW(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],a=n[1];let i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){const n=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new mU(`${this.getClassName()} does not support dType ${t}.`);return j$(e,0,n,t,this.seed)}{const n=Math.sqrt(3*i);return U_(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}OW.className="VarianceScaling",zD(OW);class _W extends OW{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return OW.className}}_W.className="GlorotUniform",zD(_W);class $W extends OW{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return OW.className}}$W.className="GlorotNormal",zD($W);class FW extends OW{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return OW.className}}FW.className="HeNormal",zD(FW);class zW extends OW{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return OW.className}}zW.className="HeUniform",zD(zW);class PW extends OW{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return OW.className}}PW.className="LeCunNormal",zD(PW);class BW extends OW{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return OW.className}}BW.className="LeCunUniform",zD(BW);class UW extends MW{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return pA((()=>{if(e.length<2)throw new mU("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=WI(e.slice(0,-1)),r=e[e.length-1],a=n*r;a>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${a}) elements: Slowness may result.`);const i=yW([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),s=lz.qr(i,!1);let o=s[0];const l=s[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return o=LD(o,l.sign()),n<r&&(o=o.transpose()),LD(jD(this.gain),o.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}UW.className="Orthogonal",zD(UW);const WW={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function VW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return EU(e,FD.getMap().classNameMap,t,"initializer")}function GW(e){return SU(e)}function HW(e){if("string"===typeof e){const t=e in WW?WW[e]:e;if("GlorotNormal"===t)return new $W;if("GlorotUniform"===t)return new _W;if("HeNormal"===t)return new FW;if("HeUniform"===t)return new zW;if("LeCunNormal"===t)return new PW;if("LeCunUniform"===t)return new BW;{const e={};return e.className=t,e.config={},VW(e)}}return e instanceof MW?e:VW(e)}function YW(e){return Array.isArray(e)&&Array.isArray(e[0])}function QW(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function JW(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new pU(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function ZW(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new pU(`Expected exactly 1 Shape; got ${e.length}`)}return e}function qW(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const KW="Variable";class XW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KW,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=FU(),n=null==n?KW:n,this.originalName=KU(n),this.name=XU(this.originalName),this.trainable_=r,this.constraint=a,this.val=z$(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function eV(e){return e.map((e=>e.read()))}function tV(e){e.forEach((e=>{e[0].write(e[1])}))}class nV{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class rV{constructor(e,t,n,r,a,i,s){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=a,this.outputTensorIndex=s,this.id=FU(),null!=i&&(this.originalName=KU(i),this.name=XU(this.originalName)),this.rank=t.length}}let aV=0;class iV{constructor(e,t){this.callArgs=t,this.id=aV++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let sV=0;class oV extends $D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=sV++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=CU(e)+"_"+PU(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new hU(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new pU(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return xU(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return xU(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new dU(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new dU(`Layer ${this.name} is not connected, no input to return.`);return xU(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new dU(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new dU(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return xU(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=kU(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=kU(this.inputSpec);if(t.length!==n.length)throw new pU(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let r=0;r<t.length;r++){const e=t[r],a=n[r];if(null==a)continue;const i=e.rank;if(null!=a.ndim&&i!==a.ndim)throw new pU(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${i}`);if(null!=a.maxNDim&&i>a.maxNDim)throw new pU(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${i}`);if(null!=a.minNDim&&i<a.minNDim)throw new pU(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${i}.`);if(null!=a.dtype&&e.dtype!==a.dtype)throw new pU(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${e.dtype}.`);if(a.axes){const t=e.shape;for(const e in a.axes){const n=Number(e),i=a.axes[e],s=n>=0?t[n]:t[t.length+n];if(null!=i&&-1===[i,null].indexOf(s))throw new pU(`Input ${r} is incompatible with layer ${this.name}: expected axis ${n} of input shape to have value ${i} but got shape ${t}.`)}}if(null!=a.shape)for(let t=0;t<a.shape.length;++t){const n=a.shape[t],i=e.shape[t];if(null!=n&&null!=i&&n!==i)throw new pU(`Input ${r} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${e.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=kU(e),r=function(e){let t=!0;for(const n of kU(e))if(!(n instanceof rV)){t=!1;break}return t}(e),a=function(e){let t=!0;for(const n of kU(e))if(n instanceof rV){t=!1;break}return t}(e);if(r===a)throw new pU("Arguments to apply() must be all SymbolicTensors or all Tensors");return qU(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of kU(e))t.push(n.shape);this.build(xU(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const a=kU(r),i=[];for(let e of a)-1!==n.indexOf(e)&&(e=e.clone()),i.push(e);if(r=xU(i),null!=this.activityRegularizer)throw new mU("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=kU(e);const t=[];for(const n of e)t.push(n.shape);return xU(t)}(e),r=this.computeOutputShape(n);let a;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),a=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new rV(i,n,this,kU(e),t,this.name,r))):new rV(i,r,this,kU(e),t,this.name),this.addInboundNode(e,a,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new mU("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new dU(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new dU(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new hU(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return qW(this.weights)}build(e){this.built=!0}getWeights(){return eV(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){pA((()=>{const t=this.weights;if(t.length!==e.length)throw new pU(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=eV(t);for(let a=0;a<r.length;++a){const i=r[a],s=t[a],o=e[a];if(!VI(i.shape,o.shape))throw new pU(`Layer weight shape ${i.shape} not compatible with provided weight shape ${o.shape}`);n.push([s,o])}tV(n)}))}addWeight(e,t,n,r,a,i,s,o){if(-1!==this._addedWeightNames.indexOf(e))throw new pU(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=o?o():HW("zeros"));const l=r.apply(t,n),u=new XW(l,n,e,i,s);return l.dispose(),null!=a&&this.addLoss((()=>a.apply(u.read()))),null==i&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=kU(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),a=kU(t),i=kU(r);if(a.length!==i.length)throw new Error(`${this.name} outputs ${a.length} tensors but ${a.length} masks for those tensors`);for(let s=0;s<a.length;s++)a[s].kerasMask=i[s]}addInboundNode(e,t,n,r,a,i){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const o=kU(e);t=kU(t),n=kU(n),r=kU(r),a=QW(a),i=QW(i);const l=[],u=[],c=[];for(const f of o)l.push(f.sourceLayer),u.push(f.nodeIndex),c.push(f.tensorIndex);new iV({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},s);for(let f=0;f<t.length;f++)t[f].sourceLayer=this,t[f].nodeIndex=this.inboundNodes.length-1,t[f].tensorIndex=f}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function lV(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=lV(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class uV extends oV{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:PU("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new pU("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new pU("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new pU("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new rV(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new iV({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new pU(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}uV.className="InputLayer",zD(uV);class cV{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof cV)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new pU(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return CD(t,e.dtype)}catch(Tae){throw new pU(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof rV){if(null==this.id2Value[e.id])throw new pU(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new pU(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof rV){if(null==this.id2Value[e.id])throw new pU(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new pU(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&mA(this.id2Mask)}}const fV=new yU,dV=new yU;function hV(e,t,n,r){const a=null!=n&&n.training,i=Array.isArray(e),s=i?e:[e],o=s.map((e=>e.name)),l=[],u=t.names();for(const p of o)-1!==u.indexOf(p)?l.push(t.getValue(p)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=o.join(",")+"|"+t.names().sort().join(",");let f,d=fV.get(c);if(null==d){const e=function(e,t){PI(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const a=mV(e[0],t);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const i of e){const{sorted:e,recipientMap:s}=mV(i,t);for(const t of e)a.has(t.name)||(n.push(t),a.add(t.name));for(const t in s)null==r[t]&&(r[t]=new Set),s[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:pV(r)}}(s,t);d=e.sorted,f=e.recipientCounts,fV.put(c,d),dV.put(c,f)}f={},a||Object.assign(f,dV.get(c));const h=new cV(t);for(let p=0;p<d.length;++p){if(null!=r){const e=hA().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=d[p],i=e.sourceLayer;if(i instanceof uV)continue;const s=[],u=[],c=[];let m=!1;for(const n of e.inputs){const e=h.getValue(n),r=h.getMask(n);s.push(e),u.push(r),null!=r&&(m=!0),a||(f[n.name]--,0!==f[n.name]||t.hasKey(n)||-1!==o.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||c.push(e))}m&&((n=n||{}).mask=u[0]);const g=kU(i.apply(s,n));let y=null;i.supportsMasking&&(y=i.computeMask(s,u));const b=gV(e),v=Array.isArray(b)?b:[b];for(let t=0;t<v.length;++t){h.hasKey(v[t])||h.add(v[t],g[t],Array.isArray(y)?y[0]:y);const e=o.indexOf(v[t].name);-1!==e&&(l[e]=g[t])}a||mA(c)}return h.disposeMasks(),i?l:l[0]}function pV(e){const t={};for(const n in e)t[n]=e[n].size;return t}function mV(e,t){const n=new Set,r=[],a={};for(const o of t.names())n.add(o);const i=[],s=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(n.has(e.name)){i.pop();continue}const t=s[s.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),n.add(e.name),t&&s.pop();else{s.push(i.length-1);for(const t of e.inputs)null==a[t.name]&&(a[t.name]=new Set),a[t.name].add(e.name),n.has(t.name)||i.push(t)}}return{sorted:r,recipientMap:a}}function gV(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function yV(e,t){return pA((()=>TD(CO(LD(e,e),t,!0))))}wS().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=fV&&fV.setMaxEntries(e),null!=dV&&dV.setMaxEntries(e)}));class bV extends $D{getConfig(){return{}}}class vV extends bV{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return pA((()=>{const t=yV(e,this.axis),n=Fj(t,0,this.maxValue);return LD(e,ED(n,SD(lW(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}vV.className="MaxNorm",zD(vV);class wV extends bV{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return pA((()=>ED(e,SD(lW(),yV(e,this.axis)))))}getConfig(){return{axis:this.axis}}}wV.className="UnitNorm",zD(wV);class xV extends bV{apply(e){return Y_(e)}}xV.className="NonNeg",zD(xV);class kV extends bV{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return pA((()=>{const t=yV(e,this.axis),n=SD(LD(this.rate,Fj(t,this.minValue,this.maxValue)),LD(1-this.rate,t));return LD(e,ED(n,SD(lW(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}kV.className="MinMaxNorm",zD(kV);const CV={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function NV(e){return SU(e)}function IV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return EU(e,FD.getMap().classNameMap,t,"constraint")}function SV(e){if(null==e)return null;if("string"===typeof e){return IV({className:e in CV?CV[e]:e,config:{}})}return e instanceof bV?e:IV(e)}async function MV(e){if(null==e)return;const t=[],n=[],r=[];for(const a in e){const i=e[a];if("number"!==typeof i){const e=i;t.push(e.data()),n.push(a),r.push(e)}}if(t.length>0){const a=await Promise.all(t);for(let t=0;t<a.length;++t)e[n[t]]=a[t][0];mA(r)}}function EV(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var LV;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(LV||(LV={}));class TV{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class AV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class DV extends TV{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const a=pA((()=>SD(this.totals[r],LD(e,n))));this.totals[r]=a,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:pA((()=>{const e=LD(ED(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),gA(t[n])})))}}class RV extends TV{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const a in this.history){const r=this.history[a];for(let i=0;i<r.length;++i)if("number"!==typeof r[i]){const s=r[i];e.push(s.data()),t.push(a),n.push(i)}}const r=await Promise.all(e);for(let a=0;a<r.length;++a){this.history[t[a]][n[a]].dispose(),this.history[t[a]][n[a]]=r[a][0]}}}class jV extends TV{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||pz,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");rS(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,a=null!=n?n():uT();return function(){const i=null!=n?n():uT();return i-a<t||(a=i,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await MV(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await MV(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await MV(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await MV(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await MV(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):rS(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await MV(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await MV(e),await this.trainEnd(e))}}function OV(e,t){if(null==e&&(e={}),e instanceof TV)return[e];if(Array.isArray(e)&&e[0]instanceof TV)return e;return kU(e).map((e=>new jV(e,t)))}class _V{constructor(){}static registerCallbackConstructor(e,t){PI(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),_V.checkForDuplicate(t),null==_V.constructors[e]&&(_V.constructors[e]=[]),_V.constructors[e].push(t)}static checkForDuplicate(e){for(const t in _V.constructors){_V.constructors[+t].forEach((t=>{if(t===e)throw new pU("Duplicate callback constructor.")}))}}static clear(){_V.constructors={}}static createCallbacks(e){const t=[];for(const n in _V.constructors){const r=+n;e>=r&&t.push(..._V.constructors[r])}return t.map((e=>new e))}}function $V(e,t,n,r,a,i,s,o,l){const u=new RV,c=[new DV,..._V.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const f=new AV(c);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:s,verbose:t,doValidation:o,metrics:l}),{callbackList:f,history:u}}function FV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return EU(e,FD.getMap().classNameMap,t,"layer",n)}function zV(e,t){return pA((()=>{"float32"!==e.dtype&&(e=CD(e,"float32"));const n=CO(wW(e),t,!0),r=UD(n.shape,lW()),a=TD(qD(n,r));return ED(e,a)}))}function PV(e,t){return pA((()=>l_(wW(GD(t,e)),-1)))}function BV(e,t){return pA((()=>l_(YD(GD(t,e)),-1)))}function UV(e,t){return pA((()=>{const n=GD(e,t),r=Fj(YD(e),lW(),Number.MAX_VALUE),a=YD(ED(n,r));return LD(100,l_(a,-1))}))}function WV(e,t){return pA((()=>{const n=Fj(t,lW(),Number.MAX_VALUE),r=GO(SD(1,n)),a=Fj(e,lW(),Number.MAX_VALUE),i=GO(SD(1,a));return l_(wW(GD(r,i)),-1)}))}function VV(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pA((()=>{if(n)t=d$(t);else{const e=CO(t,t.shape.length-1,!0);t=ED(t,e)}return t=Fj(t,lW(),1-lW()),YO(CO(LD(CD(e,"float32"),GO(t)),t.shape.length-1))}))}function GV(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pA((()=>{const r=CD(DO(function(e){const t=[rW(e.shape)];return vj(e,t)}(e)),"int32"),a=(t=Fj(t,lW(),1-lW())).shape;return VV(vj(v_(r,a[a.length-1]),a),t,n)}))}function HV(e,t){return pA((()=>{let n;return n=Fj(t,lW(),1-lW()),n=GO(ED(n,GD(1,n))),l_(function(e,t){if(!VI(e.shape,t.shape))throw new pU(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return pA((()=>{const n=Y_(t),r=YO(YD(t));return SD(GD(n,LD(t,e)),HO(MO(r)))}))}(e,n),-1)}))}function YV(e,t){return pA((()=>{const n=Fj(e,lW(),1),r=Fj(t,lW(),1);return CO(LD(e,GO(ED(n,r))),-1)}))}function QV(e,t){return pA((()=>{const n=zV(e,-1),r=zV(t,-1),a=LD(n,r);return YO(CO(a,-1))}))}_V.constructors={};const JV={meanSquaredError:PV,meanAbsoluteError:BV,meanAbsolutePercentageError:UV,meanSquaredLogarithmicError:WV,squaredHinge:function(e,t){return pA((()=>{const n=qD(0,GD(1,LD(e,t)));return l_(wW(n),-1)}))},hinge:function(e,t){return pA((()=>{const n=qD(0,GD(1,LD(e,t)));return l_(n,-1)}))},categoricalHinge:function(e,t){return pA((()=>{const n=CO(LD(e,t),-1),r=xO(LD(GD(1,e),t),-1);return qD(0,SD(1,GD(r,n)))}))},logcosh:function(e,t){return pA((()=>{const n=Math.log(2),r=GD(t,e),a=GD(SD(r,QO(LD(-2,r))),n);return l_(a,-1)}))},categoricalCrossentropy:VV,sparseCategoricalCrossentropy:GV,binaryCrossentropy:HV,kullbackLeiblerDivergence:YV,poisson:function(e,t){return pA((()=>{const n=GO(SD(lW(),t));return l_(GD(t,LD(e,n)),-1)}))},cosineProximity:QV};function ZV(e){if("string"===typeof e){if(e in JV)return JV[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new pU(t)}return e}function qV(e,t){return pA((()=>{const n=LD(.5,w_(t)),r=uW(jO(t,n),e.dtype);return l_(iO(e,r),-1)}))}function KV(e,t){return pA((()=>uW(iO(qR(e,-1),qR(t,-1)),"float32")))}function XV(e,t){return pA((()=>CD(CO(KO(iO(e,1),iO(t,1))),"float32")))}function eG(e,t){return HV(e,t)}function tG(e,t){return e.rank===t.rank&&(e=v$(e,[e.rank-1])),(t=qR(t,-1)).dtype!==e.dtype&&(t=CD(t,e.dtype)),CD(iO(e,t),"float32")}const nG=VV,rG=GV,aG={binaryAccuracy:qV,categoricalAccuracy:KV,precision:function(e,t){return pA((()=>{const n=XV(e,t),r=function(e,t){return pA((()=>CD(CO(KO(iO(e,0),iO(t,1))),"float32")))}(e,t),a=SD(n,r);return CD(sO(jO(a,0),ED(n,a),0),"float32")}))},categoricalCrossentropy:nG,sparseCategoricalCrossentropy:rG,mse:PV,MSE:PV,mae:BV,MAE:BV,mape:UV,MAPE:UV,cosine:QV};function iG(e){if("string"===typeof e&&e in aG)return aG[e];if("string"!==typeof e&&null!=e)return e;throw new pU(`Unknown metric ${e}`)}function sG(e){if(vU(null!==e,`Unknown LossOrMetricFn ${e}`),"string"===typeof e)return e;{let t;for(const n of Object.keys(JV))if(JV[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(aG))if(aG[n]===e){t=n;break}return void 0!==t?t:e.name}}const oG=1048576;function lG(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!uG(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>oG&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function uG(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!uG(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!uG(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function cG(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const a=function(e){let t=!0;const n=[],r=[];for(const a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(const a of n){if(a.length>1||1===a.length&&a[0].inboundLayers.length>1){t=!1;break}r.push(...a)}if(t)for(const a of e.layers){let e=!1;for(const n of a.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),i=["Layer (type)","Input Shape","Output shape","Param #"];let s;if(a?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!a){i.push("Receives inputs"),s=[];for(const t in e.nodesByDepth)s.push(...e.nodesByDepth[t])}r("_".repeat(t)),fG(i,n,r),r("=".repeat(t));const o=e.layers;for(let c=0;c<o.length;++c)a?dG(o[c],n,r):hG(o[c],n,s,r),r((c===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?qW(e.collectedTrainableWeights):qW(e.trainableWeights);return t}(e),u=qW(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function fG(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=e[a],r=r.slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function dG(e,t,n){let r,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(Tae){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(Tae){r="multiple"}fG([`${e.name} (${e.getClassName()})`,a,r,e.countParams().toString()],t,n)}function hG(e,t,n,r){let a,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(Tae){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(Tae){a="multiple"}const s=[];for(const c of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(c)))for(let e=0;e<c.inboundLayers.length;++e){const t=c.inboundLayers[e].name,n=c.nodeIndices[e],r=c.tensorIndices[e];s.push(`${t}[${n}][${r}]`)}const o=e.name,l=e.getClassName(),u=0===s.length?"":s[0];fG([`${o} (${l})`,i,a,e.countParams().toString(),u],t,r);for(let c=1;c<s.length;++c)fG(["","","","",s[c]],t,r)}function pG(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function mG(e,t){if(null===e)return null;if("string"===typeof e)return NU(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];pG(t,a,r)?n.push(r):n.push(mG(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=NU(n);t[e]=mG(r,e)}}return t}}function gG(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return CU(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];pG(t,a,r)?n.push(r):n.push(gG(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],a=CU(n);t[a]="name"!==n&&"className"!==n||"string"!==typeof r?gG(r,n):r}return t}}const yG="4.22.0";class bG extends oV{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=PU(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],TU(this.inputs).length!==this.inputs.length)throw new pU(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);TU(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;vU(0===t,"input layer has >1 nodes"),vU(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof uV))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${t.getClassName()}.`);this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},a={},i={},s=[],o=(e,t,n,r,a,l)=>{null!=r&&null!=a&&null!=l||(r=e.sourceLayer,a=e.nodeIndex,l=e.tensorIndex);const u=r.inboundNodes[a];if(-1!==n.indexOf(u))throw new hU(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(u))return;this.containerNodes.add(bG.nodeKey(r,a)),r.id in i||(i[r.id]=Object.keys(i).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let i=0;i<c;i++){const e=u.inputTensors[i],r=u.inboundLayers[i],a=u.nodeIndices[i],s=u.tensorIndices[i];o(e,t,n,r,a,s)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);s.push(u)},l=[],u=[];for(const y of this.outputs)o(y,l,u);const c=s.slice().reverse();for(const y of c){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const i=null==r[y.outboundLayer.id]?0:r[y.outboundLayer.id];e=Math.max(e,i),r[y.outboundLayer.id]=e,a[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let r=0;r<y.inboundLayers.length;r++){const a=y.inboundLayers[r],i=y.nodeIndices[r],s=a.inboundNodes[i],o=null==t[s.id]?0:t[s.id];t[s.id]=Math.max(e+1,o),n[s.id]=s}}const f={};for(const y in t){const e=t[y];e in f||(f[e]=[]),f[e].push(n[y])}const d={};for(const y in r){const e=r[y];e in d||(d[e]=[]),d[e].push(a[y])}let h=Object.keys(d).map((e=>parseInt(e,10))).sort(LU);this.layers=[];for(const y of h){const e=d[y];e.sort(((e,t)=>{const n=i[e.id],r=i[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof bG&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=d,h=Object.keys(f).map((e=>parseInt(e,10))).sort(LU);const p=this.inputs.slice(),m=[];for(const y of h)for(const e of f[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===p.indexOf(n))throw new hU(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${t.name}". The following previous layers were accessed without issue: ${m}`);for(const t of e.outputTensors)p.push(t);m.push(t.name)}}this.nodesByDepth=f;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new hU(`The name "${y}" is used ${e} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new iV({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new pU("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const a=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);a&&this.parseWeights(e);for(const s of this.layers)for(const[e,t]of s.weights.entries()){const i=a?`${t.name.split("/").slice(0,-1).join("/")+"/"}${e}`:t.originalName;if(null!=n[i])throw new pU(`Duplicate weight name: ${i}`);n[i]=t,r++}const i=[];for(const s in e){let r=s;if(null==n[s]){const e=s.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])i.push([n[r],e[s]]);else if(t)throw new pU(`Provided weight data has no target variable: ${s}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new pU(`${e.length} of ${r} weights are not set: ${e}`)}tV(i)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],a=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");a!==t&&(e[a]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${yG}`,t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=gG(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return pA((()=>{e=kU(e);const n=new cV;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return hV(this.outputs,n,t)}))}computeMask(e,t){return pA((()=>{let n;return e=kU(e),n=null==t?bU(null,e.length):kU(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=QW(e);if(t.length!==this.inputLayers.length)throw new pU(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let s=0;s<t.length;s++){const e=this.inputLayers[s],r=t[s];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(LU);if(r.length>1)for(const s of r){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let s=0;s<t.inboundLayers.length;s++){const e=t.inboundLayers[s],a=t.nodeIndices[s],i=t.tensorIndices[s],o=n[`${e.name}_${a}_${i}`];r.push(o)}const a=QW(e.computeOutputShape(xU(r))),i=e.inboundNodes.indexOf(t);for(let t=0;t<a.length;t++){n[`${e.name}_${i}_${t}`]=a[t]}}}const a=[],i=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],t=this.outputLayersNodeIndices[s],n=this.outputLayersTensorIndices[s],r=`${e.name}_${t}_${n}`;i.push(r)}for(let s=0;s<i.length;s++){const e=i[s];vU(e in n),a.push(n[e])}return xU(a)}runInternalGraph(e,t){null==t&&(t=bU(null,e.length));const n={};for(let o=0;o<this.inputs.length;++o){const r=this.inputs[o],a=e[o],i=t[o];n[r.id]=[a,i]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(LU);for(const o of r){const e=this.nodesByDepth[o];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,a=t.outputTensors,i=new Array;for(const t of r)t.id in n&&i.push(n[t.id]);if(i.length===r.length){let r,s,o,l,u={};if(null!=t.callArgs&&(u=t.callArgs),1===i.length){const[t,n]=i[0];null==u.mask&&(u.mask=n),o=kU(e.call(t,u)),l=kU(e.computeMask(t,n)),r=[t],s=[n]}else r=i.map((e=>e[0])),s=i.map((e=>e[1])),null==u.mask&&(u.mask=s),o=kU(e.call(r,u)),l=kU(e.computeMask(r,s));if(e.activityRegularizer)throw new mU("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<a.length;++e){const t=a[e],r=o[e],i=l[e];n[t.id]=[r,i]}}}}const a=[],i=[],s=[];for(const o of this.outputs){vU(o.id in n,`Could not compute output ${o.name} : ${o.id}`);const[e,t]=n[o.id];s.push(e.shape),a.push(e),i.push(t)}return[a,i,s]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof bG?1:0;for(let e=0;e<r.inboundNodes.length;e++){const a=bG.nodeKey(r,e);this.containerNodes.has(a)&&(t[a]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new pU("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new pU(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new pU(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return pA((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=bG.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const i of this.layers){const e=i.getClassName(),r=i.getConfig(),a=[];for(let n=0;n<i.inboundNodes.length;n++){const e=i.inboundNodes[n],r=bG.nodeKey(i,n);let s={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),s=e.callArgs}catch(Tae){console.warn(`Layer ${i.name} was passed non-serializable keyword arguments: ${e.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),s={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const a=e.inboundLayers[r],i=e.nodeIndices[r],o=e.tensorIndices[r];let l=t[bG.nodeKey(a,i)];null==l&&(l=0),n.push([a.name,l,o,s])}a.push(n)}}}const s={};s.name=i.name,s.className=e,s.config=r,s.inboundNodes=a,n.push(s)}e.layers=n;const r=[];for(let i=0;i<this.inputLayers.length;i++){const e=this.inputLayers[i],n=this.inputLayersNodeIndices[i],a=bG.nodeKey(e,n);if(!this.containerNodes.has(a))continue;let s=t[a];null!==s&&void 0!==s||(s=0);const o=this.inputLayersTensorIndices[i];r.push([e.name,s,o])}e.inputLayers=r;const a=[];for(let i=0;i<this.outputLayers.length;i++){const e=this.outputLayers[i],n=this.outputLayersNodeIndices[i],r=bG.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let s=t[r];null!==s&&void 0!==s||(s=0);const o=this.outputLayersTensorIndices[i];a.push([e.name,s,o])}return e.outputLayers=a,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){const n=[];let a;for(const s of t){const o=s[0],l=s[1],u=s[2];if(a=null==s[3]?{}:s[3],!(o in r))return void i(e,t);const c=r[o];if(c.inboundNodes.length<=l)return void i(e,t);const f=c.inboundNodes[l];n.push(f.outputTensors[u])}n.length>0&&e.apply(xU(n),a)}function o(e){const a=e.name,s=FV(e,null!=t.customObjects?t.customObjects:{});s.setFastWeightInitDuringBuild(n),r[a]=s;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new pU(`Corrupted configuration, expected array for nodeData: ${e}`);i(s,e)}))}const l=t.name,u=t.layers;for(const p of u)o(p);for(;!AU(a);)for(const e of u){const t=r[e.name];if(t.name in a){const e=a[t.name];delete a[t.name];for(const n of e)s(t,n)}}const c=[],f=[],d=t.inputLayers;for(const p of d){const e=p[0],t=p[1],n=p[2];vU(e in r);const a=r[e].inboundNodes[t].outputTensors;c.push(a[n])}const h=t.outputLayers;for(const p of h){const e=p[0],t=p[1],n=p[2];vU(e in r);const a=r[e].inboundNodes[t].outputTensors;f.push(a[n])}return new e({inputs:c,outputs:f,name:l})}get stateful(){if(this._stateful)throw new pU("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){pA((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function vG(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function wG(e,t){return vG(e,t,"classWeight")}async function xG(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=pA((()=>{if(1===e.shape.length)return ND(e);if(2===e.shape.length){if(e.shape[1]>1){return qR(e,1)}if(1===e.shape[1])return vj(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),r=Array.from(await t.data());mA(t);const a=[];return r.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);a.push(n[e])})),N$(a,"float32")}return null}function kG(e,t){return LD(e,t)}function CG(e,t){let n,r;const a=t;n=a.xs,r=a.ys,PI(null!=n&&null!=r,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const i=NG("input",e.inputNames,n),s=NG("output",e.outputNames,r),o=i[0].shape[0];PI(i.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),PI(s.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${s.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let l=0;l<i.length;l++)PI(i[l].shape[0]===o,(()=>`Batch size mismatch: input ${e.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));for(let l=0;l<s.length;l++)PI(s[l].shape[0]===o,(()=>`Batch size mismatch: output ${e.outputNames[l]} has ${s[l].shape[0]}; expected  ${o} based on input ${e.inputNames[0]}.`));return{xs:i,ys:s}}function NG(e,t,n){if(n instanceof MT)return[n];if(Array.isArray(n))return PI(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const r=[];for(const a of t){if(null==n[a])throw new pU(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}}async function IG(e,t,n){const r=null!=n.batchesPerEpoch;if(PI(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),PI(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),PI(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),PI(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),PI(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const a=null!=n.validationData;let i,s;if(a)if(SG(n.validationData))PI(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new mU("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);i=e.xs,s=e.ys}const o=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=a?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const c=OV(n.callbacks,n.yieldEvery),f=null==n.verbose?1:n.verbose,{callbackList:d,history:h}=$V(c,f,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,a,u);d.setModel(e),e.history=h,await d.onTrainBegin(),e.stopTraining_=!1;let p=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;p<n.epochs;){const u={};await d.onEpochBegin(p);let c=0,f=0;for(r||(m=await t.iterator());!r||c<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${c} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:a}=CG(e,t.value),i={};i.batch=f,i.size=r[0].shape[0],await d.onBatchBegin(f,i);const s=[];if(null!=n.classWeight){const t=wG(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)s.push(await xG(a[e],null,t[e]))}const u=r.concat(a).concat(s),h=o(u);mA(u);for(let e=0;e<l.length;++e){const t=l[e],n=h[e];i[t]=n,gA(n)}await d.onBatchEnd(f,i),EV(i),f++,c++}if(r?c>=n.batchesPerEpoch:t.done){if(a){let t;t=SG(n.validationData)?kU(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):kU(e.evaluate(i,s,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await d.onEpochEnd(p,u),p++,e.stopTraining_)break}return await d.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function SG(e){return"function"===typeof e.iterator}function MG(e){PI(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function EG(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>fW(e,t,n-t))):fW(e,t,n-t)}function LG(e,t){return pA((()=>null==e?null:Array.isArray(e)?e.map((e=>LG(e,t))):vW(e,"int32"===t.dtype?t:CD(t,"int32"))))}function TG(e,t){const n=[];let r=0,a=null;for(;r<e;)a=r+t,a>=e&&(a=e),n.push([r,a]),r=a;return n}function AG(e){const t=[];e instanceof MT&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(cW(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function DG(e,t){if(null==e)return;const n=[];if(t instanceof MT)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const a in t){const e=t[a];n.push(e.id)}const r=[];if(e instanceof MT)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const a in e){const t=e[a];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function RG(e){return Array.isArray(e)}function jG(e){return!function(e){return e instanceof MT}(e)&&!RG(e)}function OG(e,t,n){let r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(RG(e)&&e.length>0)t=!0;else if(jG(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new pU(`Error when checking model ${i} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));if(jG(e)){r=[];for(const n of t){if(null==e[n])throw new pU(`No data provided for "${n}". Need data for each key in: ${t}`);r.push(e[n])}}else if(RG(e)){if(e.length!==t.length)throw new pU(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new pU(`The model ${i} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=AG(r),null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=r[s];if(e.shape.length!==n[s].length)throw new pU(`Error when checking ${i}: expected ${t[s]} to have ${n[s].length} dimension(s). but got array with shape ${e.shape}`);for(let t=0;t<n[s].length;++t){if(0===t&&!a)continue;const r=e.shape[t],o=n[s][t];if(null!=o&&o>=0&&r!==o)throw new pU(`${i} expected a batch of elements where each example has shape [${n[s].slice(1,n[s].length)}] (i.e.,tensor shape [*,${n[s].slice(1,n[s].length)}]) but the ${i} received an input with ${e.shape[0]} examples, each with shape [${e.shape.slice(1,e.shape.length)}] (tensor shape [${e.shape}])`)}}return r}function _G(e,t,n){let r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new pU(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new pU(`The model expects ${t.length} ${i} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=r[s];if(e.shape.length!==n[s].length)throw new pU(`Error when checking ${i}: expected ${t[s]} to have ${n[s].length} dimension(s), but got array with shape ${JSON.stringify(e.shape)}`);for(let r=0;r<n[s].length;++r){if(0===r&&!a)continue;const o=e.shape[r],l=n[s][r];if(null!=l&&l!==o)throw new pU(`Error when checking ${i}: expected ${t[s]} to have shape ${JSON.stringify(n[s])} but got array with shape ${JSON.stringify(e.shape)}.`)}}}class $G extends bG{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new pU("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");cG(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>dz.adagrad(.01),Adadelta:()=>dz.adadelta(1,.95,lW()),Adam:()=>dz.adam(.001,.9,.999,lW()),Adamax:()=>dz.adamax(.002,.9,.999,lW(),0),RMSProp:()=>dz.rmsprop(.001,.9,0,lW()),SGD:()=>dz.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new pU(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof PD))throw new pU("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new pU(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>ZV(e)))}else{const n=ZV(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new pU(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(ZV(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const e=this.internalOutputShapes[i],t=this.outputNames[i];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[i])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],qU("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),a=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};qU("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,i;for(const s of t){if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){const t=this.internalOutputShapes[e];let a;1===t[t.length-1]||this.lossFunctions[e]===HV?-1!==["accuracy","acc"].indexOf(s)?r=qV:-1!==["crossentropy","ce"].indexOf(s)&&(r=eG):this.lossFunctions[e]===GV?-1!==["accuracy","acc"].indexOf(s)?r=tG:-1!==["crossentropy","ce"].indexOf(s)&&(r=rG):-1!==["accuracy","acc"].indexOf(s)?r=KV:-1!==["crossentropy","ce"].indexOf(s)&&(r=nG),-1!==["accuracy","acc"].indexOf(s)?a="acc":-1!==["crossentropy","ce"].indexOf(s)&&(a="ce"),i=r,n=""+a}else{const e=iG(s);i=e,n=""+sG(s)}let t;qU(n,(()=>{t=i})),a(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;MG(r);const a=this.standardizeUserDataXY(e,t,!0,r);try{const e=a[0].concat(a[1]);this.makeTestFunction();const t=this.testFunction;return xU(this.testLoop(t,e,r,n.verbose,n.steps))}finally{DG(a[0],e),DG(a[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,a=e.testFunction;let i=[];if(n.verbose>0)throw new mU("Verbose mode is not implemented yet.");PI(!r||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const s="function"===typeof t.next?t:await t.iterator();let o=0,l=0;for(;!r||l<n.batches;){const t=await s.next();if(i=pA((()=>{if(t.value){const{xs:n,ys:r}=CG(e,t.value),s=n.concat(r),u=pA((()=>a(s)));if(mA(s),0===l)for(let e=0;e<u.length;++e)i.push(jD(0));const c=s[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=i[e];i[e]=pA((()=>SD(i[e],LD(c,t)))),l>0&&mA(n)}mA(u),o+=c,++l}return i})),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const e=i[u];i[u]=ED(i[u],o),mA(e)}return xU(i)}(this,e,t)}checkNumSamples(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new pU(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new pU(`Either the input data should have a defined shape, or ${a} shoud be specified.`);r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new pU("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new cV;if(e instanceof MT&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new pU(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)i.add(this.inputs[t],e[t])}else for(const o of this.inputs){const t=e[o.name];if(null==t)throw new pU(`No value is provided for the model's input ${o.name}`);i.add(o,t)}const s=hV(a,i);return n?s:s[0]}retrieveSymbolicTensors(e){const t=bU(null,e.length);let n=e.length;for(const r of this.layers){const a=Array.isArray(r.output)?r.output:[r.output],i=a.map((e=>e.name));for(let r=0;r<e.length;++r){const s=i.indexOf(e[r]);if(-1!==s&&(t[r]=a[s],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new pU(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pA((()=>{const r=this.checkNumSamples(e);if(n)throw new mU("Verbose predictLoop() is not implemented yet.");const a=TG(r,t),i=this.outputs.map((e=>[]));for(let t=0;t<a.length;++t){pA((()=>{const n=a[t][0],r=a[t][1],i=EG(e,n,r),s=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)s.push({key:this.inputs[e],value:i[e]});else s.push({key:this.inputs[0],value:i});const o=new cV(s);return hV(this.outputs,o)})).forEach(((e,t)=>i[t].push(e)))}return xU(i.map((e=>kj(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=AG(e);_G(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return MG(e),this.predictLoop(n,e)}finally{DG(n,e)}}predictOnBatch(e){_G(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new hU("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let a=0;a<this.feedOutputShapes.length;++a){const e=this.feedOutputShapes[a];this.feedLossFns[a]===GV?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t){const n=TU(e.map((e=>e.shape[0])));n.sort();const r=TU(t.map((e=>e.shape[0])));if(r.sort(),n.length>1)throw new pU(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(r.length>1)throw new pU(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(n.length>0&&r.length>0&&!VI(n,r))throw new pU(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=OG(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=OG(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[PV,HV,VV];for(let a=0;a<e.length;++a){const i=e[a],s=t[a],o=n[a];if(null!=s){if(s===VV&&1===i.shape[i.shape.length-1])throw new pU(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(s)){const e=i.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const r=e[n],a=t[n];if(null!=a&&r!==a)throw new pU(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new pU(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${n}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0;const[s,o]=this.standardizeUserDataXY(e,t,a,i);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=wG(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await xG(o[t],null,e[t]))}return[s,o,l]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0;return pA((()=>{const i=this.checkNumSamples(t,n,a,"steps"),s=[];if(r>0)throw new mU("Verbose mode is not implemented yet.");if(null!=a)throw new mU("steps mode in testLoop() is not implemented yet");{const r=TG(i,n),a=N$(sW(0,i));for(let n=0;n<r.length;++n){const i=r[n][0],o=r[n][1],l=fW(a,i,o-i),u=LG(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)s.push(jD(0));for(let e=0;e<c.length;++e){const t=c[e];s[e]=SD(s[e],LD(o-i,t))}}for(let e=0;e<s.length;++e)s[e]=ED(s[e],i)}return s}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let a=r;if(wU(e,r)>1){a+=`_${wU(e.slice(0,n),r)}`}t.push(a)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],s=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const s=new cV(e),o=hV(this.outputs,s,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],o[n]);null!=a[n]&&(e=kG(e,a[n]));const i=l_(e);t.push(i),l=0===n?e:SD(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],a=this.metricsTensors[n][1];e=l_(t(r[a],o[a]))}gA(e),i.push(e)}return l=l_(l),this.calculateLosses().forEach((e=>{l=SD(l,e)})),l}),!0,s)].concat(i)}}makeTestFunction(){this.testFunction=e=>pA((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});const s=new cV(i),o=hV(this.outputs,s);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],i=l_(r(a[e],o[e]));n=0===e?i:SD(n,i),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=l_(n(a[r],o[r]));t.push(i)}return t}))}async fit(e,t){let n,r,a,i,s,o,l,u,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const d=null==f.batchSize?32:f.batchSize;MG(d);const h=!1,p=await this.standardizeUserData(e,t,f.sampleWeight,f.classWeight,h,d);n=p[0],r=p[1],c=p[2];let m,g=!1;if(null!=f.validationData&&f.validationData.length>0){if(g=!0,2!==f.validationData.length)throw 3===f.validationData.length?new mU("validationData including sample weights is not supported yet."):new pU(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${f.validationData} is invalid.`);s=f.validationData[0],o=f.validationData[1];const e=!0,t=await this.standardizeUserData(s,o,null,null,e,d);l=t[0],u=t[1],m=l.concat(u)}else if(null!=f.validationSplit&&f.validationSplit>0&&f.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-f.validationSplit)),t=n[0].shape[0];l=EG(n,e,t),a=n,n=EG(n,0,e),u=EG(r,e,t),i=r,r=EG(r,0,e),m=l.concat(u)}else null!=f.validationSteps&&(g=!0);const y=n.concat(r).concat(c);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let w,x;g?(this.makeTestFunction(),w=this.testFunction,x=v.slice().concat(v.map((e=>"val_"+e)))):(w=null,m=[],x=v.slice());const k=OV(f.callbacks,f.yieldEvery);return await this.fitLoop(b,y,v,d,f.epochs,f.verbose,k,w,m,f.shuffle,x,f.initialEpoch,null,null)}finally{this.isTraining=!1,DG(n,e),DG(r,t),DG(a,e),DG(i,t),DG(l,s),DG(u,o),null!=c&&mA(c)}}async fitLoop(e,t,n,r,a,i,s,o,l,u,c,f,d,h){null==r&&(r=32),null==a&&(a=1),null==u&&(u=!0),null==f&&(f=0);let p=!1;if(null!=o&&null!=l&&(p=!0),null!=h&&(p=!0,null==d))throw new pU("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,d,"steps_per_epoch");let g;null!=m&&(g=sW(0,m)),null==i&&(i=1);const{callbackList:y,history:b}=$V(s,i,a,f,m,d,r,p,c);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let v=f;v<a;++v){await y.onEpochBegin(v);const a={};if(null!=d)throw new mU("stepsPerEpoch mode is not implemented yet.");{if("batch"===u)throw new mU("batch shuffling is not implemneted yet");u&&_I(g);const i=N$(g),s=TG(m,r);for(let u=0;u<s.length;++u){const c={};if(await y.onBatchBegin(u,c),pA((()=>{const f=s[u][0],d=s[u][1],h=fW(i,f,d-f);c.batch=u,c.size=d-f;const m=LG(t,h),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];c[t]=r,gA(r)}if(u===s.length-1&&p){const e=this.testLoop(o,l,r);for(let t=0;t<n.length;++t){const r=n[t],i=e[t];gA(i),a["val_"+r]=i}}})),await y.onBatchEnd(u,c),EV(c),this.stopTraining_)break}i.dispose()}if(await y.onEpochEnd(v,a),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return IG(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],a=n[1],i=this.makeTrainFunction()(r.concat(a)),s=[];for(const o of i){const e=await o.data();s.push(e[0])}return mA(i),DG(n[0],e),DG(n[1],t),xU(s)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=hA().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-hA().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=CU(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>CU(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=CU(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[CU(sG(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>CU(sG(e))));{const e={};for(const t in this.metrics)e[t]=CU(sG(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=FV(mG(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=NU(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>NU(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=NU(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>NU(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=NU(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=BA(e);if(0===t.length)throw new pU(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new pU(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new pU("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await xA(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${yG}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){r.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:a}=await xA(await this.optimizer.getWeights(),e);n.specs.push(...a),n.data=AA([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;lG(this.userDefinedMetadata,this.name,e),r.userDefinedMetadata=this.userDefinedMetadata}return r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){lG(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}$G.className="Model",zD($G);class FG extends $G{}FG.className="Functional",zD(FG);class zG extends $G{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:PU("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new pU(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof zG||e instanceof $G;let n;if(t){if(n=e,1!==n.outputs.length)throw new pU("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new pU("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new pU("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new pU("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new uV({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new pU(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new pU("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=lV(this.outputs[0])}this.inboundNodes=[],new iV({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:bU(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(ZW(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new $G({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new hU("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new hU("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new hU("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new hU("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new pU("Legacy serialization format not supported yet.");n=t}else PI(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,a=t;const i=new e(a);if(!(i instanceof zG))throw new mU(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const s of n){const e=FV(s,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),i.add(e)}return i}set stopTraining(e){if(null==this.model)throw new pU("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new pU("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}zG.className="Sequential",zD(zG);class PG extends $D{getConfig(){return{}}}class BG extends PG{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new mU(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return cO(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}BG.className="elu",zD(BG);class UG extends PG{apply(e){return n$(e)}}UG.className="selu",zD(UG);class WG extends PG{apply(e){return Y_(e)}}WG.className="relu",zD(WG);class VG extends PG{apply(e){return pA((()=>d_(6,Y_(e))))}}VG.className="relu6",zD(VG);class GG extends PG{apply(e){return e}}GG.className="linear",zD(GG);class HG extends PG{apply(e){return Nj(e)}}HG.className="sigmoid",zD(HG);class YG extends PG{apply(e){return function(e){return pA((()=>{const t=SD(.5,LD(.2,e));return Fj(t,0,1)}))}(e)}}YG.className="hardSigmoid",zD(YG);class QG extends PG{apply(e){return QO(e)}}QG.className="softplus",zD(QG);class JG extends PG{apply(e){return function(e){return pA((()=>ED(e,SD(YD(e),1))))}(e)}}JG.className="softsign",zD(JG);class ZG extends PG{apply(e){return Sj(e)}}ZG.className="tanh",zD(ZG);class qG extends PG{apply(e){return d$(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}qG.className="softmax",zD(qG);class KG extends PG{apply(e){return ZO(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}KG.className="logSoftmax",zD(KG);class XG extends PG{apply(e){return pA((()=>pA((()=>{const t=Math.sqrt(2),n=LD(.5,SD(1,dO(ED(e,t))));return LD(e,n)}))))}}XG.className="gelu",zD(XG);class eH extends PG{apply(e){return pA((()=>LD(.5,LD(e,SD(1,Sj(LD(TD(ED(2,Math.PI)),SD(e,LD(.044715,VD(e,3))))))))))}}eH.className="gelu_new",zD(eH);class tH extends PG{apply(e){return pA((()=>LD(e,Sj(QO(e)))))}}tH.className="mish",zD(tH);class nH extends PG{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pA((()=>LD(Nj(LD(e,t)),e)))}}function rH(e){return e.getClassName()}function aH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return EU(e,FD.getMap().classNameMap,t,"activation")}function iH(e){if(null==e){const e={className:"linear",config:{}};return aH(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},aH(t)}return e instanceof PG?e:aH(e)}function sH(e){if(null!=e&&"object"!==typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}nH.className="swish",zD(nH);class oH extends $D{}class lH extends oH{constructor(e){super(),sH(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return pA((()=>{let t=u_([1]);return this.hasL1&&(t=SD(t,CO(LD(this.l1,YD(e))))),this.hasL2&&(t=SD(t,CO(LD(this.l2,wW(e))))),vj(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}lH.className="L1L2",zD(lH);const uH={l1l2:"L1L2"};function cH(e){return SU(e)}function fH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return EU(e,FD.getMap().classNameMap,t,"regularizer")}function dH(e){if(null==e)return null;if("string"===typeof e){return fH({className:e in uH?uH[e]:e,config:{}})}return e instanceof oH?e:fH(e)}class hH extends oV{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=JW(e);let n=Y_(e);return null!=this.maxValue&&(n=Fj(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}hH.className="ReLU",zD(hH);class pH extends oV{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=JW(e);return PO(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}pH.className="LeakyReLU",zD(pH);class mH extends oV{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=HW(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=dH(e.alphaRegularizer),this.alphaConstraint=SV(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new pU(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=ZW(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new nV({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=JW(e),L_(e,this.alpha.read())}getConfig(){const e={alphaInitializer:GW(this.alphaInitializer),alphaRegularizer:cH(this.alphaRegularizer),alphaConstraint:NV(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}mH.className="PReLU",zD(mH);class gH extends oV{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new mU(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=JW(e);return cO(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}gH.className="ELU",zD(gH);class yH extends oV{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=JW(e);return LD(n,CD(jO(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}yH.className="ThresholdedReLU",zD(yH);class bH extends oV{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new qG).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return pA((()=>{let n=JW(e);const r=t.mask;if(null!=r){const e=LD(GD(c_(n.shape),CD(r,n.dtype)),jD(-1e9));n=SD(n,e)}return this.axis instanceof Array?this.axis.length>1?MO(GD(n,qO(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function vH(e,t,n){if("number"===typeof e)return bU(e,t);if(e.length!==t)throw new pU(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const a=e[r];if(!nW(a))throw new pU(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e}function wH(e,t,n,r){if(null==e)return e;let a;return a="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((a+r-1)/r)}function xH(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+iW([n-t,0]);else{if("same"!==r)throw new pU(`Unsupport padding mode: ${r}.`);e*=t}return e}function kH(e,t){return pA((()=>(YU(t),"channelsFirst"===t?W$(e,[0,2,3,1]):e)))}function CH(e,t){return pA((()=>(YU(t),"channelsFirst"===t?W$(e,[0,2,3,4,1]):e)))}function NH(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return pA((()=>{if(null==i&&(i="channelsLast"),YU(i),3!==e.shape.length)throw new pU(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new pU(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new pU(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===i&&(e=W$(e,[0,2,1])),"causal"===a)throw new mU("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=Vj(e,t,r,"same"===a?"same":"valid","NWC",s);return null!=n&&(o=kW(o,n)),o}))}function IH(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return pA((()=>{if(null==i&&(i="channelsLast"),YU(i),3!==e.rank&&4!==e.rank)throw new pU(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new pU(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=kH(e,i);if("causal"===a)throw new mU("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=rF({x:l,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:o}),"channelsFirst"===i&&(l=W$(l,[0,3,1,2])),l}))}function SH(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return pA((()=>{if(null==i&&(i="channelsLast"),YU(i),4!==e.rank&&5!==e.rank)throw new pU(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new pU(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let o=CH(e,i);if("causal"===a)throw new mU("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=Yj(o,t,r,"same"===a?"same":"valid","NDHWC",s),null!=n&&(o=kW(o,n)),"channelsFirst"===i&&(o=W$(o,[0,4,1,2,3])),o}))}bH.className="Softmax",zD(bH);class MH extends oV{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",MH.verifyArgs(t),this.rank=e,jU(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new mU(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=vH(t.kernelSize,e,"kernelSize"),this.strides=vH(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,QU(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,YU(this.dataFormat),this.activation=iH(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=HW(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=SV(t.biasConstraint),this.biasRegularizer=dH(t.biasRegularizer),this.activityRegularizer=dH(t.activityRegularizer),this.dilationRate=vH(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new pU(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new pU(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new pU(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(vU("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!RU(e.kernelSize,"number",1,3))throw new pU(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:rH(this.activation),useBias:this.useBias,biasInitializer:GW(this.biasInitializer),biasRegularizer:cH(this.biasRegularizer),activityRegularizer:cH(this.activityRegularizer),biasConstraint:NV(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class EH extends MH{constructor(e,t){super(e,t),this.kernel=null,EH.verifyArgs(t),this.filters=t.filters,jU(this.filters,"filters"),this.kernelInitializer=HW(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=SV(t.kernelConstraint),this.kernelRegularizer=dH(t.kernelRegularizer)}build(e){e=ZW(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pU(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return pA((()=>{let t;e=JW(e);const n=null==this.bias?null:this.bias.read(),r=_U(this.activation.getClassName());if(null!=r&&2===this.rank)t=IH(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=NH(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=IH(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new mU("convolutions greater than 3D are not implemented yet.");t=SH(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=ZW(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let a=0;a<n.length;++a){const e=wH(n[a],this.kernelSize[a],this.padding,this.strides[a],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[a]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:GW(this.kernelInitializer),kernelRegularizer:cH(this.kernelRegularizer),kernelConstraint:NV(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new pU(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class LH extends EH{constructor(e){super(2,e),LH.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!RU(e.kernelSize,"number",1,2))throw new pU(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}LH.className="Conv2D",zD(LH);class TH extends EH{constructor(e){super(3,e),TH.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new pU(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}TH.className="Conv3D",zD(TH);class AH extends LH{constructor(e){if(super(e),this.inputSpec=[new nV({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new pU(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=ZW(e)).length)throw new pU("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pU("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new nV({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return pA((()=>{let t=JW(e);if(4!==t.shape.length)throw new pU(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,i;"channelsFirst"===this.dataFormat?(a=2,i=3):(a=1,i=2);const s=n[a],o=n[i],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],f=this.strides[1],d=[r,xH(s,c,l,this.padding),xH(o,f,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=W$(t,[0,2,3,1]));let h=Hj(t,this.kernel.read(),d,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(h=W$(h,[0,3,1,2])),null!=this.bias&&(h=kW(h,this.bias.read(),this.dataFormat)),null!=this.activation&&(h=this.activation.apply(h)),h}))}computeOutputShape(e){const t=(e=ZW(e)).slice();let n,r,a;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3):(n=3,r=1,a=2);const i=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=xH(t[r],o,i,this.padding),t[a]=xH(t[a],l,s,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}AH.className="Conv2DTranspose",zD(AH);class DH extends TH{constructor(e){if(super(e),this.inputSpec=[new nV({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new pU(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=ZW(e)).length)throw new pU("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new pU("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new nV({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return pA((()=>{let t=JW(e);if(5!==t.shape.length)throw new pU(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let a,i,s;"channelsFirst"===this.dataFormat?(s=2,a=3,i=4):(s=1,a=2,i=3);const o=n[s],l=n[a],u=n[i],c=this.kernelSize[0],f=this.kernelSize[1],d=this.kernelSize[2],h=this.strides[0],p=this.strides[1],m=this.strides[2],g=[r,xH(o,h,c,this.padding),xH(l,p,f,this.padding),xH(u,m,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=W$(t,[0,2,3,4,1]));let y=Jj(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=W$(y,[0,4,1,2,3])),null!==this.bias&&(y=kW(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=ZW(e)).slice();let n,r,a,i;"channelsFirst"===this.dataFormat?(n=1,r=2,a=3,i=4):(n=4,r=1,a=2,i=3);const s=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],f=this.strides[2];return t[n]=this.filters,t[r]=xH(t[r],u,s,this.padding),t[a]=xH(t[a],c,o,this.padding),t[i]=xH(t[i],f,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}DH.className="Conv3DTranspose",zD(DH);class RH extends EH{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new pU("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new pU("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new pU(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=HW(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=dH(t.depthwiseRegularizer),this.depthwiseConstraint=SV(t.depthwiseConstraint),this.pointwiseInitializer=HW(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=dH(t.pointwiseRegularizer),this.pointwiseConstraint=SV(t.pointwiseConstraint)}build(e){if((e=ZW(e)).length<this.rank+2)throw new pU(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new pU(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[];for(let s=0;s<this.rank;++s)a.push(1);a.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new nV({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return pA((()=>{let t;if(e=JW(e),1===this.rank)throw new mU("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=W$(e,[0,2,3,1])),t=r$(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=kW(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=W$(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=GW(this.depthwiseInitializer),e.pointwiseInitializer=GW(this.pointwiseInitializer),e.depthwiseRegularizer=cH(this.depthwiseRegularizer),e.pointwiseRegularizer=cH(this.pointwiseRegularizer),e.depthwiseConstraint=NV(this.depthwiseConstraint),e.pointwiseConstraint=NV(this.pointwiseConstraint),e}}RH.className="SeparableConv";class jH extends RH{constructor(e){super(2,e)}}jH.className="SeparableConv2D",zD(jH);class OH extends EH{constructor(e){super(1,e),OH.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!RU(e.kernelSize,"number",1,1))throw new pU(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}OH.className="Conv1D",zD(OH);class _H extends oV{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return pA((()=>{if(e=JW(e),"channelsLast"===this.dataFormat){const t=hW(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return hW(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=hW(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return hW(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}_H.className="Cropping2D",zD(_H);class $H extends oV{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YU(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function(e){DU(UU,"InterpolationFormat",e)}(this.interpolation)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return pA((()=>{let t=JW(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=W$(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],a="nearest"===this.interpolation?oz.resizeNearestNeighbor(t,[e,r]):oz.resizeBilinear(t,[e,r]);return W$(a,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?oz.resizeNearestNeighbor(t,[e,r]):oz.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}$H.className="UpSampling2D",zD($H);class FH extends MH{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=HW(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=SV(e.depthwiseConstraint),this.depthwiseRegularizer=dH(e.depthwiseRegularizer)}build(e){if((e=ZW(e)).length<4)throw new pU(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new pU(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return pA((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return pA((()=>{null==a&&(a="channelsLast"),YU(a);let s=kH(e,a);if(4!==e.rank)throw new pU(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new pU(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return s=nO(s,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(s=W$(s,[0,3,1,2])),s}))}(e=JW(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=kW(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=ZW(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=wH(t,this.kernelSize[0],this.padding,this.strides[0]),i=wH(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=GW(this.depthwiseInitializer),e.depthwiseRegularizer=cH(this.depthwiseRegularizer),e.depthwiseConstraint=NV(this.depthwiseRegularizer),e}}function zH(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new pU("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function PH(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return pA((()=>{const l=t.shape.length;if(l<3)throw new pU(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(sW(2,l));if(t=W$(t,u),null!=i)throw new mU("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&(a=CD(CD(a,"bool"),"float32"),a.rank===l-1&&(a=EO(a,-1)),a=W$(a,u)),r&&(t=J_(t,0),null!=a&&(a=J_(a,0)));const c=[];let f,d=n;const h=t.shape[0],p=$$(t);let m,g;null!=a&&(m=$$(a));for(let t=0;t<h;++t){const n=p[t],r=pA((()=>e(n,d)));if(null==a)f=r[0],d=r[1];else{const e=pA((()=>{const e=m[t],n=GD(w_(e),e);return{output:SD(LD(r[0],e),LD(d[0],n)),newStates:d.map(((t,a)=>SD(LD(r[1][a],e),LD(t,n))))}}));f=e.output,d=e.newStates}o&&c.push(f)}if(o){g=w$(c,1)}return[f,g,d]}))}FH.className="DepthwiseConv2D",zD(FH);class BH extends oV{constructor(e){let t;if(super(e),null==e.cell)throw new pU("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new JH({cells:e.cell}):e.cell,null==t.stateSize)throw new pU("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new nV({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return sW(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){YW(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return pA((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new mU("Constants support is not implemented in RNN yet.");YW(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new nV({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let a;if(this.cell.build(r),a=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!VI(this.stateSpec.map((e=>e.shape[e.shape.length-1])),a))throw new pU(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=a.map((e=>new nV({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];pA((()=>{if(!this.stateful)throw new dU("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new pU("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>u_([n,e]))):this.states_=[u_([n,this.cell.stateSize])];else if(null==e)mA(this.states_),null!=this.keptStates&&(mA(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>u_([n,e]))):this.states_[0]=u_([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pU(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):mA(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],a=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,i=[n,a];if(!VI(r.shape,i))throw new pU(`State ${t} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map((e=>gA(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=zH(e,n,r,this.numConstants);e=a.inputs,n=a.initialState,r=a.constants;let i=[],s=[];if(null!=n){t.initialState=n,i=i.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new nV({shape:e.shape}));s=s.concat(this.stateSpec)}null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length);if(i[0]instanceof rV){const n=[e].concat(i),r=this.inputSpec.concat(s),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return pA((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let a=null==t?null:t.initialState;e=JW(e),null==a&&(a=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==i)throw new pU(`RNN Layer has ${i} state(s) but was passed ${a.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:r},o=PH(((e,t)=>{const n=this.cell.call([e].concat(t),s);return[n[0],n.slice(1)]}),e,a,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],u=o[1],c=o[2];this.stateful&&this.resetStates(c,r);const f=this.returnSequences?u:l;return this.returnState?[f].concat(c):f}))}getInitialState(e){return pA((()=>{let t=u_(e.shape);return t=CO(t,[1,2]),t=cW(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?gW(t,[1,e]):t)):this.cell.stateSize>1?[gW(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===BH.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=FV(t.cell,n);return new e(Object.assign(t,{cell:r}))}}BH.className="RNN",zD(BH);class UH extends oV{}class WH extends UH{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,jU(this.units,"units"),this.activation=iH(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=HW(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=HW(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=HW(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=dH(e.kernelRegularizer),this.recurrentRegularizer=dH(e.recurrentRegularizer),this.biasRegularizer=dH(e.biasRegularizer),this.kernelConstraint=SV(e.kernelConstraint),this.recurrentConstraint=SV(e.recurrentConstraint),this.biasConstraint=SV(e.biasConstraint),this.dropout=aW([1,iW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=aW([1,iW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=ZW(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return pA((()=>{if(2!==e.length)throw new pU(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let a;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=ZH({ones:()=>w_(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=ZH({ones:()=>w_(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=this.recurrentDropoutMask;a=bW(null!=i?LD(e,i):e,this.kernel.read()),null!=this.bias&&(a=kW(a,this.bias.read())),null!=s&&(n=LD(n,s));let o=SD(a,bW(n,this.recurrentKernel.read()));return null!=this.activation&&(o=this.activation.apply(o)),[o,o]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:rH(this.activation),useBias:this.useBias,kernelInitializer:GW(this.kernelInitializer),recurrentInitializer:GW(this.recurrentInitializer),biasInitializer:GW(this.biasInitializer),kernelRegularizer:cH(this.kernelRegularizer),recurrentRegularizer:cH(this.recurrentRegularizer),biasRegularizer:cH(this.biasRegularizer),activityRegularizer:cH(this.activityRegularizer),kernelConstraint:NV(this.kernelConstraint),recurrentConstraint:NV(this.recurrentConstraint),biasConstraint:NV(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}WH.className="SimpleRNNCell",zD(WH);class VH extends BH{constructor(e){e.cell=new WH(e),super(e)}call(e,t){return pA((()=>{null!=this.cell.dropoutMask&&(mA(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(mA(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return new e(t)}}VH.className="SimpleRNN",zD(VH);class GH extends UH{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new pU("GRUCell does not support reset_after parameter set to true.");this.units=e.units,jU(this.units,"units"),this.activation=iH(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=iH(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=HW(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=HW(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=HW(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=dH(e.kernelRegularizer),this.recurrentRegularizer=dH(e.recurrentRegularizer),this.biasRegularizer=dH(e.biasRegularizer),this.kernelConstraint=SV(e.kernelConstraint),this.recurrentConstraint=SV(e.recurrentConstraint),this.biasConstraint=SV(e.biasConstraint),this.dropout=aW([1,iW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=aW([1,iW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=ZW(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return pA((()=>{if(2!==e.length)throw new pU(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=ZH({ones:()=>w_(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=ZH({ones:()=>w_(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;let s,o,l;0<this.dropout&&this.dropout<1&&(e=LD(e,a[0]));let u=bW(e,this.kernel.read());this.useBias&&(u=kW(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=LD(r,i[0]));const c=this.recurrentKernel.read(),[f,d]=g$(c,[2*this.units,this.units],c.rank-1),h=bW(r,f),[p,m,g]=g$(u,3,u.rank-1),[y,b]=g$(h,2,h.rank-1);s=this.recurrentActivation.apply(SD(p,y)),o=this.recurrentActivation.apply(SD(m,b));const v=bW(LD(o,r),d);l=this.activation.apply(SD(g,v));const w=SD(LD(s,r),LD(SD(1,YO(s)),l));return[w,w]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:rH(this.activation),recurrentActivation:rH(this.recurrentActivation),useBias:this.useBias,kernelInitializer:GW(this.kernelInitializer),recurrentInitializer:GW(this.recurrentInitializer),biasInitializer:GW(this.biasInitializer),kernelRegularizer:cH(this.kernelRegularizer),recurrentRegularizer:cH(this.recurrentRegularizer),biasRegularizer:cH(this.biasRegularizer),activityRegularizer:cH(this.activityRegularizer),kernelConstraint:NV(this.kernelConstraint),recurrentConstraint:NV(this.recurrentConstraint),biasConstraint:NV(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}GH.className="GRUCell",zD(GH);class HH extends BH{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new GH(e),super(e)}call(e,t){return pA((()=>{null!=this.cell.dropoutMask&&(mA(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(mA(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}HH.className="GRU",zD(HH);class YH extends UH{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,jU(this.units,"units"),this.activation=iH(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=iH(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=HW(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=HW(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=HW(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=dH(e.kernelRegularizer),this.recurrentRegularizer=dH(e.recurrentRegularizer),this.biasRegularizer=dH(e.biasRegularizer),this.kernelConstraint=SV(e.kernelConstraint),this.recurrentConstraint=SV(e.recurrentConstraint),this.biasConstraint=SV(e.biasConstraint),this.dropout=aW([1,iW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=aW([1,iW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=ZW(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends MW{apply(t,r){const a=e.apply([n]),i=(new LW).apply([n]),s=e.apply([2*n]);return mW(mW(a,i),s)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return pA((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new pU(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=ZH({ones:()=>w_(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=ZH({ones:()=>w_(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=this.recurrentDropoutMask;let o,l,u,c;0<this.dropout&&this.dropout<1&&(e=LD(e,i[0]));let f=bW(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=LD(r,s[0])),f=SD(f,bW(r,this.recurrentKernel.read())),this.useBias&&(f=kW(f,this.bias.read()));const[d,h,p,m]=g$(f,4,f.rank-1);o=this.recurrentActivation.apply(d),l=this.recurrentActivation.apply(h),u=SD(LD(l,a),LD(o,this.activation.apply(p))),c=this.recurrentActivation.apply(m);const g=LD(c,this.activation.apply(u));return[g,g,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:rH(this.activation),recurrentActivation:rH(this.recurrentActivation),useBias:this.useBias,kernelInitializer:GW(this.kernelInitializer),recurrentInitializer:GW(this.recurrentInitializer),biasInitializer:GW(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:cH(this.kernelRegularizer),recurrentRegularizer:cH(this.recurrentRegularizer),biasRegularizer:cH(this.biasRegularizer),activityRegularizer:cH(this.activityRegularizer),kernelConstraint:NV(this.kernelConstraint),recurrentConstraint:NV(this.recurrentConstraint),biasConstraint:NV(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}YH.className="LSTMCell",zD(YH);class QH extends BH{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new YH(e),super(e)}call(e,t){return pA((()=>{null!=this.cell.dropoutMask&&(mA(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(mA(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}QH.className="LSTM",zD(QH);class JH extends UH{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return pA((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const a=[];let i;for(let s=0;s<this.cells.length;++s){const o=this.cells[s];n=r[s],i=0===s?[e[0]].concat(n):[i[0]].concat(n),i=o.call(i,t),a.push(i.slice(1))}n=[];for(const e of a.slice().reverse())n.push(...e);return[i[0]].concat(n)}))}build(e){let t;YW(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{qU(`RNNCell_${r}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const a of t.cells)r.push(FV(a,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return eV(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,a=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],a[e]])}tV(t)}}function ZH(e){const{ones:t,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=e,s=()=>null!=i?i(t(),n):CW(t(),n),o=()=>NW(s,t,r);if(!a||a<=1)return gA(o().clone());return Array(a).fill(void 0).map(o).map((e=>gA(e.clone())))}JH.className="StackedRNNCells",zD(JH);var qH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class KH extends BH{constructor(e){if(e.unroll)throw new mU("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new mU("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new nV({ndim:5})]}call(e,t){return pA((()=>{if(null!=this.cell.dropoutMask&&(mA(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(mA(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new pU("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,a=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:a})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return pA((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),a=u_([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(a):[a]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];pA((()=>{if(!this.stateful)throw new dU("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),a=[r[0],...r.slice(2)];if(null==n[0])throw new pU("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>u_(a))):this.states_=[u_(a)];else if(null==e)mA(this.states_),null!=this.keptStates&&(mA(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>u_(a))):this.states_[0]=u_(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new pU(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):mA(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=a;if(!VI(n.shape,r))throw new pU(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>gA(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:a,strides:i,dilationRate:s}=this.cell,o="channelsFirst"===t,l=e[o?3:2],u=e[o?4:3],c=wH(l,r[0],a,i[0],s[0]),f=wH(u,r[1],a,i[1],s[1]);return[...e.slice(0,2),...o?[n,c,f]:[c,f,n]]}}KH.className="ConvRNN2D";class XH extends YH{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:a,dataFormat:i,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,jU(this.filters,"filters"),this.kernelSize=vH(n,2,"kernelSize"),this.kernelSize.forEach((e=>jU(e,"kernelSize"))),this.strides=vH(r||1,2,"strides"),this.strides.forEach((e=>jU(e,"strides"))),this.padding=a||"valid",QU(this.padding),this.dataFormat=i||"channelsLast",YU(this.dataFormat),this.dilationRate=vH(s||1,2,"dilationRate"),this.dilationRate.forEach((e=>jU(e,"dilationRate")))}build(e){var t;e=ZW(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new pU(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends MW{apply(e,t){return pW([n.apply([r]),c_([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return pA((()=>{if(3!==e.length)throw new pU(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],a=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=ZH({ones:()=>w_(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=(e,t,n)=>t&&t[n]?LD(t[n],e):e;let l=o(r,s,0),u=o(r,s,1),c=o(r,s,2),f=o(r,s,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=ZH({ones:()=>w_(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const d=this.recurrentDropoutMask;let h=o(a,d,0),p=o(a,d,1),m=o(a,d,2),g=o(a,d,3);const[y,b,v,w]=g$(this.kernel.read(),4,3),[x,k,C,N]=this.useBias?g$(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,x,this.padding),u=this.inputConv(u,b,k,this.padding),c=this.inputConv(c,v,C,this.padding),f=this.inputConv(f,w,N,this.padding);const[I,S,M,E]=g$(this.recurrentKernel.read(),4,3);h=this.recurrentConv(h,I),p=this.recurrentConv(p,S),m=this.recurrentConv(m,M),g=this.recurrentConv(g,E);const L=this.recurrentActivation.apply(SD(l,h)),T=this.recurrentActivation.apply(SD(u,p)),A=SD(LD(T,i),LD(L,this.activation.apply(SD(c,m)))),D=LD(this.recurrentActivation.apply(SD(f,g)),this.activation.apply(A));return[D,D,A]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=qH(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const a=Wj(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?kW(a,n,this.dataFormat):a}recurrentConv(e,t){return Wj(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}XH.className="ConvLSTM2DCell",zD(XH);class eY extends KH{constructor(e){const t=new XH(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}eY.className="ConvLSTM2D",zD(eY);class tY extends oV{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return NW((()=>CW(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}tY.className="Dropout",zD(tY);class nY extends tY{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}nY.className="SpatialDropout1D",zD(nY);class rY extends oV{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,jU(this.units,"units"),this.activation=iH(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=HW(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=HW(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=SV(e.kernelConstraint),this.biasConstraint=SV(e.biasConstraint),this.kernelRegularizer=dH(e.kernelRegularizer),this.biasRegularizer=dH(e.biasRegularizer),this.activityRegularizer=dH(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=ZW(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=ZW(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e),r=_U(this.activation.getClassName());let a;return null!=r?a=bW(n,this.kernel.read(),r,this.bias?this.bias.read():null):(a=bW(n,this.kernel.read()),null!=this.bias&&(a=kW(a,this.bias.read())),null!=this.activation&&(a=this.activation.apply(a))),a}))}getConfig(){const e={units:this.units,activation:rH(this.activation),useBias:this.useBias,kernelInitializer:GW(this.kernelInitializer),biasInitializer:GW(this.biasInitializer),kernelRegularizer:cH(this.kernelRegularizer),biasRegularizer:cH(this.biasRegularizer),activityRegularizer:cH(this.activityRegularizer),kernelConstraint:NV(this.kernelConstraint),biasConstraint:NV(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}rY.className="Dense",zD(rY);class aY extends oV{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=ZW(e);for(const t of e.slice(1))if(null==t)throw new pU(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],rW(e,1)]}call(e,t){return pA((()=>{this.invokeCallHook(e,t);let n=JW(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=W$(n,e)}return function(e){if(e.rank<=1)throw new pU(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],rW(e.shape,1)];return vj(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}aY.className="Flatten",zD(aY);class iY extends oV{constructor(e){super(e),this.supportsMasking=!0,this.activation=iH(e.activation)}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e);return this.activation.apply(n)}))}getConfig(){const e={activation:rH(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}iY.className="Activation",zD(iY);class sY extends oV{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return pA((()=>function(e,t){return pA((()=>{if(2!==e.shape.length)throw new pU(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);return gW(cW(e,1),[1,t,1])}))}(e=JW(e),this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}sY.className="RepeatVector",zD(sY);class oY extends oV{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let a=1,i=null;for(let o=0;o<r.length;++o){const e=r[o];if(this.isUnknown(e)){if(null!==i)throw new pU("Can only specifiy one unknown dimension.");i=o}else a*=e}const s=rW(e);if(null!==i){if(0===a||s%a!==0)throw new pU(n);r[i]=s/a}else if(s!==a)throw new pU(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e),r=n.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return vj(n,a)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}oY.className="Reshape",zD(oY);class lY extends oV{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=sW(1,e.dims.length+1);if(!VI(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new nV({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=ZW(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return W$(JW(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}lY.className="Permute",zD(lY);class uY extends oV{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=JW(e);return ZR(b_(n,this.maskValue),-1)}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e),r=ZR(b_(n,this.maskValue),-1,!0);return LD(n,CD(r,n.dtype))}))}}uY.className="Masking",zD(uY);class cY extends oV{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(kU(e.inputLength))}this.inputDim=e.inputDim,jU(this.inputDim,"inputDim"),this.outputDim=e.outputDim,jU(this.outputDim,"outputDim"),this.embeddingsInitializer=HW(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=dH(e.embeddingsRegularizer),this.activityRegularizer=dH(e.activityRegularizer),this.embeddingsConstraint=SV(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return pA((()=>this.maskZero?(e=JW(e),b_(e,DD(e))):null))}computeOutputShape(e){if(e=ZW(e),null==this.inputLength)return[...e,this.outputDim];const t=kU(this.inputLength);if(t.length!==e.length-1)throw new pU(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new pU(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==a&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return pA((()=>{this.invokeCallHook(e,t);let n=JW(e);"int32"!==n.dtype&&(n=uW(n,"int32"));const r=vW(this.embeddings.read(),vj(n,[n.size]));return vj(r,ZW(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:GW(this.embeddingsInitializer),embeddingsRegularizer:cH(this.embeddingsRegularizer),activityRegularizer:cH(this.activityRegularizer),embeddingsConstraint:NV(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}cY.className="Embedding",zD(cY);class fY extends oV{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new mU}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new pU("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[ZW(e)]),e.length<2)throw new pU(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const a of e)null!=a&&null!==a[0]&&t.push(a[0]);if(t=TU(t),t.length>1)throw new pU(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){const t=null==e[a]?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===TU(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return pA((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=iW(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=cW(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const i of e){const e=i.rank;if(null==e){const e=i.shape,r=e[0],a=e.slice(1).concat([r]);let s=vj(i,[r].concat(rW(e.slice(1))));s=W$(s,[1,0]),s=vj(s,a),t.push(s),n=!0}else if(e>1){const r=sW(1,e).concat([0]);t.push(W$(i,r)),n=!0}else t.push(i)}let r=this.mergeFunction(t);const a=r.rank;if(n)if(null==a){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=vj(W$(vj(r,[-1,t]),[1,0]),n)}else if(a>1){const e=[a-1].concat(sW(0,a-1));r=W$(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=TU(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return pA((()=>{if(null==t)return null;if(!Array.isArray(t))throw new pU("`mask` should be an Array");if(!Array.isArray(e))throw new pU("`inputs` should be an Array");if(t.length!==e.length)throw new pU(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;t=t.map((e=>null==e?e:EO(e,0)));let n=t[0];for(let e=1;e<t.length-1;++e)n=KO(n,t[e]);return n}))}}class dY extends fY{constructor(e){super(e)}mergeFunction(e){return pA((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=SD(t,e[n]);return t}))}}dY.className="Add",zD(dY);class hY extends fY{constructor(e){super(e)}mergeFunction(e){return pA((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=LD(t,e[n]);return t}))}}hY.className="Multiply",zD(hY);class pY extends fY{constructor(e){super(e)}mergeFunction(e){return pA((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=SD(t,e[n]);return LD(1/e.length,t)}))}}pY.className="Average",zD(pY);class mY extends fY{constructor(e){super(e)}mergeFunction(e){return pA((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=qD(t,e[n]);return t}))}}mY.className="Maximum",zD(mY);class gY extends fY{constructor(e){super(e)}mergeFunction(e){return pA((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=d_(t,e[n]);return t}))}}gY.className="Minimum",zD(gY);class yY extends fY{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new pU("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let a=!1;for(const e of n)if(VI(e,t)){a=!0;break}a||n.push(t)}if(n.length>1)throw new pU("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return pA((()=>pW(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new pU("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const a of t.slice(1)){if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new pU("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new pU("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new pU(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return pA((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let i=0;i<e.length;++i)null==t[i]?r.push(CD(w_(e[i]),"bool")):t[i].rank<e[i].rank?r.push(EO(t[i],-1)):r.push(t[i]);const a=kj(r,this.axis);return JR(a,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function bY(e,t){for(;e<0;)e+=t;return e}yY.className="Concatenate",zD(yY);class vY extends fY{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){PI(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new mU("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new pU(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new pU(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>bY(t,e[n].shape.length))):[bY(this.axes,n.shape.length),bY(this.axes,r.shape.length)],this.normalize&&(n=zV(n,t[0]),r=zV(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new mU("batchDot is not implemented for tensors of 4D or higher rank yet");if(PI(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),PI(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new mU("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);const i=n;return pA((()=>{let n,s;if(r>a){n=r-a;const e=[];for(let t=0;t<n;++t)e.push(1);t=vj(t,t.shape.concat(e))}else if(a>r){n=a-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=vj(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)s=i[0]===i[1]?CO(LD(e,t),i[0]):CO(LD(W$(e,[1,0]),t),i[1]);else{const n=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;s=Cj(e,t,n,r)}if(n>0){let e;e=r>a?r+a-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);s=v$(s,t)}return 1===s.shape.length&&(s=EO(s,1)),s}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[bY(this.axes,e.length),bY(this.axes,t.length)],n}computeOutputShape(e){PI(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new mU("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const a=t.concat(n);return 1===a.length&&a.push(1),a}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}vY.className="Dot",zD(vY);class wY extends oV{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e);return NW((()=>SD(yW(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}wY.className="GaussianNoise",zD(wY);class xY extends oV{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return pA((()=>{this.invokeCallHook(e,t);const n=JW(e);if(this.rate>0&&this.rate<1){return NW((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return LD(n,yW(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}xY.className="GaussianDropout",zD(xY);class kY extends oV{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||JW(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return pA((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=JW(e),r=-1.7580993408473766;let a=OO(U_(n),this.rate);a=uW(a,"float32");const i=((1-this.rate)*(1+this.rate*r**2))**-.5,s=-i*r*this.rate,o=SD(LD(t,a),LD(SD(a,-1),r));return SD(LD(o,i),s)};return NW(r,(()=>JW(e)),t.training||!1)}return e}))}}function CY(e,t,n,r,a){let i,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=Tj(e,t,n,r,a,s);else if(3===e.rank)i=Aj(e,t,n,r,a,s);else{if(4!==e.rank)throw new mU(`batchNormalization is not implemented for array of rank ${e.rank} yet`);i=Dj(e,t,n,r,a,s)}return i}function NY(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return VI(r.slice().sort(),sW(0,e.rank-1))?function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return pA((()=>{const i=m_(e,r),s=i.mean,o=i.variance;return[CY(e,s,o,n,t,a),s,o]}))}(e,t,n,r,a):function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return pA((()=>{const i=m_(e,r),s=i.mean,o=i.variance,l=[];for(const t of sW(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=vj(s,l),c=vj(o,l),f=null==t?null:vj(t,l),d=null==n?null:vj(n,l);return[CY(e,u,c,d,f,a),s,o]}))}(e,t,n,r,a)}kY.className="AlphaDropout",zD(kY);class IY extends oV{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=HW(e.betaInitializer||"zeros"),this.gammaInitializer=HW(e.gammaInitializer||"ones"),this.movingMeanInitializer=HW(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=HW(e.movingVarianceInitializer||"ones"),this.betaConstraint=SV(e.betaConstraint),this.gammaConstraint=SV(e.gammaConstraint),this.betaRegularizer=dH(e.betaRegularizer),this.gammaRegularizer=dH(e.gammaRegularizer)}build(e){e=ZW(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new pU(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new nV({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return pA((()=>{const n=null!=t.training&&t.training,r=JW(e),a=r.shape,i=a.length,s=sW(0,i),o=this.axis>=0?this.axis:this.axis+i;s.splice(o,1);const l=bU(1,i);l[o]=a[o];const u=s.slice();u.sort();const c=!VI(u,sW(0,i).slice(0,i-1));if(!n)return(()=>{if(c){const e=vj(this.movingMean.read(),l),t=vj(this.movingVariance.read(),l),n=this.center?vj(this.beta.read(),l):null,a=this.scale?vj(this.gamma.read(),l):null;return CY(r,e,t,n,a,this.epsilon)}return CY(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[f,d,h]=NY(r,this.gamma.read(),this.beta.read(),s,this.epsilon),p=(e,t,n)=>{pA((()=>{const r=1-n,a=e.read(),i=LD(GD(a,t),r);e.write(GD(a,i))}))};return(()=>{p(this.movingMean,d,this.momentum),p(this.movingVariance,h,this.momentum)})(),f}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:GW(this.betaInitializer),gammaInitializer:GW(this.gammaInitializer),movingMeanInitializer:GW(this.movingMeanInitializer),movingVarianceInitializer:GW(this.movingVarianceInitializer),betaRegularizer:cH(this.betaRegularizer),gammaRegularizer:cH(this.gammaRegularizer),betaConstraint:NV(this.betaConstraint),gammaConstraint:NV(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}IY.className="BatchNormalization",zD(IY);class SY extends oV{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=HW(e.betaInitializer||"zeros"),this.gammaInitializer=HW(e.gammaInitializer||"ones"),this.betaRegularizer=dH(e.betaRegularizer),this.gammaRegularizer=dH(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=ZW(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=t);for(const a of this.axis)if(a<0||a>=t)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==TU(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=JW(e),r=n.shape,a=r.length;return pA((()=>{let{mean:e,variance:t}=m_(n,this.axis,!0);const i=bU(1,a);for(const n of this.axis)i[n]=r[n];const s=e=>null!=e&&e.shape.length!==a?vj(e,i):e;let o=this.scale?s(this.gamma.read()):null,l=this.center?s(this.beta.read()):null;const u=[],c=[];for(let n=0;n<a;++n)-1!==this.axis.indexOf(n)?(u.push(r[n]),c.push(1)):(u.push(1),c.push(r[n]));return e=TO(e,u),t=TO(t,u),null!=o&&(o=TO(o,c)),null!=l&&(l=TO(l,c)),CY(n,e,t,l,o,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:GW(this.betaInitializer),gammaInitializer:GW(this.gammaInitializer),betaRegularizer:cH(this.betaRegularizer),gammaRegularizer:cH(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}SY.className="LayerNormalization",zD(SY);class MY extends oV{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new pU(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new pU(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new pU(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new nV({ndim:4})]}computeOutputShape(e){let t,n;return e=ZW(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return pA((()=>function(e,t,n){return pA((()=>{if(4!==e.rank)throw new pU(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new pU("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new pU(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],k_(e,r)}))}(JW(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function EY(e,t,n,r,a,i){return pA((()=>{let s;YU(a),JU(i),QU(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=kH(e,a);const o="same"===r?"same":"valid";return s="max"===i?i_(e,t,n,o):wj(e,t,n,o),"channelsFirst"===a&&(s=W$(s,[0,3,1,2])),s}))}function LY(e,t,n,r,a,i){return pA((()=>{let s;YU(a),JU(i),QU(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=CH(e,a);const o="same"===r?"same":"valid";return s="max"===i?s_(e,t,n,o):xj(e,t,n,o),"channelsFirst"===a&&(s=W$(s,[0,4,1,2,3])),s}))}MY.className="ZeroPadding2D",zD(MY);class TY extends oV{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new pU(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(jU(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new pU(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}jU(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,QU(this.padding),this.inputSpec=[new nV({ndim:3})]}computeOutputShape(e){const t=wH((e=ZW(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return pA((()=>{this.invokeCallHook(e,t),e=cW(JW(e),2);const n=this.poolingFunction(JW(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return v$(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class AY extends TY{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),EY(e,t,n,r,a,"max")}}AY.className="MaxPooling1D",zD(AY);class DY extends TY{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),EY(e,t,n,r,a,"avg")}}DY.className="AveragePooling1D",zD(DY);class RY extends oV{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new pU(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];jU(this.poolSize,"poolSize"),jU(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YU(this.dataFormat),QU(this.padding),this.inputSpec=[new nV({ndim:4})]}computeOutputShape(e){e=ZW(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=wH(t,this.poolSize[0],this.padding,this.strides[0]),n=wH(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return pA((()=>(this.invokeCallHook(e,t),this.poolingFunction(JW(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class jY extends RY{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),EY(e,t,n,r,a,"max")}}jY.className="MaxPooling2D",zD(jY);class OY extends RY{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),EY(e,t,n,r,a,"avg")}}OY.className="AveragePooling2D",zD(OY);class _Y extends oV{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new pU(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];jU(this.poolSize,"poolSize"),jU(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YU(this.dataFormat),QU(this.padding),this.inputSpec=[new nV({ndim:5})]}computeOutputShape(e){e=ZW(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=wH(t,this.poolSize[0],this.padding,this.strides[0]),n=wH(n,this.poolSize[1],this.padding,this.strides[1]),r=wH(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return pA((()=>(this.invokeCallHook(e,t),this.poolingFunction(JW(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class $Y extends _Y{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),LY(e,t,n,r,a,"max")}}$Y.className="MaxPooling3D",zD($Y);class FY extends _Y{constructor(e){super(e)}poolingFunction(e,t,n,r,a){return YU(a),QU(r),LY(e,t,n,r,a,"avg")}}FY.className="AveragePooling3D",zD(FY);class zY extends oV{constructor(e){super(e),this.inputSpec=[new nV({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new mU}}class PY extends zY{constructor(e){super(e||{})}call(e,t){return pA((()=>{const t=JW(e);return l_(t,1)}))}}PY.className="GlobalAveragePooling1D",zD(PY);class BY extends zY{constructor(e){super(e||{})}call(e,t){return pA((()=>{const t=JW(e);return xO(t,1)}))}}BY.className="GlobalMaxPooling1D",zD(BY);class UY extends oV{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,YU(this.dataFormat),this.inputSpec=[new nV({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new mU}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class WY extends UY{call(e,t){return pA((()=>{const t=JW(e);return"channelsLast"===this.dataFormat?l_(t,[1,2]):l_(t,[2,3])}))}}WY.className="GlobalAveragePooling2D",zD(WY);class VY extends UY{call(e,t){return pA((()=>{const t=JW(e);return"channelsLast"===this.dataFormat?xO(t,[1,2]):xO(t,[2,3])}))}}VY.className="GlobalMaxPooling2D",zD(VY);class GY extends oV{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=FV(t.layer,n);delete t.layer;const a={layer:r};return Object.assign(a,t),new e(a)}}class HY extends GY{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=ZW(e)).length<3)throw new pU(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=ZW(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return pA((()=>PH(((e,n)=>[JW(this.layer.call(e,t)),[]]),e=JW(e),[],!1,null,null,!1,!0)[1]))}}HY.className="TimeDistributed",zD(HY);class YY extends GY{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=FV(n),t.goBackwards=!0!==t.goBackwards;const r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=FV(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function(e){DU(GU,"BidirectionalMergeMode",e)}(this.mergeMode),e.weights)throw new mU("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):xU(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const a=zH(e,n,r,this.numConstants);if(e=a.inputs,n=a.initialState,r=a.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const i=[],s=[];if(null!=n){const e=n.length;if(e%2>0)throw new pU("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);const r=n.map((e=>new nV({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),s.push(...r)}if(null!=r)throw new mU("Support for constants in Bidirectional layers is not implemented yet.");const o=i[0]instanceof rV;for(const l of i)if(l instanceof rV!==o)throw new pU("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(i),r=this.inputSpec.concat(s),a=this.inputSpec;this.inputSpec=r;const o=super.apply(n,t);return this.inputSpec=a,o}return super.apply(e,t)}call(e,t){return pA((()=>{const n=t.initialState;let r,a,i,s;if(null==n)r=this.forwardLayer.call(e,t),a=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),s=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),a=this.backwardLayer.call(e,Object.assign(t,{initialState:s}))}return this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=J_(a,1)),"concat"===this.mergeMode?s=pW([r,a]):"sum"===this.mergeMode?s=SD(r,a):"ave"===this.mergeMode?s=LD(.5,SD(r,a)):"mul"===this.mergeMode?s=LD(r,a):null==this.mergeMode&&(s=[r,a]),this.returnState?null==this.mergeMode?s.concat(i):[s].concat(i):s}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){qU(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),qU(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=FV(t.layer);if(delete t.layer,null!=t.numConstants)throw new mU("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}YY.className="Bidirectional",zD(YY);class QY extends oV{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return pA((()=>("float32"!==(e=JW(e)).dtype&&(e=uW(e,"float32")),SD(LD(e,this.scale),this.offset))))}}QY.className="Rescaling",zD(QY);const{resizeBilinear:JY,cropAndResize:ZY}=oz;class qY extends oV{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,a,i,s,o){return pA((()=>{let l,u=!1;const c=[t/i,n/s,(r+t)/i,(a+n)/s],f=[];3===e.rank?(u=!0,l=w$([e])):l=e;for(let e=0;e<l.shape[0];e++)f.push(c);const d=uA(f,[f.length,4]),h=V_(0,f.length,1,"int32"),p=ZY(l,d,h,[r,a],"nearest");return uW(u?JW($$(p)):p,o)}))}upsize(e,t,n,r){return pA((()=>uW(JY(e,[t,n]),r)))}call(e,t){return pA((()=>{const t=JW(e),n=t.dtype,r=t.shape,a=r[r.length-3],i=r[r.length-2];let s=0;a!==this.height&&(s=Math.floor((a-this.height)/2));let o=0;return i!==this.width&&(o=Math.floor((i-this.width)/2),0===o&&(o=1)),s>=0&&o>=0?this.centerCrop(t,s,o,this.height,this.width,a,i,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=ZW(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}qY.className="CenterCrop",zD(qY);class KY extends oV{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=ZW(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return pA((()=>{let n;if("int32"!==(e=JW(e)).dtype&&(e=uW(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new pU(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=JW(t.countWeights)}const r=xO(e),a=kO(e),i=jO(this.numTokens,r).bufferSync().get(0),s=OO(a,0).bufferSync().get(0);if(!i||!s)throw new pU(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,r){let a=JW(e);if("int32"!==a.dtype&&(a=uW(a,"int32")),"int"===t)return a;const i=a.shape;if(0===a.rank&&(a=EO(a,-1)),"oneHot"===t&&1!==a.shape[a.shape.length-1]&&(a=EO(a,-1)),a.rank>2)throw new pU(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${a.rank}.`);const s=["multiHot","oneHot"].includes(t),o=a;let l;if(l=eO(o,"undefined"!==typeof r&&"count"===t?r:[],n,s),"tfIdf"!==t)return l;if(r)return LD(l,r);throw new pU("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}KY.className="CategoryEncoding",zD(KY);const XY=new Set(["bilinear","nearest"]);class eQ extends oV{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!XY.has(e.interpolation))throw new pU(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=ZW(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return pA((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return oz.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return oz.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...XY]} are supported`)}))}}eQ.className="Resizing",zD(eQ);class tQ{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}tQ.className="RandomSeed";class nQ extends oV{constructor(e){super(e),this.randomGenerator=new tQ(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}nQ.className="BaseRandomLayer";const rQ=new Set(["bilinear","nearest"]);class aQ extends nQ{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new pU(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new pU(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new pU(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!rQ.has(n))throw new pU(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=ZW(e))[2];return[this.imgHeight,-1,t]}call(e,t){return pA((()=>{const t=JW(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=U_([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const a=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return oz.resizeBilinear(e,a);case"nearest":return oz.resizeNearestNeighbor(e,a);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...rQ]} are supported`)}}))}}aQ.className="RandomWidth",zD(aQ);var iQ,sQ;wS().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(iQ||(iQ={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(sQ||(sQ={}));const oQ={};function lQ(e){return oQ[e]}function uQ(e,t,n,r,a){const i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){const e=i.inputIndexStart,s=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?e+1:i.inputIndexEnd,o=e<0?t.inputNames.length+e:e;if("tensor"===i.type)return cQ(t.inputNames[o],n,r,a);if("tensors"===i.type){const i=t.inputs.slice(e,s),o=t.inputNames.slice(e,s).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=i[t])||void 0===n?void 0:n.op)}));return o.map((e=>cQ(e,n,r,a)))}const l=cQ(t.inputNames[o],n,r,a),u=l.dataSync();return"number"===i.type?u[0]:uS(l.shape,u)}const s=t.attrParams[e];return s&&s.value}function cQ(e,t,n,r){const[a,i]=pQ(e,n);if(null!=r){const e=r.getHashTableHandleByName(a);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[hQ(a,e)]));return void 0!==s?t[hQ(a,s)][i]:void 0}function fQ(e,t,n){return t[hQ(e,n.currentContextId)]}function dQ(e,t){const[n,r,a]=pQ(e,t);return[hQ(n,t&&t.currentContextId),r,a]}function hQ(e,t){return t?`${e}-${t}`:e}function pQ(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let a;if(1===r.length)a=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;a=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,a),a}function mQ(e,t,n){let r=uQ("pad",e,t,n);if("explicit"===r){r=uQ("explicitPaddings",e,t,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)a[e][0]=r[2*e],a[e][1]=r[2*e+1];return a}return r}function gQ(e){return e.kept?e:ND(e)}const yQ=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],bQ=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],vQ=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],wQ=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],xQ=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],kQ=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],CQ=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],NQ=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],IQ=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],SQ=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],MQ=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],EQ=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],LQ=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],TQ=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],AQ=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],DQ=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],RQ=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],jQ=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],OQ=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class _Q{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[o,l,u,c,f,d,h,p,m,g,y,b,v,w,x,k,C,N,I].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],a=[],i=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?a.push(e[t.name]):null!=t.input&&0!==t.input.length||i.push(e[t.name]),e)),{});let o=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const f=Object.keys(s);f.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[r,,a]=dQ(e),i=s[r];if(null!=i.outputs){const e=i.outputs.indexOf(a);if(-1!==e){const a=`${r}:${e}`;t.inputNames[n]=a}}t.inputs.push(i),i.children.push(t)}))})),0===Object.keys(c).length?f.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=dQ(e),n=s[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=dQ(e),n=s[t];n&&(n.signatureKey=u[e],o.push(n))})):o=r;let d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:s,inputs:o,outputs:l,weights:a,placeholders:r,signature:t,functions:d};return i.length>0&&(h.initNodes=i),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=lQ(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let a;switch(n.type){case"string":a=FQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=FQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":a=QQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=QQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":a=PQ(e.attr,n.tfName,n.defaultValue||0),void 0===a&&n.tfDeprecatedName&&(a=PQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":a=YQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=YQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":a=zQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=zQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":a=ZQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=ZQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":a=HQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=HQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":a=JQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=JQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":a=WQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=WQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":a=VQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=VQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":a=UQ(e.attr,n.tfName,n.defaultValue),void 0===a&&n.tfDeprecatedName&&(a=UQ(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const a=[],i=[];e.signature.inputArg.forEach((e=>{const[t]=dQ(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:BQ(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,a.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[a,,i]=dQ(e),s=r[a];if(null!=s.outputs){const e=s.outputs.indexOf(i);if(-1!==e){const r=`${a}:${e}`;t.inputNames[n]=r}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=dQ(s[e.name]),a=r[t];null!=a&&(a.defaultOutput=n,i.push(a))}));const o=this.mapArgsToSignature(e);return{nodes:r,inputs:a,outputs:i,weights:n,placeholders:[],signature:o}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function $Q(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=wS().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function FQ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return null!=a?$Q(a.s,r):n}function zQ(e,t,n){const r=e[t];return r?r.b:n}function PQ(e,t,n){const r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function BQ(e){switch("string"===typeof e&&(e=iQ[e]),e){case iQ.DT_FLOAT:case iQ.DT_HALF:return"float32";case iQ.DT_INT32:case iQ.DT_INT64:case iQ.DT_INT8:case iQ.DT_UINT8:return"int32";case iQ.DT_BOOL:return"bool";case iQ.DT_DOUBLE:return"float32";case iQ.DT_STRING:return"string";case iQ.DT_COMPLEX64:case iQ.DT_COMPLEX128:return"complex64";default:return null}}function UQ(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function WQ(e,t,n){const r=e[t];return r&&r.type?BQ(r.type):n}function VQ(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>BQ(e))):n}function GQ(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function HQ(e,t,n){const r=e[t];return r&&r.shape?GQ(r.shape):n}function YQ(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function QQ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e[t];return a&&a.list&&a.list.s?a.list.s.map((e=>$Q(e,r))):n}function JQ(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>GQ(e))):n}function ZQ(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class qQ{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return cQ(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return cQ(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return PQ(this.node.rawAttrs,e,t);if(null!=n.s)return FQ(this.node.rawAttrs,e,t);if(null!=n.b)return zQ(this.node.rawAttrs,e,t);if(null!=n.shape)return HQ(this.node.rawAttrs,e,t);if(null!=n.type)return WQ(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return YQ(this.node.rawAttrs,e,t);if(null!=n.list.s)return QQ(this.node.rawAttrs,e,t);if(null!=n.list.shape)return JQ(this.node.rawAttrs,e,t);if(null!=n.list.b)return ZQ(this.node.rawAttrs,e,t);if(null!=n.list.type)return VQ(this.node.rawAttrs,e,t)}return t}}function KQ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){PI(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const a=e[r],i=t[r];PI(a<0||i<0||a===i,(()=>n+` Shapes ${e} and ${t} must match`))}}}function XQ(e){return"number"!==typeof e&&!e.some((e=>e<0))}function eJ(e,t,n){let r=tJ(e,n);const a=!XQ(r);if(a&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach((e=>{r=tJ(e.shape,r)})),!XQ(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function tJ(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:i}return n}class nJ{constructor(e,t,n,r,a,i,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=jD(0),gA(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),KQ(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,gA(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return uA([],[0].concat(this.elementShape));const n=this.readMany(e);return KQ(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),w$(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return uA([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return KQ(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),kj(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,$$(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=0===n?0:t.size/n,i=[];pA((()=>{t=vj(t,[1,n,a]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:r[n-1],0],o=[1,e[n],a];i[n]=vj(Ij(t,s,o),this.elementShape)}return i}));const s=[];for(let o=0;o<e.length;o++)s[o]=o;this.writeMany(s,i)}}class rJ{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);KQ(t,e.shape,"TensorList shape mismatch: "),gA(e)})),this.idTensor=jD(0),this.maxNumElements=r,gA(this.idTensor)}copy(){return new rJ([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);KQ(e,this.elementShape,"TensorList shape mismatch: ");const r=eJ(this.elementShape,this.tensors,e);return pA((()=>{const e=this.tensors.map((e=>vj(e,r)));return w$(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=eJ(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,KQ(r.shape,e,"TensorList shape mismatch: "),vj(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(KQ(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");gA(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new rJ([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);KQ(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=eJ(this.elementShape,this.tensors,t);return vj(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);KQ(this.elementShape,t.shape,"TensorList shape mismatch: "),gA(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);KQ(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=eJ(this.elementShape,this.tensors,n);return 0===e.length?uA([],[0].concat(r)):pA((()=>{const t=e.map((e=>vj(this.tensors[e],r)));return w$(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);KQ(this.elementShape,t,"TensorList shape mismatch: ");const n=eJ(this.elementShape,this.tensors,t);return 0===this.size()?uA([],[0].concat(n)):pA((()=>{const e=this.tensors.map((e=>vj(e,n)));return kj(e,0)}))}}const aJ=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=uQ("thenBranch",e,t,n),a=uQ("elseBranch",e,t,n),i=uQ("cond",e,t,n),s=uQ("args",e,t,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=uQ("body",e,t,n),a=uQ("cond",e,t,n),i=uQ("args",e,t,n),s=await n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),o=i.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||e.dispose()}));let u=i;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const i=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await i[0].data(),i.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[gQ(uQ("pred",e,t,n))];case"Switch":{const r=uQ("pred",e,t,n);let a=uQ("data",e,t,n);return a.kept||(a=gQ(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==cQ(e,t,n)));if(r){return[gQ(cQ(r,t,n))]}return}case"Enter":{const r=uQ("frameName",e,t,n),a=uQ("tensor",e,t,n);return n.enterFrame(r),[gQ(a)]}case"Exit":{const r=uQ("tensor",e,t,n);return n.exitFrame(),[gQ(r)]}case"NextIteration":{const r=uQ("tensor",e,t,n);return n.nextIteration(),[gQ(r)]}case"TensorArrayV3":{const r=uQ("size",e,t,n),a=uQ("dtype",e,t,n),i=uQ("elementShape",e,t,n),s=uQ("dynamicSize",e,t,n),o=uQ("clearAfterRead",e,t,n),l=uQ("identicalElementShapes",e,t,n),u=uQ("name",e,t,n),c=new nJ(u,a,r,i,l,s,o);return n.addTensorArray(c),[c.idTensor,jD(1)]}case"TensorArrayWriteV3":{const r=uQ("tensorArrayId",e,t,n),a=uQ("index",e,t,n),i=uQ("tensor",e,t,n),s=n.getTensorArray(r.id);return s.write(a,i),[s.idTensor]}case"TensorArrayReadV3":{const r=uQ("tensorArrayId",e,t,n),a=uQ("index",e,t,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=uQ("tensorArrayId",e,t,n),a=uQ("indices",e,t,n),i=uQ("dtype",e,t,n);return[n.getTensorArray(r.id).gather(a,i)]}case"TensorArrayScatterV3":{const r=uQ("tensorArrayId",e,t,n),a=uQ("indices",e,t,n),i=uQ("tensor",e,t,n),s=n.getTensorArray(r.id);return s.scatter(a,i),[s.idTensor]}case"TensorArrayConcatV3":{const r=uQ("tensorArrayId",e,t,n),a=n.getTensorArray(r.id),i=uQ("dtype",e,t,n);return[a.concat(i)]}case"TensorArraySplitV3":{const r=uQ("tensorArrayId",e,t,n),a=uQ("tensor",e,t,n),i=uQ("lengths",e,t,n),s=n.getTensorArray(r.id);return s.split(i,a),[s.idTensor]}case"TensorArraySizeV3":{const r=uQ("tensorArrayId",e,t,n);return[jD(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=uQ("tensorArrayId",e,t,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=uQ("tensorListId",e,t,n),a=uQ("index",e,t,n),i=uQ("tensor",e,t,n),s=n.getTensorList(r.id);return s.setItem(a,i),[s.idTensor]}case"TensorListGetItem":{const r=uQ("tensorListId",e,t,n),a=uQ("index",e,t,n),i=uQ("elementShape",e,t,n),s=uQ("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(a,i,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=uQ("indices",e,t,n),a=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const a=Math.max(...t);if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const i=new rJ([],n,e.dtype,r),s=$$(e,0);return t.forEach(((e,t)=>{i.setItem(e,s[t])})),i}(uQ("tensor",e,t,n),r,uQ("elementShape",e,t,n),uQ("numElements",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=uQ("elementShape",e,t,n),a=uQ("elementDType",e,t,n);let i;i="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=uQ(i,e,t,n),o=function(e,t,n,r){return new rJ([],e,t,r)}(r,a,0,"TensorListReserve"===e.op?-1:s);return n.addTensorList(o),[o.idTensor]}case"TensorListGather":{const r=uQ("tensorListId",e,t,n),a=uQ("indices",e,t,n),i=uQ("elementShape",e,t,n),s=uQ("elementDType",e,t,n);return[n.getTensorList(r.id).gather(a,s,i)]}case"TensorListStack":{const r=uQ("tensorListId",e,t,n),a=uQ("elementShape",e,t,n),i=uQ("elementDType",e,t,n),s=uQ("numElements",e,t,n);return[n.getTensorList(r.id).stack(a,i,s)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);KQ(e.shape.slice(1),t,"TensorList shape mismatch: ");const a=$$(e);return new rJ(a,t,r)}(uQ("tensor",e,t,n),uQ("elementShape",e,t,n),uQ("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=uQ("tensorListId",e,t,n),a=n.getTensorList(r.id),i=uQ("dtype",e,t,n),s=uQ("elementShape",e,t,n);return[a.concat(i,s)]}case"TensorListPushBack":{const r=uQ("tensorListId",e,t,n),a=uQ("tensor",e,t,n),i=n.getTensorList(r.id);return i.pushBack(a),[i.idTensor]}case"TensorListPopBack":{const r=uQ("tensorListId",e,t,n),a=uQ("elementShape",e,t,n),i=uQ("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(a,i)]}case"TensorListSplit":{const r=uQ("tensor",e,t,n),a=uQ("elementShape",e,t,n),i=function(e,t,n){let r=0;const a=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const i=tJ(e.shape.slice(1),n),s=0===r?0:e.size/r,o=pA((()=>{const n=[];e=vj(e,[1,r,s]);for(let r=0;r<t.length;++r){const o=[0,0===r?0:a[r-1],0],l=[1,t[r],s];n[r]=vj(Ij(e,o,l),i)}return e.dispose(),n})),l=new rJ([],n,e.dtype,t.length);for(let u=0;u<o.length;u++)l.setItem(u,o[u]);return l}(r,uQ("lengths",e,t,n),a);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=uQ("tensorListId",e,t,n);return[jD(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=uQ("tensorListId",e,t,n),a=uQ("size",e,t,n),i=n.getTensorList(r.id).resize(a);return n.addTensorList(i),[i.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function iJ(e,t,n){const[r,a]=uQ("fusedOps",e,t,n),i="biasadd"===r,s=!i,o="prelu"===a,l="fusedbatchnorm"===r,u=uQ("numArgs",e,t,n);if(i){if(o&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&i&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=uQ("strides",e,t,n),f=mQ(e,t,n),d=uQ("dataFormat",e,t,n).toUpperCase(),h=uQ("dilations",e,t,n);let[p,m]=uQ("args",e,t,n);s&&(m=p,p=void 0);return{stride:c,pad:f,dataFormat:d,dilations:h,biasArg:p,preluArg:m,activationFunc:a,leakyreluAlpha:uQ("leakyreluAlpha",e,t,n)}}function sJ(e,t,n){return{boxes:uQ("boxes",e,t,n),scores:uQ("scores",e,t,n),maxOutputSize:uQ("maxOutputSize",e,t,n),iouThreshold:uQ("iouThreshold",e,t,n),scoreThreshold:uQ("scoreThreshold",e,t,n),softNmsSigma:uQ("softNmsSigma",e,t,n)}}class oJ{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=jD(0),this.tensorMap=new Map,gA(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return jD(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),pA((()=>{const e=$$(t),r=n.length,a=e.length;PI(r===a,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${a} elements.`));for(let t=0;t<r;t++){const r=n[t],a=e[t];gA(a),this.tensorMap.set(r,a)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return pA((()=>{const e=[];for(let r=0;r<n.length;r++){const a=n[r],i=this.findWithDefault(a,t);e.push(i)}return w$(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function lJ(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pA;const i=((e,t,n)=>{switch(e.category){case"arithmetic":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(uQ("a",e,t,n),uQ("b",e,t,n))];case"AddN":return[r.addN(uQ("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(uQ("a",e,t,n),uQ("b",e,t,n))];case"Mul":return[r.mul(uQ("a",e,t,n),uQ("b",e,t,n))];case"RealDiv":case"Div":return[r.div(uQ("a",e,t,n),uQ("b",e,t,n))];case"DivNoNan":return[r.divNoNan(uQ("a",e,t,n),uQ("b",e,t,n))];case"FloorDiv":return[r.floorDiv(uQ("a",e,t,n),uQ("b",e,t,n))];case"Sub":return[r.sub(uQ("a",e,t,n),uQ("b",e,t,n))];case"Minimum":return[r.minimum(uQ("a",e,t,n),uQ("b",e,t,n))];case"Maximum":return[r.maximum(uQ("a",e,t,n),uQ("b",e,t,n))];case"Pow":return[r.pow(uQ("a",e,t,n),uQ("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(uQ("a",e,t,n),uQ("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"basic_math":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(uQ("x",e,t,n))];case"Acos":return[r.acos(uQ("x",e,t,n))];case"Acosh":return[r.acosh(uQ("x",e,t,n))];case"Asin":return[r.asin(uQ("x",e,t,n))];case"Asinh":return[r.asinh(uQ("x",e,t,n))];case"Atan":return[r.atan(uQ("x",e,t,n))];case"Atan2":return[r.atan2(uQ("x",e,t,n),uQ("y",e,t,n))];case"Atanh":return[r.atanh(uQ("x",e,t,n))];case"Ceil":return[r.ceil(uQ("x",e,t,n))];case"Complex":return[r.complex(uQ("real",e,t,n),uQ("imag",e,t,n))];case"Cos":return[r.cos(uQ("x",e,t,n))];case"Cosh":return[r.cosh(uQ("x",e,t,n))];case"Elu":return[r.elu(uQ("x",e,t,n))];case"Erf":return[r.erf(uQ("x",e,t,n))];case"Exp":return[r.exp(uQ("x",e,t,n))];case"Expm1":return[r.expm1(uQ("x",e,t,n))];case"Floor":return[r.floor(uQ("x",e,t,n))];case"Log":return[r.log(uQ("x",e,t,n))];case"Log1p":return[r.log1p(uQ("x",e,t,n))];case"Imag":return[r.imag(uQ("x",e,t,n))];case"Neg":return[r.neg(uQ("x",e,t,n))];case"Reciprocal":return[r.reciprocal(uQ("x",e,t,n))];case"Real":return[r.real(uQ("x",e,t,n))];case"Relu":return[r.relu(uQ("x",e,t,n))];case"Round":return[r.round(uQ("x",e,t,n))];case"Selu":return[r.selu(uQ("x",e,t,n))];case"Sigmoid":return[r.sigmoid(uQ("x",e,t,n))];case"Sin":return[r.sin(uQ("x",e,t,n))];case"Sign":return[r.sign(uQ("x",e,t,n))];case"Sinh":return[r.sinh(uQ("x",e,t,n))];case"Softplus":return[r.softplus(uQ("x",e,t,n))];case"Sqrt":return[r.sqrt(uQ("x",e,t,n))];case"Square":return[r.square(uQ("x",e,t,n))];case"Tanh":return[r.tanh(uQ("x",e,t,n))];case"Tan":return[r.tan(uQ("x",e,t,n))];case"ClipByValue":return[r.clipByValue(uQ("x",e,t,n),uQ("clipValueMin",e,t,n),uQ("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(uQ("x",e,t,n))];case"Rsqrt":return[r.rsqrt(cQ(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(uQ("x",e,t,n),uQ("alpha",e,t,n))];case"Prelu":return[r.prelu(uQ("x",e,t,n),uQ("alpha",e,t,n))];case"IsNan":return[r.isNaN(cQ(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(cQ(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(cQ(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"control":return aJ(e,t,n);case"convolution":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Conv1D":{const a=uQ("stride",e,t,n),i=uQ("pad",e,t,n),s=uQ("dataFormat",e,t,n).toUpperCase(),o=uQ("dilation",e,t,n);return[r.conv1d(uQ("x",e,t,n),uQ("filter",e,t,n),a,i,s,o)]}case"Conv2D":{const a=uQ("strides",e,t,n),i=mQ(e,t,n),s=uQ("dataFormat",e,t,n).toUpperCase(),o=uQ("dilations",e,t,n);return[r.conv2d(uQ("x",e,t,n),uQ("filter",e,t,n),[a[1],a[2]],i,s,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=iJ(e,t,n);return[r.fused.conv2d({x:uQ("x",e,t,n),filter:uQ("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:f}=iJ(e,t,n);return[r.fused.depthwiseConv2d({x:uQ("x",e,t,n),filter:uQ("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:f})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=uQ("outputShape",e,t,n),i=uQ("strides",e,t,n),s=mQ(e,t,n);return[r.conv2dTranspose(uQ("x",e,t,n),uQ("filter",e,t,n),a,[i[1],i[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=uQ("strides",e,t,n),i=mQ(e,t,n),s=uQ("dilations",e,t,n),o=uQ("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(uQ("input",e,t,n),uQ("filter",e,t,n),[a[1],a[2]],i,o,[s[1],s[2]])]}case"Conv3D":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("dataFormat",e,t,n).toUpperCase(),o=uQ("dilations",e,t,n);return[r.conv3d(uQ("x",e,t,n),uQ("filter",e,t,n),[a[1],a[2],a[3]],i,s,[o[1],o[2],o[3]])]}case"AvgPool":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("kernelSize",e,t,n);return[r.avgPool(uQ("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPool":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("kernelSize",e,t,n);return[r.maxPool(uQ("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPoolWithArgmax":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("kernelSize",e,t,n),o=uQ("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(uQ("x",e,t,n),[s[1],s[2]],[a[1],a[2]],i,o);return[l,u]}case"AvgPool3D":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("kernelSize",e,t,n);return[r.avgPool3d(uQ("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"MaxPool3D":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("kernelSize",e,t,n);return[r.maxPool3d(uQ("x",e,t,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"Dilation2D":{const a=uQ("strides",e,t,n),i=uQ("pad",e,t,n),s=uQ("dilations",e,t,n),o=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(uQ("x",e,t,n),uQ("filter",e,t,n),[o,l],i,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"creation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Fill":{const a=uQ("shape",e,t,n),i=uQ("dtype",e,t,n),s=uQ("value",e,t,n);return[r.fill(a,s,i)]}case"LinSpace":{const a=uQ("start",e,t,n),i=uQ("stop",e,t,n),s=uQ("num",e,t,n);return[r.linspace(a,i,s)]}case"Multinomial":{const a=uQ("logits",e,t,n),i=uQ("numSamples",e,t,n),s=uQ("seed",e,t,n);return[r.multinomial(a,i,s)]}case"OneHot":{const a=uQ("indices",e,t,n),i=uQ("depth",e,t,n),s=uQ("onValue",e,t,n),o=uQ("offValue",e,t,n),l=uQ("dtype",e,t,n);return[r.oneHot(a,i,s,o,l)]}case"Ones":return[r.ones(uQ("shape",e,t,n),uQ("dtype",e,t,n))];case"OnesLike":return[r.onesLike(uQ("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(uQ("shape",e,t,n),uQ("dtype",e,t,n),uQ("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(uQ("shape",e,t,n),uQ("minval",e,t,n),uQ("maxval",e,t,n),uQ("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(uQ("shape",e,t,n),uQ("minval",e,t,n),uQ("maxval",e,t,n),uQ("seed",e,t,n))];case"Range":{const a=uQ("start",e,t,n),i=uQ("stop",e,t,n),s=uQ("step",e,t,n);return[r.range(a,i,s,uQ("dtype",e,t,n))]}case"TruncatedNormal":{const a=uQ("shape",e,t,n),i=uQ("mean",e,t,n),s=uQ("stdDev",e,t,n),o=uQ("seed",e,t,n);return[r.truncatedNormal(a,i,s,uQ("dtype",e,t,n),o)]}case"Zeros":return[r.zeros(uQ("shape",e,t,n),uQ("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(uQ("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:i,maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=sJ(e,t,n),c=await a.image.nonMaxSuppressionWithScoreAsync(r,i,s,o,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:i,maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=sJ(e,t,n),u=uQ("padToMaxOutputSize",e,t,n),c=await a.image.nonMaxSuppressionPaddedAsync(r,i,s,o,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:i,maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=sJ(e,t,n);return[await a.image.nonMaxSuppressionAsync(r,i,s,o,l)]}case"Where":{const r=a.cast(uQ("condition",e,t,n),"bool"),i=[await a.whereAsync(r)];return r.dispose(),i}case"ListDiff":return a.setdiff1dAsync(uQ("x",e,t,n),uQ("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n);case"evaluation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"LowerBound":{const a=uQ("sortedSequence",e,t,n),i=uQ("values",e,t,n);return[r.lowerBound(a,i)]}case"TopKV2":{const a=uQ("x",e,t,n),i=uQ("k",e,t,n),s=uQ("sorted",e,t,n),o=r.topk(a,i,s);return[o.values,o.indices]}case"UpperBound":{const a=uQ("sortedSequence",e,t,n),i=uQ("values",e,t,n);return[r.upperBound(a,i)]}case"Unique":{const a=uQ("x",e,t,n),i=r.unique(a);return[i.values,i.indices]}case"UniqueV2":{const a=uQ("x",e,t,n),i=uQ("axis",e,t,n),s=r.unique(a,i);return[s.values,s.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"image":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ResizeBilinear":{const a=uQ("images",e,t,n),i=uQ("size",e,t,n),s=uQ("alignCorners",e,t,n),o=uQ("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[i[0],i[1]],s,o)]}case"ResizeNearestNeighbor":{const a=uQ("images",e,t,n),i=uQ("size",e,t,n),s=uQ("alignCorners",e,t,n),o=uQ("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(a,[i[0],i[1]],s,o)]}case"CropAndResize":{const a=uQ("image",e,t,n),i=uQ("boxes",e,t,n),s=uQ("boxInd",e,t,n),o=uQ("cropSize",e,t,n),l=uQ("method",e,t,n),u=uQ("extrapolationValue",e,t,n);return[r.image.cropAndResize(a,i,s,o,l,u)]}case"ImageProjectiveTransformV3":{const a=uQ("images",e,t,n),i=uQ("transforms",e,t,n),s=uQ("outputShape",e,t,n),o=uQ("fillValue",e,t,n),l=uQ("interpolation",e,t,n),u=uQ("fillMode",e,t,n);return[r.image.transform(a,i,l.toLowerCase(),u.toLowerCase(),o,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"graph":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=uQ("default",e,t,n);return[cQ(e.name,t,n)||a];case"Placeholder":return[cQ(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[gQ(uQ("x",e,t,n))];case"IdentityN":return uQ("x",e,t,n).map((e=>gQ(e)));case"Shape":return[r.tensor1d(uQ("x",e,t,n).shape,"int32")];case"ShapeN":return uQ("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(uQ("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(uQ("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=uQ("x",e,t,n),s=uQ("data",e,t,n),o=uQ("message",e,t,n),l=uQ("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(o);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,l));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"logical":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Equal":return[r.equal(uQ("a",e,t,n),uQ("b",e,t,n))];case"NotEqual":return[r.notEqual(uQ("a",e,t,n),uQ("b",e,t,n))];case"Greater":return[r.greater(uQ("a",e,t,n),uQ("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(uQ("a",e,t,n),uQ("b",e,t,n))];case"Less":return[r.less(uQ("a",e,t,n),uQ("b",e,t,n))];case"LessEqual":return[r.lessEqual(uQ("a",e,t,n),uQ("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(uQ("a",e,t,n),uQ("b",e,t,n))];case"LogicalNot":return[r.logicalNot(uQ("a",e,t,n))];case"LogicalOr":return[r.logicalOr(uQ("a",e,t,n),uQ("b",e,t,n))];case"Select":case"SelectV2":return[r.where(uQ("condition",e,t,n),uQ("a",e,t,n),uQ("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(uQ("a",e,t,n),uQ("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"matrices":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(uQ("a",e,t,n),uQ("b",e,t,n),uQ("transposeA",e,t,n),uQ("transposeB",e,t,n))];case"Einsum":return[r.einsum(uQ("equation",e,t,n),...uQ("tensors",e,t,n))];case"Transpose":return[r.transpose(uQ("x",e,t,n),uQ("perm",e,t,n))];case"_FusedMatMul":const[a,i]=uQ("fusedOps",e,t,n),s="biasadd"===a,o="prelu"===i,l=uQ("numArgs",e,t,n),u=uQ("leakyreluAlpha",e,t,n);if(s){if(o&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,f]=uQ("args",e,t,n);return[r.fused.matMul({a:uQ("a",e,t,n),b:uQ("b",e,t,n),transposeA:uQ("transposeA",e,t,n),transposeB:uQ("transposeB",e,t,n),bias:c,activation:i,preluActivationWeights:f,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(uQ("a",e,t,n),uQ("numLower",e,t,n),uQ("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"normalization":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(uQ("x",e,t,n),uQ("axis",e,t,n),uQ("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(uQ("x",e,t,n),uQ("mean",e,t,n),uQ("variance",e,t,n),uQ("offset",e,t,n),uQ("scale",e,t,n),uQ("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(uQ("x",e,t,n),uQ("radius",e,t,n),uQ("bias",e,t,n),uQ("alpha",e,t,n),uQ("beta",e,t,n))];case"Softmax":return[r.softmax(uQ("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(uQ("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"ragged":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:i}=r.raggedGather(uQ("paramsNestedSplits",e,t,n),uQ("paramsDenseValues",e,t,n),uQ("indices",e,t,n),uQ("outputRaggedRank",e,t,n));return a.concat(i)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:i}=r.raggedRange(uQ("starts",e,t,n),uQ("limits",e,t,n),uQ("splits",e,t,n));return[a,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(uQ("shape",e,t,n),uQ("values",e,t,n),uQ("defaultValue",e,t,n),uQ("rowPartitionTensors",e,t,n),uQ("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"reduction":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Max":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.max(uQ("x",e,t,n),a,i)]}case"Mean":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.mean(uQ("x",e,t,n),a,i)]}case"Min":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.min(uQ("x",e,t,n),a,i)]}case"Sum":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.sum(uQ("x",e,t,n),a,i)]}case"All":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.all(uQ("x",e,t,n),a,i)]}case"Any":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.any(uQ("x",e,t,n),a,i)]}case"ArgMax":{const a=uQ("axis",e,t,n);return[r.argMax(uQ("x",e,t,n),a)]}case"ArgMin":{const a=uQ("axis",e,t,n);return[r.argMin(uQ("x",e,t,n),a)]}case"Prod":{const a=uQ("axis",e,t,n),i=uQ("keepDims",e,t,n);return[r.prod(uQ("x",e,t,n),a,i)]}case"Cumprod":{const a=uQ("axis",e,t,n),i=uQ("exclusive",e,t,n),s=uQ("reverse",e,t,n);return[r.cumprod(uQ("x",e,t,n),a,i,s)]}case"Cumsum":{const a=uQ("axis",e,t,n),i=uQ("exclusive",e,t,n),s=uQ("reverse",e,t,n);return[r.cumsum(uQ("x",e,t,n),a,i,s)]}case"Bincount":const a=uQ("x",e,t,n),i=uQ("weights",e,t,n),s=uQ("size",e,t,n);return[r.bincount(a,i,s)];case"DenseBincount":{const a=uQ("x",e,t,n),i=uQ("weights",e,t,n),s=uQ("size",e,t,n),o=uQ("binaryOutput",e,t,n);return[r.denseBincount(a,i,s,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"slice_join":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"ConcatV2":case"Concat":{const a=uQ("n",e,t,n),i=uQ("axis",e,t,n);let s=uQ("tensors",e,t,n);return s=s.slice(0,a),[r.concat(s,i)]}case"Gather":{const a=uQ("x",e,t,n),i=uQ("indices",e,t,n);return[r.gather(a,r.cast(i,"int32"),0)]}case"GatherV2":{const a=uQ("axis",e,t,n),i=uQ("batchDims",e,t,n),s=uQ("x",e,t,n),o=uQ("indices",e,t,n);return[r.gather(s,r.cast(o,"int32"),a,i)]}case"Reverse":{const a=uQ("dims",e,t,n),i=[];for(let e=0;e<a.length;e++)a[e]&&i.push(e);const s=uQ("x",e,t,n);return[r.reverse(s,i)]}case"ReverseV2":{const a=uQ("axis",e,t,n),i=uQ("x",e,t,n);return[r.reverse(i,a)]}case"Slice":{const a=uQ("begin",e,t,n),i=uQ("size",e,t,n);return[r.slice(uQ("x",e,t,n),a,i)]}case"StridedSlice":{const a=uQ("begin",e,t,n),i=uQ("end",e,t,n),s=uQ("strides",e,t,n),o=uQ("beginMask",e,t,n),l=uQ("endMask",e,t,n),u=uQ("ellipsisMask",e,t,n),c=uQ("newAxisMask",e,t,n),f=uQ("shrinkAxisMask",e,t,n),d=uQ("x",e,t,n);return[r.stridedSlice(d,a,i,s,o,l,u,c,f)]}case"Pack":return pA((()=>{const a=uQ("axis",e,t,n),i=uQ("tensors",e,t,n),s=i[0].shape,o=r.squeeze(i[0]).shape,l=i.map((e=>{const t=VI(e.shape,s);if(!t&&!VI(r.squeeze(e).shape,o))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,s)}));return[r.stack(l,a)]}));case"Unpack":{const a=uQ("axis",e,t,n),i=uQ("tensor",e,t,n);return r.unstack(i,a)}case"Tile":{const a=uQ("reps",e,t,n);return[r.tile(uQ("x",e,t,n),a)]}case"Split":case"SplitV":{const a=uQ("axis",e,t,n),i=uQ("numOrSizeSplits",e,t,n),s=uQ("x",e,t,n);return r.split(s,i,a)}case"ScatterNd":{const a=uQ("indices",e,t,n),i=uQ("values",e,t,n),s=uQ("shape",e,t,n);return[r.scatterND(a,i,s)]}case"GatherNd":{const a=uQ("x",e,t,n),i=uQ("indices",e,t,n);return[r.gatherND(a,i)]}case"SparseToDense":{const a=uQ("sparseIndices",e,t,n),i=uQ("outputShape",e,t,n),s=uQ("sparseValues",e,t,n),o=uQ("defaultValue",e,t,n);return[r.sparseToDense(a,s,i,s.dtype===o.dtype?o:r.cast(o,s.dtype))]}case"TensorScatterUpdate":{const a=uQ("indices",e,t,n),i=uQ("values",e,t,n),s=uQ("tensor",e,t,n);return[r.tensorScatterUpdate(s,a,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"sparse":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:i,emptyRowIndicator:s,reverseIndexMap:o}=r.sparse.sparseFillEmptyRows(uQ("indices",e,t,n),uQ("values",e,t,n),uQ("denseShape",e,t,n),uQ("defaultValue",e,t,n));return[a,i,s,o]}case"SparseReshape":{const{outputIndices:a,outputShape:i}=r.sparse.sparseReshape(uQ("inputIndices",e,t,n),uQ("inputShape",e,t,n),uQ("newShape",e,t,n));return[a,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(uQ("data",e,t,n),uQ("indices",e,t,n),uQ("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(uQ("data",e,t,n),uQ("indices",e,t,n),uQ("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"spectral":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"FFT":return[r.fft(uQ("x",e,t,n))];case"IFFT":return[r.ifft(uQ("x",e,t,n))];case"RFFT":return[r.rfft(uQ("x",e,t,n))];case"IRFFT":return[r.irfft(uQ("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"string":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(uQ("input",e,t,n),uQ("pattern",e,t,n),uQ("rewrite",e,t,n),uQ("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:i}=r.string.stringNGrams(uQ("data",e,t,n),uQ("dataSplits",e,t,n),uQ("separator",e,t,n),uQ("nGramWidths",e,t,n),uQ("leftPad",e,t,n),uQ("rightPad",e,t,n),uQ("padWidth",e,t,n),uQ("preserveShortSequences",e,t,n));return[a,i]}case"StringSplit":{const{indices:a,values:i,shape:s}=r.string.stringSplit(uQ("input",e,t,n),uQ("delimiter",e,t,n),uQ("skipEmpty",e,t,n));return[a,i,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(uQ("input",e,t,n),uQ("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"transformation":return a((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;switch(e.op){case"Cast":return[r.cast(uQ("x",e,t,n),uQ("dtype",e,t,n))];case"ExpandDims":{const a=uQ("axis",e,t,n);return[r.expandDims(uQ("x",e,t,n),a)]}case"Squeeze":{const a=uQ("axis",e,t,n);return[r.squeeze(uQ("x",e,t,n),a)]}case"Reshape":return[r.reshape(uQ("x",e,t,n),uQ("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(uQ("x",e,t,n),uQ("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(uQ("x",e,t,n),uQ("padding",e,t,n),uQ("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(uQ("x",e,t,n),uQ("padding",e,t,n),uQ("constantValue",e,t,n))];case"SpaceToBatchND":{const a=uQ("blockShape",e,t,n),i=uQ("paddings",e,t,n);return[r.spaceToBatchND(uQ("x",e,t,n),a,i)]}case"BatchToSpaceND":{const a=uQ("blockShape",e,t,n),i=uQ("crops",e,t,n);return[r.batchToSpaceND(uQ("x",e,t,n),a,i)]}case"DepthToSpace":{const a=uQ("blockSize",e,t,n),i=uQ("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(uQ("x",e,t,n),a,i)]}case"BroadcastTo":return[r.broadcastTo(uQ("x",e,t,n),uQ("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(uQ("s0",e,t,n),uQ("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(e.name);if(null!=a)return[a];{const a=uQ("keyDType",e,t,n),i=uQ("valueDType",e,t,n),s=new oJ(a,i);return r.addHashTable(e.name,s),[s.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=uQ("tableHandle",e,t,n,r),i=uQ("keys",e,t,n),s=uQ("values",e,t,n),o=r.getHashTableById(a.id);return[await o.import(i,s)]}case"LookupTableFind":case"LookupTableFindV2":{const a=uQ("tableHandle",e,t,n,r),i=uQ("keys",e,t,n),s=uQ("defaultValue",e,t,n),o=r.getHashTableById(a.id);return[await o.find(i,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=uQ("tableHandle",e,t,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const i=lQ(e.op);if(i&&i.customExecutor)return i.customExecutor(new qQ(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return gS(i)?i.then((e=>[].concat(e))):[].concat(i)}class uJ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function cJ(e,t,n,r){const a=new Set,i=[];let s=null,o=null;const l=new Set,u=new Set(Object.keys(e).map((e=>pQ(e)[0])));r=r||[];const c=new Set(r.map((e=>pQ(e.name)[0]))),f=[...t];for(;f.length>0;){const e=f.pop();(gJ(e)||yJ(e)||bJ(e))&&null==s&&(s=e,o=s.children.map((e=>e.name)).filter((e=>a.has(e)))),a.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),f.push(e))})):i.push(e.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:s,syncInputs:o}}function fJ(e,t){const{usedNodes:n,inputs:r}=t,a=Object.keys(r).map((e=>pQ(e)[0])).map((t=>e.nodes[t])),i=e.initNodes||[],s=e=>n.has("string"===typeof e?e:e.name);function o(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=o([...a,...e.weights,...i]).filter(s),u=o([...l,...Object.values(e.nodes)]).filter(s),c=new Map(u.map((e=>[e.name,e]))),f={};for(const m of u){f[m.name]=f[m.name]||0;for(const e of m.children)s(e)||(f[e.name]=Number.POSITIVE_INFINITY),f[e.name]=(f[e.name]||0)+1}const d=Object.entries(f).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...d];for(;d.length>0;){const e=d.pop(),t=c.get(e);for(const n of t.children.filter(s))0===--f[n.name]&&(h.push(n.name),d.push(n.name))}const p=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),a=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const i of t.children)n.has(i.name)&&!a.has(i.name)&&(a.add(i.name),r.push(i.name))}const i=e.filter((e=>a.has(e.name)));return i}(h.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),a=e=>r.has("string"===typeof e?e:e.name),i=new Set(e.map((e=>e.name))),s=e=>i.has("string"===typeof e?e:e.name);for(const o of e){for(const e of o.children.filter(s)){if(!n.has(e.name))throw new dJ(`Child ${e.name} of node ${o.name} is unreachable.`);if(n.get(o.name)>n.get(e.name))throw new dJ(`Node ${o.name} is scheduled to run after its child ${e.name}.`)}if(!a(o))for(const e of o.inputs){if(!n.has(e.name))throw new dJ(`Input ${e.name} of node ${o.name} is unreachable.`);if(n.get(e.name)>n.get(o.name))throw new dJ(`Node ${o.name} is scheduled to run before its input ${e.name}.`)}}}(p,l),p}class dJ extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const hJ=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),pJ=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),mJ=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function gJ(e){return hJ.has(e.op)}function yJ(e){return pJ.has(e.op)}function bJ(e){return mJ.has(e.op)}class vJ{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new vJ(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=cJ(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:i}=n;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(r.length>0){const n=t.map((e=>e.name)),a=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${a}]. Missing the following inputs: [${r}]`)}const s=fJ(this.graph,n),o=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>gJ(e)?n:t)),a=e=>{const n=r[t.get(e.name)];return null==n?-1:n},i=e.map(((e,t)=>e.children.map(a).reduce(((e,t)=>Math.max(e,t)),r[t]))),s=new Map;for(let o=0;o<e.length;++o){const t=i[o];if(t===n)continue;const r=e[o],a=e[t];s.has(a.name)||s.set(a.name,[]),s.get(a.name).push(r)}return s}(s);return{orderedNodes:s,nodeLiveUntilMap:o}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return gA(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[pQ(e)[0]])),a=t.map((e=>pQ(e)[0])),i=new Set(a);let s=a.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const o=this.getCompilationKey(r,s);let l=this.compiledMap.get(o);null==l&&(l=this.compile(e,s),this.compiledMap.set(o,l));try{this.keepIntermediateTensors=wS().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Lae){this.keepIntermediateTensors=!1,console.warn(Lae.message)}const u={},c={};return pA((()=>{const n=new uJ(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[a,i]=pQ(t,n),s=[];s[i]=e[t],r[a]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[a]=this.cloneTensorList(s))}));const a=this.getFrozenTensorIds(r),{orderedNodes:s,nodeLiveUntilMap:o}=l;for(const e of s){if(r[e.name])continue;const t=lJ(e,r,n,this._resourceManager);if(gS(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,a,i,o.get(e.name))}return null==this.parent&&n.dispose(a),t.map((e=>cQ(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,a,i,s){if(!gJ(t)&&!i.has(e)){for(const r of n[e])null!=r&&(s[r.id]=(s[r.id]||0)+t.children.length);for(const e of t.inputs){if(gJ(e))continue;const t=fQ(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||a.has(e.id))continue;const t=s[e.id];1===t?(e.dispose(),delete s[e.id]):null!=t&&s[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,a,i){function s(e){return gJ(e)||a.has(e.name)}if(!gJ(e)&&null!=i)for(const o of i){if(s(o))continue;const e=fQ(o.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=wS().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(Lae){this.keepIntermediateTensors=!1,console.warn(Lae.message)}const i=new uJ(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const s=await this.executeWithControlFlow(e,i,t,n),o=t.map((e=>cQ(e,s,i))),l=o.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(s).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&i.dispose(c),o}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const a=Object.keys(e),i=a.map((e=>this.graph.nodes[pQ(e)[0]])),s=n.map((e=>pQ(e)[0])),o=new Set(s);let l=s.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:f,syncInputs:d}=cJ(e,l,this.weightMap,this._initNodes),h=[...i,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),p=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=pQ(t),a=[];a[r]=e[t],p[n]=a}));const m={},g=this.getFrozenTensorIds(p),y={};for(;h.length>0;){const e=this.processStack(i,h,t,p,y,g,o,m,u);await Promise.all(e)}null!=f||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter((e=>!gJ(e)&&!cQ(e.name,p,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=f&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${a}]. Consider providing the following inputs: [${c}]. ${e}`)}return p}processStack(e,t,n,r,a,i,s,o,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&uQ("isConstant",e.node,r,n)&&([c]=dQ(e.node.name,n)),null==r[e.node.name]){const f=lJ(e.node,r,n,this._resourceManager);c||([c]=dQ(e.node.name,n));const d=n.currentContext;gS(f)?u.push(f.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=d,this.checkTensorForDisposal(c,e.node,r,n,i,s,o),this.processChildNodes(e.node,t,n,r,a,l),u)))):(r[c]=f,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(f)),this.checkTensorForDisposal(c,e.node,r,n,i,s,o),this.processChildNodes(e.node,t,n,r,a,l))}else this.processChildNodes(e.node,t,n,r,a,l)}return u}processChildNodes(e,t,n,r,a,i){e.children.forEach((e=>{const[s]=dQ(e.name,n);!a[s]&&i.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!cQ(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!cQ(e,r,n)))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=pQ(t),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const e=a.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));PI(t,(()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}a.attrParams.dtype&&a.attrParams.dtype.value&&PI(n.dtype===a.attrParams.dtype.value,(()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const r={};for(const a in e){const i=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[a];null!=i?r[i.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=pQ(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=pQ(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class wJ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const xJ="?tfjs-format=file",kJ="model.json";class CJ{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new wJ}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return gS(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await MA(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new vJ(_Q.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=_Q.Instance.transformGraph(e.modelInitializer);this.initializer=new vJ(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof MT?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof MT)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce(((t,n)=>{var a,i,s;const o=null===(s=null===(i=null===(a=this.signature)||void 0===a?void 0:a.inputs)||void 0===i?void 0:i[n])||void 0===s?void 0:s.resourceId;return t[n]=null!=o?this.resourceIdToCapturedInput[o]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const a=t[n[r]];this.resourceIdToCapturedInput[a.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&mA(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function NJ(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==n&&(n={}),n.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${kJ}${xJ}`}(e));const a=new CJ(e,n,r);return await a.load(),a}function IJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(LJ(e)){const a=Array.isArray(e)?[]:{};r.add(e);for(const i in e){const s=IJ(e[i],t,n,r);a[i]=s}return r.delete(e),e.__proto__&&(a.__proto__=e.__proto__),a}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,a.value),a.value}function SJ(e){return MJ(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:EJ)}function MJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(LJ(r)){const a=Array.isArray(r)?[]:{};n.add(r);for(const i in r){const r=e.map((e=>e[i])),s=MJ(r,t,n);a[i]=s}return n.delete(r),a}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return a.value}function EJ(e){return null===e?null:LJ(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function LJ(e){let t=!1;if(wS().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:r}=n(551);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof MT)&&!(e instanceof Promise)&&!t)}function TJ(e){return function(e,t){return IJ(e,t)}(e,AJ)}function AJ(e){return e instanceof MT?{value:e.clone(),recurse:!1}:LJ(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class DJ{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class RJ extends DJ{constructor(){super(RJ.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function jJ(e){return new FJ(e)}function OJ(e,t){return new JJ(e,t)}RJ.INITIAL_CAPACITY=32;class _J{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new GJ(this,e)}filter(e){return new WJ(this,e)}map(e){return new VJ(this,e)}mapAsync(e){return new HJ(this,e)}serialMapAsync(e){return new HJ(this,e).serial()}flatmap(e){return new QJ(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new UJ(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:EJ;return this.rowMajorBatch(e,t).map((e=>SJ(e,n)))}concatenate(e,t){return new JJ(new $J([this,e]),t)}take(e){return e<0||null==e?this:new BJ(this,e)}skip(e){return e<0||null==e?this:new PJ(this,e)}prefetch(e){return new qJ(this,e)}shuffle(e,t){return new KJ(this,e,t)}serial(){return new zJ(this)}}class $J extends _J{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:TJ(e),done:!1}}}class FJ extends _J{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(Lae){throw Lae.message=`Error thrown while iterating through a dataset: ${Lae.message}`,Lae}}}class zJ extends _J{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class PJ extends _J{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;mA(e.value)}return this.upstream.next()}}class BJ extends _J{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class UJ extends _J{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class WJ extends _J{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;mA(e.value)}}}class VJ extends _J{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=UT(e.value),n=this.transform(e.value),r=UT(n);for(const a of t)BT(a,r)||a.dispose();return{value:n,done:!1}}}class GJ extends _J{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(Lae){if(!this.handler(Lae))return{value:null,done:!0}}}}class HJ extends _J{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=UT(e.value),n=await this.transform(e.value),r=UT(n);for(const a of t)BT(a,r)||a.dispose();return{value:n,done:!1}}}class YJ extends _J{constructor(){super(),this.outputQueue=new RJ,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class QJ extends YJ{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=UT(e.value),n=this.transform(e.value),r=UT(n);this.outputQueue.pushAll(n);for(const a of t)BT(a,r)||a.dispose();return!0}}class JJ extends _J{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var ZJ;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(ZJ||(ZJ={}));class qJ extends _J{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new DJ(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class KJ extends qJ{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=O_.alea(n||uT().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class XJ{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return PI(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),eZ((async()=>(await n.iterator()).columnMajorBatch(e,t,tZ)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,eZ((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,eZ((async()=>(await t.iterator()).filter((t=>pA((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return eZ((async()=>(await t.iterator()).map((t=>pA((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return eZ((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return eZ((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,eZ((async()=>OJ(jJ((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,eZ((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,a=O_.alea(t||uT().toString());return eZ((async()=>{let t=a.int32();return n&&(t+=a.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,eZ((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function eZ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends XJ{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function tZ(e){if(null===e)return null;const t=e[0];if(null==(n=t)||function(e){return null===e||"object"!==typeof e&&"function"!==typeof e}(n)||Array.isArray(n)||"object"===typeof n&&n instanceof MT||hT(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof MT?w$(e):uA(e)}(e),recurse:!1}}var n;return{value:null,recurse:!0}}XJ.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function nZ(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&PI("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const rZ=P$;class aZ extends jI{nextDataId(){return aZ.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new RI(this,dA())}write(e,t,n){this.firstUse&&(this.firstUse=!1,wS().get("IS_NODE")&&_L("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&nS(n[0])){const a=n.map((e=>fT(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return zz(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>dT(e)));return kD(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return kD(e.shape,e.dtype,t)}makeOutput(e,t,n){return dA().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=uT();e();return{kernelMs:uT()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){nZ([e],"where");const t=this.readSync(e.dataId);return rZ(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}aZ.nextDataId=0;function iZ(e){return(t,n,r)=>{const a=XI(n,t.length);for(let i=0;i<t.length;++i)a[i]=e(t[i],r);return a}}function sZ(e,t,n){return oZ(e,iZ(t),n)}function oZ(e,t,n){return r=>{let{inputs:a,attrs:i,backend:s}=r;const{x:o}=a;nZ(o,e);const l=s,u=l.data.get(o.dataId).values;let c;if("string"===o.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=vP(u)}else c=u;const f=n||o.dtype,d=t(c,f,i);return l.makeTensorInfo(o.shape,f,d)}}bA("cpu",(()=>new aZ),1);const lZ=sZ(CM,(e=>e>=0?e:Math.exp(e)-1)),uZ={kernelName:CM,backendName:"cpu",kernelFunc:lZ};function cZ(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const fZ={kernelName:PM,backendName:"cpu",kernelFunc:cZ};function dZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r;nZ([a],"leakyRelu");const s=WI(a.shape),o=n.data.get(a.dataId).values,l=KI("float32",s);for(let u=0;u<o.length;u++)l[u]=o[u]<0?i*o[u]:o[u];return n.makeTensorInfo(a.shape,"float32",l)}const hZ={kernelName:HM,backendName:"cpu",kernelFunc:dZ};function pZ(e){return(t,n,r,a,i)=>{const s=ZD(t,n),o=s.length,l=oS(s),u=KI(i,WI(s)),c=t.length,f=n.length,d=oS(t),h=oS(n),p=QD(t,s),m=QD(n,s);if(p.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],a[g%a.length]);else for(let g=0;g<u.length;++g){const t=mS(g,o,l),n=t.slice(-c);p.forEach((e=>n[e]=0));const i=pS(n,c,d),s=t.slice(-f);m.forEach((e=>s[e]=0));const y=pS(s,f,h);u[g]=e(r[i],a[y])}return[u,s]}}const mZ=pZ(((e,t)=>e<0?t*e:e));function gZ(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t;nZ([r,a],"prelu");const i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,[o,l]=mZ(r.shape,a.shape,i,s,"float32");return n.makeTensorInfo(l,"float32",o)}const yZ={kernelName:ME,backendName:"cpu",kernelFunc:gZ},bZ=sZ(OE,(e=>Math.max(0,e))),vZ={kernelName:OE,backendName:"cpu",kernelFunc:bZ},wZ=sZ(BE,(e=>Math.min(Math.max(0,e),6))),xZ={kernelName:BE,backendName:"cpu",kernelFunc:wZ},kZ=iZ((e=>1/(1+Math.exp(-e)))),CZ=sZ(eL,(e=>1/(1+Math.exp(-e)))),NZ={kernelName:eL,backendName:"cpu",kernelFunc:CZ};function IZ(e,t,n,r,a){if("linear"===n)return cZ({inputs:{x:t},backend:e});if("relu"===n)return bZ({inputs:{x:t},backend:e});if("elu"===n)return lZ({inputs:{x:t},backend:e});if("relu6"===n)return wZ({inputs:{x:t},backend:e});if("prelu"===n)return gZ({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return dZ({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return CZ({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function SZ(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=n.makeTensorInfo(r.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",s)},o}const MZ={kernelName:qS,backendName:"cpu",kernelFunc:SZ};function EZ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return SZ({inputs:{real:EZ(e,t,"float32"),imag:EZ(e,t,"float32")},backend:e})}const r=fS(WI(t),n);return e.makeTensorInfo(t,n,r)}function LZ(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const TZ={kernelName:RE,backendName:"cpu",kernelFunc:LZ};function AZ(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=lT([0],n),[a,i]=pZ(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[i,"bool",a]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function DZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===a.dtype)return cZ({inputs:{x:a},backend:n});const e=EZ(n,a.shape,a.dtype),t=DZ({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),r=SZ({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===a.dtype){const e=LZ({inputs:{input:a},backend:n}),t=DZ({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!eS(a.dtype,i)){const e=cZ({inputs:{x:a},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const s=n.data.get(a.dataId).values,[o,l,u]=AZ(s,a.shape,a.dtype,i);return n.makeTensorInfo(o,l,u)}const RZ={kernelName:QS,backendName:"cpu",kernelFunc:DZ};function jZ(e,t,n,r){return null==n?n=>{let{inputs:a,backend:i}=n;const{a:s,b:o}=a,l=i;nZ([s,o],e);const u=l.data.get(s.dataId).values,c=l.data.get(o.dataId).values,f="string"===s.dtype?vP(u):u,d="string"===s.dtype?vP(c):c,h=r||s.dtype,[p,m]=t(s.shape,o.shape,f,d,h);return l.makeTensorInfo(m,h,p)}:e=>{let{inputs:a,backend:i}=e;const{a:s,b:o}=a,l=i;if("complex64"===s.dtype||"complex64"===o.dtype){const e=DZ({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,a=t.complexTensorInfos.imag,i=l.data.get(r.dataId).values,u=l.data.get(a.dataId).values,c=DZ({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),f=l.data.get(c.dataId),d=f.complexTensorInfos.real,h=f.complexTensorInfos.imag,p=l.data.get(d.dataId).values,m=l.data.get(h.dataId).values,[g,y,b]=n(s.shape,o.shape,i,u,p,m),v=l.makeTensorInfo(b,"float32",g),w=l.makeTensorInfo(b,"float32",y),x=SZ({inputs:{real:v,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(w),x}{const e=l.data.get(s.dataId).values,n=l.data.get(o.dataId).values,a=r||s.dtype,[i,u]=t(s.shape,o.shape,e,n,a);return l.makeTensorInfo(u,a,i)}}}function OZ(e){return(t,n,r,a,i,s)=>{const o=ZD(t,n),l=WI(o),u=o.length,c=oS(o),f=KI("float32",l),d=KI("float32",l),h=QD(t,o),p=QD(n,o),m=zz(r,a),g=zz(i,s),y=t.length,b=oS(t),v=n.length,w=oS(n);if(h.length+p.length===0)for(let x=0;x<f.length;x++){const t=x%m.length,n=x%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);f[x]=r.real,d[x]=r.imag}else for(let x=0;x<f.length;x++){const t=mS(x,u,c),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=pS(n,y,b),a=t.slice(-v);p.forEach((e=>a[e]=0));const i=pS(a,v,w),s=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);f[x]=s.real,d[x]=s.imag}return[f,d,o]}}const _Z=pZ(((e,t)=>e+t)),$Z=OZ(((e,t,n,r)=>({real:e+n,imag:t+r}))),FZ=jZ(ES,_Z,$Z),zZ={kernelName:ES,backendName:"cpu",kernelFunc:FZ};function PZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=WI(a.shape),o=JI(i,s),l=WI(o);PI(s===l,(()=>`The new shape (${o}) has ${l} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(a.dataId);const u=n.data.get(a.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=o,t.shape=o}return{dataId:a.dataId,shape:o,dtype:a.dtype}}const BZ={kernelName:_E,backendName:"cpu",kernelFunc:PZ};function UZ(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i}=t,{transposeA:s,transposeB:o}=r;nZ([a,i],"matMul");const l=a.shape.length,u=i.shape.length,c=s?a.shape[l-2]:a.shape[l-1],f=o?i.shape[u-1]:i.shape[u-2],d=s?a.shape[l-1]:a.shape[l-2],h=o?i.shape[u-2]:i.shape[u-1],p=a.shape.slice(0,-2),m=i.shape.slice(0,-2),g=WI(p),y=WI(m),b=ZD(a.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);PI(c===f,(()=>`Error in matMul: inner shapes (${c}) and (${f}) of Tensors with shapes ${a.shape} and ${i.shape} and transposeA=${s} and transposeB=${o} must match.`));const v=o?[y,h,f]:[y,f,h],w=PZ({inputs:{x:a},backend:n,attrs:{shape:s?[g,c,d]:[g,d,c]}}),x=PZ({inputs:{x:i},backend:n,attrs:{shape:v}}),k=s?w.shape[1]:w.shape[2],C=s?w.shape[2]:w.shape[1],N=o?x.shape[1]:x.shape[2],I=Math.max(g,y),S=n.data.get(w.dataId).values,M=n.data.get(x.dataId).values,E=oS(w.shape),L=oS(x.shape),[T,A,D]=s?[E[0],1,E[1]]:[E[0],E[1],1],[R,j,O]=o?[1,L[1],L[0]]:[L[1],1,L[0]],_=C*N,$=kD([I,C,N],w.dtype),F=$.values,z=n.blockSize;for(let P=0;P<I;P++){const e=P%g,t=P%y;for(let n=0;n<C;n+=z){const r=Math.min(n+z,C);for(let a=0;a<N;a+=z){const i=Math.min(a+z,N);for(let s=0;s<k;s+=z){const o=Math.min(s+z,k);for(let l=n;l<r;l++)for(let n=a;n<i;n++){let r=0;for(let a=s;a<o;a++){r+=S[e*T+l*A+a*D]*M[a*R+n*j+t*O]}F[P*_+(l*N+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(x),n.makeTensorInfo(b,$.dtype,$.values)}const WZ={kernelName:WS,backendName:"cpu",kernelFunc:UZ};const VZ={kernelName:RL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;let d,h,p;const m=[];d=UZ({inputs:{a:a,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),s&&(h=FZ({inputs:{a:d,b:s},backend:n}),m.push(d),d=h),c&&(p=IZ(n,d,c,o,f),m.push(d),d=p);for(const g of m)n.disposeIntermediateTensorInfo(g);return d}};function GZ(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const HZ={kernelName:IS,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;nZ(t,"abs");let r=new Float32Array(WI(t.shape));return r=GZ(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},YZ=sZ(SS,(e=>Math.acos(e))),QZ={kernelName:SS,backendName:"cpu",kernelFunc:YZ},JZ=sZ(MS,(e=>Math.acosh(e))),ZZ={kernelName:MS,backendName:"cpu",kernelFunc:JZ};const qZ={kernelName:LS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;nZ(t,"addN");const a=r.map((e=>n.data.get(e.dataId).values)),i=kD(r[0].shape,r[0].dtype),s=i.values;for(let o=0;o<r.length;o++){const e=a[o];for(let t=0;t<s.length;t++)s[t]+=e[t]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function KZ(e,t,n,r,a){const i=t.length,s=WI(t),o=oS(t),l=oS(a),u=KI(n,WI(a));for(let c=0;c<s;++c){const t=mS(c,i,o),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[pS(n,i,l)]=e[c]}return u}function XZ(e){const{inputs:t,attrs:n,backend:r}=e,{x:a}=t,{perm:i}=n;nZ(a,"transpose");const s=a.shape.length,o=new Array(s);for(let u=0;u<o.length;u++)o[u]=a.shape[i[u]];const l=KZ(r.data.get(a.dataId).values,a.shape,a.dtype,i,o);return{dataId:r.write(l,o,a.dtype),shape:o,dtype:a.dtype}}const eq={kernelName:IL,backendName:"cpu",kernelFunc:XZ};const tq={kernelName:TS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;nZ(a,"all");const o=ZI(i,a.shape);let l=o;const u=bO(l,a.shape.length);let c=a;null!=u&&(c=XZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wO(l.length,a.shape.length)),yO("all",l,c.shape.length);const[f,d]=mO(c.shape,l),h=WI(d),p=fS(WI(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}p[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(s){const e=PZ({inputs:{x:g},backend:n,attrs:{shape:gO(f,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const nq={kernelName:AS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;nZ(a,"any");const o=ZI(i,a.shape);let l=o;const u=bO(l,a.shape.length);let c=a;null!=u&&(c=XZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wO(l.length,a.shape.length)),yO("any",l,c.shape.length);const[f,d]=mO(c.shape,l),h=WI(d),p=fS(WI(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}p[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(s){const e=PZ({inputs:{x:g},backend:n,attrs:{shape:gO(f,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const rq={kernelName:DS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nZ(a,"argMax");let s=ZI(i,a.shape);const o=bO(s,a.shape.length);let l=a;const u=[];null!=o&&(l=XZ({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=wO(s.length,l.shape.length)),s=[s[0]],yO("argMax",s,l.shape.length);const[c,f]=mO(l.shape,s),d=fS(WI(c),"int32"),h=WI(f),p=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*h;let t=p[e],n=0;for(let r=0;r<h;++r){const a=p[e+r];a>t&&(t=a,n=r)}d[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}};const aq={kernelName:RS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;nZ(a,"argMin");let s=ZI(i,a.shape);const o=bO(s,a.shape.length);let l=a;const u=[];null!=o&&(l=XZ({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=wO(s.length,l.shape.length)),s=[s[0]],yO("argMin",s,l.shape.length);const[c,f]=mO(l.shape,s),d=fS(WI(c),"int32"),h=WI(f),p=n.data.get(l.dataId).values;for(let m=0;m<d.length;++m){const e=m*h;let t=p[e],n=0;for(let r=0;r<h;++r){const a=p[e+r];a<t&&(t=a,n=r)}d[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",d)}},iq=sZ(jS,(e=>Math.asin(e))),sq={kernelName:jS,backendName:"cpu",kernelFunc:iq},oq=sZ(OS,(e=>Math.asinh(e))),lq={kernelName:OS,backendName:"cpu",kernelFunc:oq},uq=sZ(_S,(e=>Math.atan(e))),cq={kernelName:_S,backendName:"cpu",kernelFunc:uq},fq=pZ(((e,t)=>Math.atan2(e,t))),dq=jZ(FS,fq),hq={kernelName:FS,backendName:"cpu",kernelFunc:dq},pq=sZ($S,(e=>Math.atanh(e))),mq={kernelName:$S,backendName:"cpu",kernelFunc:pq};function gq(e,t,n,r,a,i){const s=a.strideHeight,o=a.strideWidth,l=a.dilationHeight,u=a.dilationWidth,c=a.effectiveFilterHeight,f=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,p="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=kD(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],v=a.outShape[3];for(let w=0;w<a.batchSize;++w){const t=w*y,n=w*r[0];for(let m=0;m<a.inChannels;++m)for(let y=0;y<a.outHeight;++y){const w=y*s-d,x=Math.max(0,w),k=Math.min(a.inHeight,c+w),C=t+y*b;for(let t=0;t<a.outWidth;++t){const s=t*o-h,c=Math.max(0,s),d=Math.min(a.inWidth,f+s);let y=p,b=0,w=0;for(let t=x;t<k;t+=l){const a=n+t*r[1];for(let t=c;t<d;t+=u){const n=e[a+t*r[2]+m];"max"===i&&n>y?y=n:"avg"===i&&(b+=n,w++)}if(isNaN(y))break}g[C+t*v+m]="avg"===i?b/w:y}}}return m}function yq(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=kD(r.outShape,"int32"),o=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,m=kD(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*o-h;let y=n;for(;y<0;)y+=u;const b=Math.min(r.inHeight,f+n);for(let o=0;o<r.outWidth;++o){const f=o*l-p;let h=f;for(;h<0;)h+=c;const v=Math.min(r.inWidth,d+f);let w=Number.NEGATIVE_INFINITY,x=-1;for(let t=y;t<b;t+=u){const s=t-n;for(let n=h;n<v;n+=c){const o=n-f,l=m.get(g,t,n,e);l>w&&(w=l,x=a?i?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:s*d+o)}}s.set(x,g,t,o,e)}}return s}function bq(e,t,n,r,a,i){const s=a.strideDepth,o=a.strideHeight,l=a.strideWidth,u=a.dilationDepth,c=a.dilationHeight,f=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,p=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=kD(a.outShape,n),w=v.values,x=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],k=a.outShape[2]*a.outShape[3]*a.outShape[4],C=a.outShape[3]*a.outShape[4],N=a.outShape[4];for(let I=0;I<a.batchSize;++I){const t=I*x,n=I*r[0];for(let v=0;v<a.inChannels;++v)for(let x=0;x<a.outDepth;++x){const I=x*s-m;let S=I;for(;S<0;)S+=u;const M=Math.min(a.inDepth,d+I),E=t+x*k;for(let t=0;t<a.outHeight;++t){const s=t*o-g;let d=s;for(;d<0;)d+=c;const m=Math.min(a.inHeight,h+s),x=E+t*C;for(let t=0;t<a.outWidth;++t){const s=t*l-y;let o=s;for(;o<0;)o+=f;const h=Math.min(a.inWidth,p+s),g=x+t*N;let k=b,C=0,I=0;for(let t=S;t<M;t+=u){const a=n+t*r[1];for(let t=d;t<m;t+=c){const n=a+t*r[2];for(let t=o;t<h;t+=f){const a=e[n+t*r[3]+v];if("max"===i&&a>k?k=a:"avg"===i&&(C+=a,I++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}w[g+v]="avg"===i?C/Math.max(I,1):k}}}}return v}const vq={kernelName:zS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nZ(a,"avgPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;PI(mj(s,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const u=ij(a.shape,i,s,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&VI(u.inShape,u.outShape))c=cZ({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=oS(a.shape),r=gq(e,a.shape,a.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const wq={kernelName:BS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r;nZ(a,"avgPool3d");const c=sj(a.shape,i,s,1,o,l,u),f=bq(n.data.get(a.dataId).values,a.shape,a.dtype,oS(a.shape),c,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}};const xq={kernelName:US,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r;nZ([a,i],"avgPool3DGrad");const c=sj(i.shape,s,o,1,l,u),f=c.strideDepth,d=c.strideHeight,h=c.strideWidth,p=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,b=c.dilationHeight,v=c.dilationWidth,w=c.effectiveFilterDepth,x=c.effectiveFilterHeight,k=c.effectiveFilterWidth,C=w-1-c.padInfo.front,N=k-1-c.padInfo.left,I=x-1-c.padInfo.top,S=kD(i.shape,"float32"),M=1/(p*m*g),E=n.bufferSync(a);for(let L=0;L<c.batchSize;++L)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-C,i=n-I,s=r-N;let o=0;for(let t=0;t<w;t+=y){const n=(a+t)/f;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let t=0;t<x;t+=b){const r=(i+t)/d;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let t=0;t<k;t+=v){const a=(s+t)/h;if(a<0||a>=c.outWidth||Math.floor(a)!==a)continue;o+=E.get(L,n,r,a,e)}}}S.set(o*M,L,t,n,r,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const kq={kernelName:PS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;nZ([a,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,c=ij(s.shape,o,l,1,u),f=c.strideHeight,d=c.strideWidth,h=c.filterHeight,p=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,b=c.effectiveFilterWidth,v=b-1-c.padInfo.left,w=y-1-c.padInfo.top,x=kD(s.shape,"float32"),k=1/(h*p),C=n.data.get(a.dataId).values,N=kD(a.shape,"float32",C);for(let I=0;I<c.batchSize;++I)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inHeight;++t)for(let n=0;n<c.inWidth;++n){const r=t-w,a=n-v;let i=0;for(let t=0;t<y;t+=m){const n=(r+t)/f;if(!(n<0||n>=c.outHeight||Math.floor(n)!==n))for(let t=0;t<b;t+=g){const r=(a+t)/d;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;i+=N.get(I,n,r,e)}}x.set(i*k,I,t,n,e)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const Cq={kernelName:OM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,scale:i,offset:s,mean:o,variance:l}=t;PI(o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),PI(null==s||o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),PI(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),nZ([a,o,l,i,s],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,d=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),p=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=p.length,y=h.length,b=d.length,v=f.length;let w=0,x=0,k=0,C=0;for(let N=0;N<c.length;++N)m[N]=p[w++]+(c[N]-f[x++])*h[k++]/Math.sqrt(d[C++]+u),w>=g&&(w=0),x>=v&&(x=0),k>=y&&(k=0),C>=b&&(C=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function Nq(e,t,n,r,a){const i=BR(r,t,n),s=WI(n),o=oS(r);if(i){const n=UR(t,o);return"string"===a?e.slice(n,n+s):e.subarray(n,n+s)}const l=kD(r,a,"string"===a?vP(e):e),u=kD(n,a);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map(((e,n)=>e+t[n]));u.set(l.get(...n),...e)}return"string"===a?wP(u.values):u.values}function Iq(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r;nZ(a,"slice");const[o,l]=WR(a,i,s);LR(a,o,l);const u=Nq(n.data.get(a.dataId).values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,u)}const Sq={kernelName:ZE,backendName:"cpu",kernelFunc:Iq};const Mq={kernelName:VS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;nZ([a],"batchToSpaceND");const o=i.reduce(((e,t)=>e*t)),l=Iz(a.shape,i,o),u=Sz(l.length,i.length),c=Mz(a.shape,i,o),f=Ez(s,i.length),d=Lz(c,s,i.length),h=PZ({inputs:{x:a},backend:n,attrs:{shape:l}}),p=XZ({inputs:{x:h},backend:n,attrs:{perm:u}}),m=PZ({inputs:{x:p},backend:n,attrs:{shape:c}}),g=Iq({inputs:{x:m},backend:n,attrs:{begin:f,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};function Eq(e,t,n,r,a){const i=WI(r),s=fS(a,n);for(let o=0;o<e.length;o++){const n=e[o];if(n<0)throw new Error("Input x must be non-negative!");n>=a||(s[n]+=i>0?t[o]:1)}return s}function Lq(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=e.shape[0],i=e.shape[1],s=kD([a,n],t.dtype);for(let o=0;o<a;o++)for(let a=0;a<i;a++){const i=e.get(o,a);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?s.set(1,o,i):t.size>0?s.set(s.get(o,i)+t.get(o,a),o,i):s.set(s.get(o,i)+1,o,i))}return s}const Tq={kernelName:GS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=Eq(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,o)}},Aq=pZ(((e,t)=>e&t)),Dq=jZ(HS,Aq),Rq={kernelName:HS,backendName:"cpu",kernelFunc:Dq};const jq={kernelName:YS,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,o=ZD(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},Oq=iZ((e=>Math.ceil(e))),_q=oZ(JS,Oq),$q={kernelName:JS,backendName:"cpu",kernelFunc:_q},Fq=sZ(ZS,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),zq={kernelName:ZS,backendName:"cpu",kernelFunc:Fq},Pq={kernelName:KS,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(WI(t.shape)),a=n.data.get(t.dataId),i=a.complexTensorInfos.real,s=a.complexTensorInfos.imag,o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values;for(let u=0;u<o.length;u++){const e=o[u],t=l[u];r[u]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function Bq(e,t,n,r){const a=XI(n,WI(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=WI(e.shape);a.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const i="string"===n?vP(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const o=n*t[1]+r;for(let t=0;t<e.shape[1];++t)a[o+t]=i[s++]}r+=e.shape[1]}))}return a}function Uq(e){const{inputs:t,backend:n}=e,{input:r}=t,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}const Wq={kernelName:UM,backendName:"cpu",kernelFunc:Uq};function Vq(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=ZI(a,t[0].shape)[0],s=t.map((e=>e.shape));mz(s,i);let o=gz(t.map((e=>e.shape)),i);if(0===WI(o))return n.makeTensorInfo(o,t[0].dtype,[]);const l=t.filter((e=>WI(e.shape)>0));if(1===l.length)return cZ({inputs:{x:l[0]},backend:n});if("complex64"===l[0].dtype){const e=l.map((e=>LZ({inputs:{input:e},backend:n}))),t=l.map((e=>Uq({inputs:{input:e},backend:n}))),r=Vq({inputs:e,backend:n,attrs:{axis:i}}),a=Vq({inputs:t,backend:n,attrs:{axis:i}}),s=SZ({inputs:{real:r,imag:a},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),s}const u=l.map((e=>{const t=WI(e.shape.slice(i));return PZ({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=u.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));o=gz(u.map((e=>e.shape)),1);const f=1===u[0].shape[0],d=Bq(c,o,t[0].dtype,f),h=gz(l.map((e=>e.shape)),i),p=n.makeTensorInfo(h,t[0].dtype,d);return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const Gq={kernelName:XS,backendName:"cpu",kernelFunc:Vq};function Hq(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r;nZ([a,i],"conv2d");const f=yj(l),d=oj(a.shape,i.shape,s,u,o,c,!1,f),h=d.filterHeight,p=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,b=d.padInfo.top,v="channelsLast"===d.dataFormat,w=new CT(d.outShape,a.dtype),x=oS(a.shape),k=oS(i.shape),C=x[0],N=v?x[1]:x[2],I=v?x[2]:1,S=v?1:x[1],M=w.strides[0],E=v?w.strides[1]:w.strides[2],L=v?w.strides[2]:1,T=v?1:w.strides[1],A=n.data.get(a.dataId).values,D=n.data.get(i.dataId).values,R=w.values;for(let j=0;j<d.batchSize;++j){const e=j*C,t=j*M;for(let n=0;n<d.outHeight;++n){const r=t+n*E,a=n*d.strideHeight-b;for(let t=0;t<h;++t){const n=a+t*m;if(n<0||n>=d.inHeight)continue;const i=t*k[0],s=e+n*N;for(let e=0;e<d.outWidth;++e){const t=r+e*L,n=e*d.strideWidth-y;for(let e=0;e<p;++e){const r=n+e*g;if(r<0||r>=d.inWidth)continue;const a=s+r*I;let o=i+e*k[1];for(let e=0;e<d.inChannels;++e){const n=A[a+e*S];for(let e=0;e<d.outChannels;++e)R[t+e*T]+=n*D[o+e];o+=d.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,R)}const Yq={kernelName:eM,backendName:"cpu",kernelFunc:Hq};const Qq={kernelName:tM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;nZ([a,i],"conv2dBackpropFilter");const f=yj(l),d=oj(a.shape,c,s,1,o,u,!1,f),{strideHeight:h,strideWidth:p,filterHeight:m,filterWidth:g}=d,y="channelsLast"===d.dataFormat,b=new CT(d.filterShape,"float32"),v=d.padInfo.left,w=d.padInfo.top,x=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,C=new CT(a.shape,a.dtype,x),N=new CT(i.shape,i.dtype,k);for(let I=0;I<m;++I){const e=Math.max(0,Math.ceil((w-I)/h)),t=Math.min(d.outHeight,(d.inHeight+w-I)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((v-n)/p)),a=Math.min(d.outWidth,(d.inWidth+v-n)/p);for(let i=0;i<d.inChannels;++i)for(let s=0;s<d.outChannels;++s){let o=0;for(let l=0;l<d.batchSize;++l)for(let u=e;u<t;++u){const e=I+u*h-w;for(let t=r;t<a;++t){const r=n+t*p-v;o+=y?C.get(l,e,r,i)*N.get(l,u,t,s):C.get(l,i,e,r)*N.get(l,s,u,t)}}b.set(o,I,n,i,s)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const Jq={kernelName:nM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r;nZ([a,i],"conv2dBackpropInput");const f=oS(i.shape),d=oS(a.shape);let h=yj(u);const p=oj(s,i.shape,o,1,l,c,!1,h),m=new CT(p.inShape,"float32"),g=m.values,y=n.data.get(a.dataId).values,b=n.data.get(i.dataId).values,[v,w,x]=f,{batchSize:k,filterHeight:C,filterWidth:N,inChannels:I,inHeight:S,inWidth:M,outChannels:E,outHeight:L,outWidth:T,strideHeight:A,strideWidth:D}=p;h=p.dataFormat;const R=C-1-p.padInfo.top,j=N-1-p.padInfo.left,O="channelsLast"===h,_=m.strides[0],$=O?m.strides[1]:m.strides[2],F=O?m.strides[2]:1,z=O?1:m.strides[1],P=d[0],B=O?d[1]:d[2],U=O?d[2]:1,W=O?1:d[1];for(let V=0;V<k;++V)for(let e=0;e<I;++e)for(let t=0;t<S;++t){const n=t-R,r=Math.max(0,Math.ceil(n/A)),a=Math.min(L,(C+n)/A);for(let i=0;i<M;++i){const s=i-j,o=Math.max(0,Math.ceil(s/D)),l=Math.min(T,(N+s)/D);let u=0;for(let t=r;t<a;++t){const r=t*A-n;for(let n=o;n<l;++n){const a=P*V+B*t+U*n,i=v*(C-1-r)+w*(N-1-(n*D-s))+x*e;for(let e=0;e<E;++e){u+=y[a+W*e]*b[i+e]}}}g[_*V+$*t+F*i+z*e]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const Zq={kernelName:rM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r;nZ([a,i],"conv3d");const u=lj(a.shape,i.shape,s,l,o),{filterDepth:c,filterHeight:f,filterWidth:d,dilationDepth:h,dilationHeight:p,dilationWidth:m,padInfo:g}=u,y=g.front,b=g.left,v=g.top,w=new CT(u.outShape,a.dtype),x=n.data.get(a.dataId).values,k=n.data.get(i.dataId).values,C=w.values,N=oS(a.shape),I=oS(i.shape);for(let S=0;S<u.batchSize;++S){const e=S*N[0],t=S*w.strides[0];for(let n=0;n<u.outDepth;++n){const r=t+n*w.strides[1],a=n*u.strideDepth-y;for(let t=0;t<c;++t){const n=a+t*h;if(n<0||n>=u.inDepth)continue;const i=t*I[0],s=e+n*N[1];for(let e=0;e<u.outHeight;++e){const t=r+e*w.strides[2],n=e*u.strideHeight-v;for(let e=0;e<f;++e){const r=n+e*p;if(r<0||r>=u.inHeight)continue;const a=i+e*I[1],o=s+r*N[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-b;for(let e=0;e<d;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const i=a+e*I[2],s=o+t*u.inChannels;let l=i;for(let e=0;e<u.inChannels;++e){const t=x[s+e];for(let e=0;e<u.outChannels;++e)C[n+e]+=t*k[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const qq={kernelName:aM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r;nZ([a,i],"conv3dBackpropFilterV2");const u=oS(a.shape),c=oS(i.shape),f=lj(a.shape,l,s,1,o),d=f.strideDepth,h=f.strideHeight,p=f.strideWidth,m=f.filterDepth,g=f.filterHeight,y=f.filterWidth,b=new CT(f.filterShape,"float32"),v=b.values,[w,x,k,C]=b.strides,N=n.data.get(i.dataId).values,[I,S,M,E]=c,L=n.data.get(a.dataId).values,[T,A,D,R]=u,j=f.padInfo.front,O=f.padInfo.left,_=f.padInfo.top;for(let $=0;$<m;++$){const e=Math.max(0,Math.ceil((j-$)/d)),t=Math.min(f.outDepth,(f.inDepth+j-$)/d),n=$*w;for(let r=0;r<g;++r){const a=Math.max(0,Math.ceil((_-r)/h)),i=Math.min(f.outHeight,(f.inHeight+_-r)/h),s=r*x+n;for(let n=0;n<y;++n){const o=Math.max(0,Math.ceil((O-n)/p)),l=Math.min(f.outWidth,(f.inWidth+O-n)/p),u=n*k+s;for(let s=0;s<f.inChannels;++s){const c=s*C+u;for(let u=0;u<f.outChannels;++u){let m=0;for(let c=0;c<f.batchSize;++c){const f=c*T,g=c*I;for(let c=e;c<t;++c){const e=($+c*d-j)*A+f,t=c*S+g;for(let c=a;c<i;++c){const a=(r+c*h-_)*D+e,i=c*M+t;for(let e=o;e<l;++e){const t=e*E+i;m+=L[(n+e*p-O)*R+a+s]*N[t+u]}}}}v[c+u]=m}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const Kq={kernelName:iM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r;nZ([a],"conv3dBackpropInputV2");const u=oS(a.shape),c=oS(i.shape),f=lj(l,i.shape,o,1,s),d=new CT(f.inShape,"float32"),h=d.values,[p,m,g,y]=d.strides,b=n.data.get(a.dataId).values,[v,w,x,k]=u,C=n.data.get(i.dataId).values,[N,I,S,M]=c,{batchSize:E,filterDepth:L,filterHeight:T,filterWidth:A,inChannels:D,inDepth:R,inHeight:j,inWidth:O,outChannels:_,outDepth:$,outHeight:F,outWidth:z,strideDepth:P,strideHeight:B,strideWidth:U}=f,W=L-1-f.padInfo.front,V=T-1-f.padInfo.top,G=A-1-f.padInfo.left;for(let H=0;H<E;++H)for(let e=0;e<D;++e)for(let t=0;t<R;++t){const n=t-W,r=Math.max(0,Math.ceil(n/P)),a=Math.min($,(L+n)/P);for(let i=0;i<j;++i){const s=i-V,o=Math.max(0,Math.ceil(s/B)),l=Math.min(F,(T+s)/B);for(let u=0;u<O;++u){const c=u-G,f=Math.max(0,Math.ceil(c/U)),d=Math.min(z,(A+c)/U);let E=0;for(let t=r;t<a;++t){const r=t*P-n;for(let n=o;n<l;++n){const a=n*B-s;for(let i=f;i<d;++i){const s=v*H+w*t+x*n+k*i,o=N*(L-1-r)+I*(T-1-a)+S*(A-1-(i*U-c))+M*e;for(let e=0;e<_;++e){E+=b[s+e]*C[o+e]}}}}h[p*H+m*t+g*i+y*u+e]=E}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}},Xq=sZ(sM,(e=>Math.cos(e))),eK={kernelName:sM,backendName:"cpu",kernelFunc:Xq},tK=sZ(oM,(e=>Math.cosh(e))),nK={kernelName:oM,backendName:"cpu",kernelFunc:tK};const rK={kernelName:cM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:u}=r,[c,f,d,h]=a.shape,p=i.shape[0],[m,g]=o,y=kD([p,m,g,h],"float32"),b=n.data.get(i.dataId).values,v=n.data.get(s.dataId).values,w=n.data.get(a.dataId).values,x=oS(a.shape),k=oS(y.shape);for(let C=0;C<p;C++){const e=4*C,t=b[e],n=b[e+1],r=b[e+2],a=b[e+3],i=v[C];if(i>=c)continue;const s=m>1?(r-t)*(f-1)/(m-1):0,o=g>1?(a-n)*(d-1)/(g-1):0;for(let c=0;c<m;c++){const e=m>1?t*(f-1)+c*s:.5*(t+r)*(f-1);if(e<0||e>f-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*k[2]+c*k[1]+C*k[0];y.values[n]=u}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),s=e-t;for(let e=0;e<g;e++){const l=g>1?n*(d-1)+e*o:.5*(n+a)*(d-1);if(l<0||l>d-1){for(let t=0;t<h;t++){const n=t+e*k[2]+c*k[1]+C*k[0];y.values[n]=u}continue}const f=Math.floor(l),p=Math.ceil(l),m=l-f;for(let n=0;n<h;n++){let a=n+f*x[2]+t*x[1]+i*x[0];const o=w[a];a=n+p*x[2]+t*x[1]+i*x[0];const l=w[a];a=n+f*x[2]+r*x[1]+i*x[0];const u=w[a];a=n+p*x[2]+r*x[1]+i*x[0];const d=o+(l-o)*m,h=u+(w[a]-u)*m;a=n+e*k[2]+c*k[1]+C*k[0],y.values[a]=d+(h-d)*s}}}else for(let t=0;t<g;++t){const r=g>1?n*(d-1)+t*o:.5*(n+a)*(d-1);if(r<0||r>d-1){for(let e=0;e<h;e++){const n=e+t*k[2]+c*k[1]+C*k[0];y.values[n]=u}continue}const s=Math.round(r),l=Math.round(e);for(let e=0;e<h;e++){const n=e+s*x[2]+l*x[1]+i*x[0],r=e+t*k[2]+c*k[1]+C*k[0];y.values[r]=w[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const aK={kernelName:lM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;nZ(a,"cumprod");const l=bO([i],a.shape.length);let u=a;null!=l&&(u=XZ({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=wO(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=_T(u.dtype,"int32"),d=cS(WI(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=o?(e,t)=>e+p-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=p)for(let e=0;e<p;e++){const t=m(y,e);if(0===e)d[t]=s?1:h[t];else{const n=m(y,e-1);d[t]=s?h[n]*d[n]:h[t]*d[n]}}const g=n.makeTensorInfo(u.shape,f,d);if(null!=l){const e=XZ({inputs:{x:g},backend:n,attrs:{perm:vO(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const iK={kernelName:uM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;nZ(a,"cumsum");const l=bO([i],a.shape.length);let u=a;null!=l&&(u=XZ({inputs:{x:a},backend:n,attrs:{perm:l}}));const c=wO(1,a.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const f=_T(u.dtype,"int32"),d=fS(WI(u.shape),f),h=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=o?(e,t)=>e+p-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=p)for(let e=0;e<p;e++){const t=m(y,e);if(0===e)d[t]=s?0:h[t];else{const n=m(y,e-1);d[t]=s?h[n]+d[n]:h[t]+d[n]}}const g=n.makeTensorInfo(u.shape,f,d);if(null!=l){const e=XZ({inputs:{x:g},backend:n,attrs:{perm:vO(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const sK={kernelName:fM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===a.shape.length){const e=Eq(n.data.get(a.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,e)}if(2===a.shape.length){const e=Lq(n.bufferSync(a),n.bufferSync(i),s,o);return n.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};const oK={kernelName:dM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r;PI("NHWC"===s,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`));const o=a.shape[0],l=a.shape[1],u=a.shape[2],c=a.shape[3],f=l*i,d=u*i,h=c/(i*i),p=n.data.get(a.dataId).values,m=new Float32Array(o*f*d*h);let g=0;for(let y=0;y<o;++y)for(let e=0;e<f;++e){const t=Math.floor(e/i),n=e%i;for(let e=0;e<d;++e){const r=Math.floor(e/i),a=(n*i+e%i)*h;for(let e=0;e<h;++e){const n=e+a+c*(r+u*(t+l*y));m[g++]=p[n]}}}return n.makeTensorInfo([o,f,d,h],a.dtype,m)}};function lK(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:u}=r;nZ([a,i],"depthwiseConv2DNative");const c=oS(a.shape),f=oS(i.shape);let d=l;null==d&&(d=[1,1]),PI(mj(s,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`));const h=oj(a.shape,i.shape,s,d,o,u,!0),{filterHeight:p,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:b}=h,v=b.left,w=b.top,x=h.outChannels/h.inChannels,k=new CT(h.outShape,a.dtype),C=n.data.get(a.dataId).values,N=n.data.get(i.dataId).values,I=k.values;for(let S=0;S<h.batchSize;++S){const e=S*c[0],t=S*k.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*k.strides[1],a=n*h.strideHeight-w;for(let t=0;t<p;++t){const n=a+t*g;if(n<0||n>=h.inHeight)continue;const i=t*f[0],s=e+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*k.strides[2],n=e*h.strideWidth-v;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=h.inWidth)continue;const a=i+e*f[1],o=s+r*h.inChannels;let l=t,u=a;for(let e=0;e<h.inChannels;++e){const t=C[o+e];for(let e=0;e<x;++e)I[l+e]+=t*N[u+e];l+=x,u+=x}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const uK={kernelName:hM,backendName:"cpu",kernelFunc:lK};const cK={kernelName:pM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r;nZ([a,i],"depthwiseConv2dNativeBackpropFilter");const f=oj(a.shape,c,s,o,l,u,!0),{strideHeight:d,strideWidth:h,filterHeight:p,filterWidth:m}=f,g=new CT(f.filterShape,"float32"),y=f.padInfo.left,b=f.padInfo.top,v=f.outChannels/f.inChannels,w=n.data.get(a.dataId).values,x=new CT(a.shape,a.dtype,w),k=n.data.get(i.dataId).values,C=new CT(i.shape,i.dtype,k);for(let N=0;N<p;++N){const e=Math.max(0,Math.ceil((b-N)/d)),t=Math.min(f.outHeight,(f.inHeight+b-N)/d);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/h)),a=Math.min(f.outWidth,(f.inWidth+y-n)/h);for(let i=0;i<f.outChannels;++i){const s=Math.trunc(i/v),o=i%v;let l=0;for(let u=0;u<f.batchSize;++u)for(let o=e;o<t;++o){const e=N+o*d-b;for(let t=r;t<a;++t){const r=n+t*h-y;l+=x.get(u,e,r,s)*C.get(u,o,t,i)}}g.set(l,N,n,s,o)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const fK={kernelName:mM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r;nZ([a,i],"depthwiseConv2DNativeBackpropInput");const f=oS(a.shape),d=oS(i.shape),h=oj(c,i.shape,s,o,l,u,!0),p=new CT(h.inShape,"float32"),m=p.values,[g,y,b]=p.strides,v=n.data.get(a.dataId).values,[w,x,k]=f,C=n.data.get(i.dataId).values,[N,I,S]=d,{batchSize:M,filterHeight:E,filterWidth:L,inChannels:T,inHeight:A,inWidth:D,outChannels:R,outHeight:j,outWidth:O,strideHeight:_,strideWidth:$}=h,F=E-1-h.padInfo.top,z=L-1-h.padInfo.left,P=R/T;for(let B=0;B<M;++B)for(let e=0;e<T;++e)for(let t=0;t<A;++t){const n=t-F,r=Math.max(0,Math.ceil(n/_)),a=Math.min(j,(E+n)/_);for(let i=0;i<D;++i){const s=i-z,o=Math.max(0,Math.ceil(s/$)),l=Math.min(O,(L+s)/$);let u=0;for(let t=r;t<a;++t){const r=t*_-n;for(let n=o;n<l;++n){const a=w*B+x*t+k*n,i=N*(E-1-r)+I*(L-1-(n*$-s))+S*e;for(let t=0;t<P;++t){u+=v[a+(e*P+t)]*C[i+t]}}}m[g*B+y*t+b*i+e]=u}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}};const dK={kernelName:gM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=WI(r.shape),i=n.data.get(r.dataId).values,s=kD([a,a],r.dtype),o=s.values;for(let u=0;u<i.length;u++)o[u*a+u]=i[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,s.dtype,s.values)}},hK={kernelName:yM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,u=n,c=u.data.get(a.dataId).values,f=a.shape.length,d=u.data.get(i.dataId).values,h=i.shape.length,{batchSize:p,inHeight:m,inWidth:g,inChannels:y,outHeight:b,outWidth:v,padInfo:w,strideHeight:x,strideWidth:k,filterHeight:C,filterWidth:N,dilationHeight:I,dilationWidth:S,outShape:M}=aj(a.shape,i.shape,s,o,"NHWC",l),E=WI(M),L=M.length,T=XI(a.dtype,E);for(let A=0;A<p;++A)for(let e=0;e<b;++e){const t=e*x-w.top;for(let n=0;n<v;++n){const r=n*k-w.left;for(let s=0;s<y;++s){let o=Number.MIN_SAFE_INTEGER;for(let e=0;e<C;++e){const n=t+e*I;if(n>=0&&n<m)for(let t=0;t<N;++t){const l=r+t*S;if(l>=0&&l<g){const r=pS([A,n,l,s],f,oS(a.shape)),u=pS([e,t,s],h,oS(i.shape)),p=c[r]+d[u];p>o&&(o=p)}}}T[pS([A,e,n,s],L,oS(M))]=o}}}return{dataId:u.write(lT(T,a.dtype),M,a.dtype),shape:M,dtype:a.dtype}}},pK={kernelName:vM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:i,dy:s}=t,{strides:o,pad:l,dilations:u}=r,c=n,f=uS(a.shape,c.data.get(a.dataId).values),d=uS(i.shape,c.data.get(i.dataId).values),{batchSize:h,inHeight:p,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:w,strideWidth:x,filterHeight:k,filterWidth:C,dilationHeight:N,dilationWidth:I,outShape:S}=aj(a.shape,i.shape,o,l,"NHWC",u);PI(s.rank===S.length,(()=>`Error in ${vM}, dy must have the same rank as output ${S.length}, but got ${s.rank}`));const M=uS(S,c.data.get(s.dataId).values),E=dS(i.shape,i.dtype);for(let L=0;L<h;++L)for(let e=0;e<y;++e){const t=e*w-v.top;for(let n=0;n<b;++n){const r=n*x-v.left;for(let a=0;a<g;++a){let i=Number.MIN_SAFE_INTEGER,s=0,o=0;for(let e=0;e<k;++e){const n=t+e*N;if(n>=0&&n<p)for(let t=0;t<C;++t){const l=r+t*I;if(l>=0&&l<m){const r=f[L][n][l][a]+d[e][t][a];r>i&&(i=r,s=e,o=t)}}}E[s][o][a]+=M[L][e][n][a]}}}return{dataId:c.write(lT(E,a.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},mK={kernelName:bM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,filter:i,dy:s}=t,{strides:o,pad:l,dilations:u}=r,c=n,f=uS(a.shape,c.data.get(a.dataId).values),d=uS(i.shape,c.data.get(i.dataId).values),{batchSize:h,inHeight:p,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:w,strideWidth:x,filterHeight:k,filterWidth:C,dilationHeight:N,dilationWidth:I,outShape:S}=aj(a.shape,i.shape,o,l,"NHWC",u);PI(s.rank===S.length,(()=>`Error in ${bM}, dy must have the same rank as output ${S.length}, but got ${s.rank}`));const M=uS(S,c.data.get(s.dataId).values),E=dS(a.shape,a.dtype);for(let L=0;L<h;++L)for(let e=0;e<y;++e){const t=e*w-v.top;for(let n=0;n<b;++n){const r=n*x-v.left;for(let a=0;a<g;++a){let i=Number.MIN_SAFE_INTEGER,s=t<0?0:t,o=r<0?0:r;for(let e=0;e<k;++e){const n=t+e*N;if(n>=0&&n<p)for(let t=0;t<C;++t){const l=r+t*I;if(l>=0&&l<m){const r=f[L][n][l][a]+d[e][t][a];r>i&&(i=r,s=n,o=l)}}}E[L][s][o][a]+=M[L][e][n][a]}}}return{dataId:c.write(lT(E,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const gK={kernelName:wM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a}=t,{canvas:i,options:s}=r,{contextOptions:o,imageOptions:l}=s||{},u=(null===l||void 0===l?void 0:l.alpha)||1,c=(null===o||void 0===o?void 0:o.contextType)||"2d";if("2d"!==c)throw new Error(`Context type ${o.contextType} is not supported by the CPU backend.`);const f=i.getContext(c,(null===o||void 0===o?void 0:o.contextAttributes)||{});if(null==f)throw new Error(`Could not get the context with ${c} type.`);const[d,h]=a.shape.slice(0,2),p=2===a.shape.length?1:a.shape[2],m=n.data.get(a.dataId).values,g="float32"===a.dtype?255:1,y=new Uint8ClampedArray(h*d*4);for(let v=0;v<d*h;++v){const e=[0,0,0,255*u];for(let n=0;n<p;n++){const t=m[v*p+n];if("float32"===a.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===a.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===p?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*v;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}i.width=h,i.height=d;const b=new ImageData(y,h,d);return f.putImageData(b,0,0),a}},yK=pZ(((e,t)=>e*t)),bK=OZ(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),vK=jZ(gE,yK,bK),wK={kernelName:gE,backendName:"cpu",kernelFunc:vK};function xK(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;let o;nZ(a,"sum"),o="bool"===a.dtype?DZ({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):cZ({inputs:{x:a},backend:n});const l=o.shape.length,u=ZI(i,o.shape),c=bO(u,l);let f=u,d=o;null!=c&&(d=XZ({inputs:{x:o},backend:n,attrs:{perm:c}}),f=wO(f.length,l)),yO("sum",f,d.shape.length);const[h,p]=mO(d.shape,f);let m=EZ(n,h,_T(d.dtype,"int32"));const g=WI(p),y=n.data.get(m.dataId).values,b=n.data.get(d.dataId).values;for(let v=0;v<y.length;++v){const e=v*g;let t=0;for(let n=0;n<g;++n)t+=b[e+n];y[v]=t}if(s){const e=m;m=PZ({inputs:{x:m},backend:n,attrs:{shape:gO(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(o),null!=c&&n.disposeIntermediateTensorInfo(d),m}const kK={kernelName:rL,backendName:"cpu",kernelFunc:xK};const CK={kernelName:kM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=qz(a,i.length);Xz(s.length,l,i);const{path:u,steps:c}=eP(o,l),f=c.length;let d=null,h=s.length;const p=[];for(let m=0;m<f;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=Kz(h,l[e]);let a;tP(t)?a=i[e]:(a=XZ({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),p.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);VI(a.shape,s)||(a=PZ({inputs:{x:a},backend:n,attrs:{shape:s}}),p.push(a)),null===d?d=a:(d=vK({inputs:{a:a,b:d},backend:n}),p.push(d))}m<f-1&&(u[m]>=0&&(d=xK({inputs:{x:d},backend:n,attrs:{axis:u[m]-(s.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}};const NK={kernelName:NM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:a}=t;nZ([r,a],"eluGrad");const i=new Float32Array(WI(a.shape)),s=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values;for(let l=0;l<s.length;++l){const e=s[l];i[l]=e>=0?o[l]:o[l]*(e+1)}return n.makeTensorInfo(a.shape,"float32",i)}},IK=pZ(((e,t)=>e===t?1:0)),SK=jZ(SM,IK,null,"bool"),MK={kernelName:SM,backendName:"cpu",kernelFunc:SK},EK=Rz,LK=jz,TK=Oz,AK=_z,DK=$z,RK=Fz,jK=sZ(IM,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+EK*n);return t*(1-((((RK*r+DK)*r+AK)*r+TK)*r+LK)*r*Math.exp(-n*n))})),OK={kernelName:IM,backendName:"cpu",kernelFunc:jK},_K=iZ((e=>Math.exp(e))),$K=oZ(MM,_K,"float32"),FK={kernelName:MM,backendName:"cpu",kernelFunc:$K};function zK(e){const{inputs:t,backend:n,attrs:r}=e,{input:a}=t,{dim:i}=r,s=a.shape.length,o=a.shape.slice();let l=i;return i<0&&(PI(-(s+1)<=i,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),l=s+i+1),o.splice(l,0,1),PZ({inputs:{x:a},backend:n,attrs:{shape:o}})}const PK={kernelName:EM,backendName:"cpu",kernelFunc:zK},BK=iZ((e=>Math.expm1(e))),UK=oZ(LM,BK),WK={kernelName:LM,backendName:"cpu",kernelFunc:UK},VK=pZ(((e,t)=>e/t)),GK=jZ(xM,VK),HK={kernelName:xM,backendName:"cpu",kernelFunc:GK},YK=pZ(((e,t)=>e-t)),QK=OZ(((e,t,n,r)=>({real:e-n,imag:t-r}))),JK=jZ(vL,YK,QK),ZK={kernelName:vL,backendName:"cpu",kernelFunc:JK};function qK(e,t,n){const r=e.shape,a=r[0],i=r[1],s=n.data.get(e.dataId),o=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,u=[a,i],c=WI(u),f=KI("float32",c),d=KI("float32",c);for(let g=0;g<a;g++){const e=Iq({inputs:{x:o},backend:n,attrs:{begin:[g,0],size:[1,i]}}),r=Iq({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,i]}}),a=SZ({inputs:{real:e,imag:r},backend:n}),{real:s,imag:u}=KK(a,t,n),c=zz(s,u);for(let t=0;t<i;t++){const e=Wz(c,t);f[g*i+t]=e.real,d[g*i+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(u,"float32",f),p=n.makeTensorInfo(u,"float32",d),m=SZ({inputs:{real:h,imag:p},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}function KK(e,t,n){const r=WI(e.shape),a=n.data.get(e.dataId),i=n.data.get(a.complexTensorInfos.real.dataId).values,s=n.data.get(a.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(r)){const a=XK(i,s,r,t,n),o=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(o,"float32",a.real),t=n.makeTensorInfo(o,"float32",a.imag),i=n.makeTensorInfo([],"float32",oT(r,"float32")),s=cZ({inputs:{x:i},backend:n}),l=HK.kernelFunc({inputs:{a:e,b:i},backend:n}),u=HK.kernelFunc({inputs:{a:t,b:s},backend:n}),c=n.data.get(l.dataId).values,f=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:f}}return a}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let a=0;a<t;a++){let i=0,s=0;for(let r=0;r<t;r++){const o=Hz(a*r,t,n),l=Wz(e,r);i+=l.real*o.real-l.imag*o.imag,s+=l.real*o.imag+l.imag*o.real}n&&(i/=t,s/=t),Vz(r,i,s,a)}return r}(zz(i,s),r,t);return Pz(e)}}function XK(e,t,n,r,a){if(1===n)return{real:e,imag:t};const i=zz(e,t),s=n/2,o=Bz(i),l=o.real,u=o.imag,c=[l.length],f=a.makeTensorInfo(c,"float32",l),d=a.makeTensorInfo(c,"float32",u),h=SZ({inputs:{real:f,imag:d},backend:a}),p=Uz(i),m=p.real,g=p.imag,y=[m.length],b=a.makeTensorInfo(y,"float32",m),v=a.makeTensorInfo(y,"float32",g),w=SZ({inputs:{real:b,imag:v},backend:a}),x=XK(l,u,s,r,a),k=x.real,C=x.imag,N=[k.length],I=a.makeTensorInfo(N,"float32",k),S=a.makeTensorInfo(N,"float32",C),M=SZ({inputs:{real:I,imag:S},backend:a}),E=XK(m,g,s,r,a),L=E.real,T=E.imag,A=[L.length],D=a.makeTensorInfo(A,"float32",L),R=a.makeTensorInfo(A,"float32",T),j=SZ({inputs:{real:D,imag:R},backend:a}),O=Gz(n,r),_=[O.real.length],$=a.makeTensorInfo(_,"float32",O.real),F=a.makeTensorInfo(_,"float32",O.imag),z=SZ({inputs:{real:$,imag:F},backend:a}),P=vK({inputs:{a:z,b:j},backend:a}),B=FZ({inputs:{a:M,b:P},backend:a}),U=JK({inputs:{a:M,b:P},backend:a}),W=LZ({inputs:{input:B},backend:a}),V=LZ({inputs:{input:U},backend:a}),G=Uq({inputs:{input:B},backend:a}),H=Uq({inputs:{input:U},backend:a}),Y=Vq({inputs:[W,V],backend:a,attrs:{axis:0}}),Q=Vq({inputs:[G,H],backend:a,attrs:{axis:0}}),J=a.data.get(Y.dataId).values,Z=a.data.get(Q.dataId).values;return a.disposeIntermediateTensorInfo(f),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(v),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(S),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(D),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo($),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(Y),a.disposeIntermediateTensorInfo(Q),{real:J,imag:Z}}const eX={kernelName:TM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=WI(r.shape),i=r.shape[r.shape.length-1],s=PZ({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),o=qK(s,!1,n),l=PZ({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}};function tX(e){const{backend:t,attrs:n}=e,{shape:r,value:a,dtype:i}=n,s=i||aS(a),o=XI(s,WI(r));return function(e,t){e.fill(t)}(o,a),t.makeTensorInfo(r,s,o)}const nX={kernelName:AM,backendName:"cpu",kernelFunc:tX};const rX={kernelName:DM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,i=r,s=KI(a.dtype,WI(a.shape)),[o,l,u,c]=a.shape,f=i.data.get(a.dataId).values;for(let d=0;d<o;d++){const e=d*u*l*c;for(let t=0;t<l;t++){const n=t*(u*c);for(let t=0;t<u;t++){const r=t*c;for(let a=0;a<c;a++){const i=Math.round(u-t-1),o=e+n+r+a;let l=f[o];if(i>=0&&i<u){l=f[e+n+i*c+a]}s[o]=l}}}}return{dataId:i.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},aX=iZ((e=>Math.floor(e))),iX=oZ(RM,aX),sX={kernelName:RM,backendName:"cpu",kernelFunc:iX},oX=pZ(((e,t)=>Math.floor(e/t))),lX=jZ(jM,oX,null,"int32"),uX={kernelName:jM,backendName:"cpu",kernelFunc:lX};const cX={kernelName:jL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=Hq({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(s){const e=m;if("NCHW"===c&&1===s.shape.length&&1!==s.shape[0]){const e=PZ({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=FZ({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=FZ({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===o.shape.length&&1!==o.shape[0]){const e=PZ({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=IZ(n,m,h,e,p),n.disposeIntermediateTensorInfo(e)}else m=IZ(n,m,h,o,p);n.disposeIntermediateTensorInfo(e)}return m}};const fX={kernelName:OL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r;let m=lK({inputs:{x:a,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d}});if(s){const e=m;m=FZ({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=IZ(n,m,h,o,p),n.disposeIntermediateTensorInfo(e)}return m}};function dX(e,t,n,r,a,i,s,o,l){const u=kD([r,i],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<a;t++){const i=e[c*a+t];r+=i*s[t],n.push(i)}if(r<0||r>=l/i)throw new Error(`Invalid indices: ${n} does not index into ${o}`);for(let e=0;e<i;e++)u.values[c*i+e]=t.get(...t.indexToLoc(r*i+e))}return u}const hX={kernelName:$M,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=WI(r.shape),s=a.shape,o=s[s.length-1],[l,u,c,f]=Tz(r,a);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const d=dX(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,u,o,c,f,r.shape,i);return n.makeTensorInfo(l,r.dtype,d.values)}};function pX(e,t,n){const r=kD(n,e.dtype);for(let a=0;a<r.size;++a){const n=r.indexToLoc(a).slice(),i=n[0],s=n[2],o=t.locToIndex([i,s]);n[2]=t.values[o];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[a]=e.values[l])}return r}const mX={kernelName:_M,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r;nZ([a,i],"gatherV2");const l=ZI(s,a.shape)[0],u=n.data.get(i.dataId).values,c=a.shape[l];for(let v=0;v<u.length;++v){const e=u[v];PI(e<=c-1&&e>=0,(()=>`GatherV2: the index value ${e} is not in [0, ${c-1}]`))}let f=o;null==o&&(f=0);const d=WI(i.shape),h=bP(a,i,l,f),p=PZ({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=PZ({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),g=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],y=n.bufferSync(m),b=pX(n.bufferSync(p),y,g);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,b.dtype,b.values)}},gX=pZ(((e,t)=>e>t?1:0)),yX=jZ(FM,gX,null,"bool"),bX={kernelName:FM,backendName:"cpu",kernelFunc:yX},vX=pZ(((e,t)=>e>=t?1:0)),wX=jZ(zM,vX,null,"bool"),xX={kernelName:zM,backendName:"cpu",kernelFunc:wX};const kX={kernelName:BM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,a=WI(r.shape),i=r.shape[r.shape.length-1],s=PZ({inputs:{x:r},backend:n,attrs:{shape:[a/i,i]}}),o=qK(s,!0,n),l=PZ({inputs:{x:o},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}},CX=sZ(WM,(e=>Number.isFinite(e)?1:0),"bool"),NX={kernelName:WM,backendName:"cpu",kernelFunc:CX},IX=sZ(VM,(e=>Math.abs(e)===1/0?1:0),"bool"),SX={kernelName:VM,backendName:"cpu",kernelFunc:IX},MX=sZ(GM,(e=>Number.isNaN(e)?1:0),"bool"),EX={kernelName:GM,backendName:"cpu",kernelFunc:MX},LX=pZ(((e,t)=>e<t?1:0)),TX=jZ(YM,LX,null,"bool"),AX={kernelName:YM,backendName:"cpu",kernelFunc:TX},DX=pZ(((e,t)=>e<=t?1:0)),RX=jZ(QM,DX,null,"bool"),jX={kernelName:QM,backendName:"cpu",kernelFunc:RX};function OX(e,t,n){const r=(t-e)/(n-1),a=fS(n,"float32");a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}const _X={kernelName:JM,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=OX(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}},$X=iZ((e=>Math.log(e))),FX=oZ(ZM,$X),zX={kernelName:ZM,backendName:"cpu",kernelFunc:FX},PX=sZ(qM,(e=>Math.log1p(e))),BX={kernelName:qM,backendName:"cpu",kernelFunc:PX},UX=pZ(((e,t)=>e&&t)),WX=jZ(KM,UX,null,"bool"),VX={kernelName:KM,backendName:"cpu",kernelFunc:WX},GX=sZ(XM,(e=>e?0:1),"bool"),HX={kernelName:XM,backendName:"cpu",kernelFunc:GX},YX=pZ(((e,t)=>e||t)),QX=jZ(eE,YX,null,"bool"),JX={kernelName:eE,backendName:"cpu",kernelFunc:QX};const ZX={kernelName:tE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r;nZ(a,"LRN");const u=a.shape[3],c=u-1,f=n.data.get(a.dataId).values,d=WI(a.shape),h=new Float32Array(d);function p(e){const t=e%u;let n=e-t+Math.max(0,t-i);const r=e-t+Math.min(t+i,c);let a=0;for(;n<=r;n++){const e=f[n];a+=e*e}return a}for(let m=0;m<d;m++){const e=p(m),t=f[m]*Math.pow(s+o*e,-l);h[m]=t}return n.makeTensorInfo(a.shape,a.dtype,h)}};const qX={kernelName:nE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r;nZ(s,"LRNGrad");const f=WI(s.shape),d=s.shape[3],h=n.data.get(s.dataId).values,p=n.data.get(a.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(f),y=f;for(let b=0;b<y;b++){const e=b%d,t=b-e+Math.max(0,e-o),n=b-e+Math.min(d,e+o+1);let r=0;for(let a=t;a<n;a++)r+=Math.pow(p[a],2);r=u*r+l;for(let a=t;a<n;a++){let e=-2*u*c*p[a]*m[b]/r;b===a&&(e+=Math.pow(r,-c)),e*=h[b],g[a]+=e}}return n.makeTensorInfo(s.shape,a.dtype,g)}};function KX(e,t,n,r){const a=KI(r,WI(n));for(let i=0;i<a.length;++i){const n=i*t;let r=e[n];for(let a=0;a<t;++a){const t=e[n+a];(Number.isNaN(t)||t>r)&&(r=t)}a[i]=r}return a}function XX(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=n;let l=a.shape;const u=l.length,c=ZI(i,l);let f=c;const d=bO(f,u);let h=o.data.get(a.dataId).values;if(null!=d){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[d[t]];h=KZ(h,l,a.dtype,d,e),f=wO(f.length,u),l=e}nZ(a,"max"),yO("max",f,u);const[p,m]=mO(l,f),g=KX(h,WI(m),p,a.dtype),y=o.write(g,p,a.dtype);let b=p;if(s){b=gO(p,c)}return{dataId:y,shape:b,dtype:a.dtype}}const e0={kernelName:rE,backendName:"cpu",kernelFunc:XX},t0=pZ(((e,t)=>Math.max(e,t))),n0=jZ(aE,t0),r0={kernelName:aE,backendName:"cpu",kernelFunc:n0};const a0={kernelName:iE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;nZ(a,"maxPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;PI(mj(s,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const u=ij(a.shape,i,s,1,o,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&VI(u.inShape,u.outShape))c=cZ({inputs:{x:a},backend:n});else{const e=n.data.get(a.dataId).values,t=oS(a.shape),r=gq(e,a.shape,a.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,a.dtype,r.values)}return c}};const i0={kernelName:oE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r;nZ(a,"maxPool3d");const c=sj(a.shape,i,s,1,o,l,u),f=bq(n.data.get(a.dataId).values,a.shape,a.dtype,oS(a.shape),c,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}};const s0={kernelName:lE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:u}=r;nZ([a,i],"maxPool3DGrad");const c=sj(i.shape,s,o,1,l,u),f=function(e,t){const n=kD(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,i=t.strideWidth,s=t.dilationDepth,o=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,p=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const b=y*r-d;let v=b;for(;v<0;)v+=s;const w=Math.min(t.inDepth,u+b);for(let r=0;r<t.outHeight;++r){const u=r*a-h;let d=u;for(;d<0;)d+=o;const x=Math.min(t.inHeight,c+u);for(let a=0;a<t.outWidth;++a){const h=a*i-p;let k=h;for(;k<0;)k+=l;const C=Math.min(t.inWidth,f+h);let N=Number.NEGATIVE_INFINITY,I=-1;for(let t=v;t<w;t+=s){const n=t-b;for(let r=d;r<x;r+=o){const a=r-u;for(let i=k;i<C;i+=l){const s=i-h,o=e.get(m,t,r,i,g);o>=N&&(N=o,I=n*c*f+a*c+s)}}}n.set(I,m,y,r,a,g)}}}return n}(n.bufferSync(i),c),d=c.strideDepth,h=c.strideHeight,p=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,b=c.effectiveFilterDepth,v=c.effectiveFilterHeight,w=c.effectiveFilterWidth,x=b-1-c.padInfo.front,k=w-1-c.padInfo.left,C=v-1-c.padInfo.top,N=kD(i.shape,"float32"),I=n.bufferSync(a);for(let S=0;S<c.batchSize;++S)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const a=t-x,i=n-C,s=r-k;let o=0;for(let t=0;t<b;t+=m){const n=(a+t)/d;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let r=0;r<v;r+=g){const a=(i+r)/h;if(!(a<0||a>=c.outHeight||Math.floor(a)!==a))for(let i=0;i<w;i+=y){const l=(s+i)/p;if(l<0||l>=c.outWidth||Math.floor(l)!==l)continue;const u=b*v*w-1-f.get(S,n,a,l,e)===t*v*w+r*w+i?1:0;if(0===u)continue;o+=I.get(S,n,a,l,e)*u}}}N.set(o,S,t,n,r,e)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}};const o0={kernelName:sE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;nZ([i,s],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=ij(o.shape,l,u,1,c,f),h=n.data.get(o.dataId).values,p=kD(d.outShape,o.dtype,yq(h,o.shape,o.dtype,d).values),m=d.strideHeight,g=d.strideWidth,y=d.dilationHeight,b=d.dilationWidth,v=d.effectiveFilterHeight,w=d.effectiveFilterWidth,x=w-1-d.padInfo.left,k=v-1-d.padInfo.top,C=kD(o.shape,"float32"),N=n.data.get(a.dataId).values,I=kD(a.shape,"float32",N);for(let S=0;S<d.batchSize;++S)for(let e=0;e<d.inChannels;++e)for(let t=0;t<d.inHeight;++t)for(let n=0;n<d.inWidth;++n){const r=t-k,a=n-x;let i=0;for(let t=0;t<v;t+=y){const n=(r+t)/m;if(!(n<0||n>=d.outHeight||Math.floor(n)!==n))for(let r=0;r<w;r+=b){const s=(a+r)/g;if(s<0||s>=d.outWidth||Math.floor(s)!==s)continue;const o=v*w-1-p.get(S,n,s,e)===t*w+r?1:0;if(0===o)continue;i+=I.get(S,n,s,e)*o}}C.set(i,S,t,n,e)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const l0={kernelName:uE,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:i,strides:s,pad:o,includeBatchInIndex:l}=n,u=r;nZ(a,"MaxPoolWithArgmax");const c=u.data.get(a.dataId).values,f=ij(a.shape,i,s,[1,1],o),[d,h]=function(e,t,n,r,a){const i=gq(e,0,n,oS(t),a,"max"),s=yq(e,t,n,a,!0,r);return[i.values,s.values]}(c,a.shape,a.dtype,l,f),p=u.write(d,f.outShape,a.dtype),m=u.write(h,f.outShape,a.dtype);return[{dataId:p,shape:f.outShape,dtype:a.dtype},{dataId:m,shape:f.outShape,dtype:"int32"}]}};const u0={kernelName:cE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=ZI(i,a.shape),l=WI(mO(a.shape,o)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const f=DZ({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});u.push(f);const d=GK({inputs:{a:f,b:c},backend:n});u.push(d);const h=xK({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:s}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const c0={kernelName:fE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;nZ(a,"min");const o=ZI(i,a.shape);let l=o;const u=bO(l,a.shape.length);let c=a;null!=u&&(c=XZ({inputs:{x:a},backend:n,attrs:{perm:u}}),l=wO(l.length,a.shape.length)),yO("min",l,c.shape.length);const[f,d]=mO(c.shape,l),h=WI(d),p=fS(WI(f),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<p.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}p[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(f,c.dtype,p);if(s){const e=PZ({inputs:{x:g},backend:n,attrs:{shape:gO(f,o)}});return n.disposeIntermediateTensorInfo(g),e}return g}},f0=pZ(((e,t)=>Math.min(e,t))),d0=jZ(dE,f0),h0={kernelName:dE,backendName:"cpu",kernelFunc:d0};const p0={kernelName:hE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,mode:s}=r;nZ(a,"mirrorPad");const o=i.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=i.map((e=>e[0])),u=i.map(((e,t)=>e[0]+a.shape[t])),c="reflect"===s?0:1,f=n.data.get(a.dataId).values,d=a.shape.length,h=oS(a.shape),p=WI(o),m=o.length,g=oS(o),y=KI(a.dtype,p);for(let b=0;b<p;b++){let e=mS(b,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-c:e[n]>=u[n]&&(e[n]=2*(u[n]-1)-e[n]+c);e=e.map(((e,t)=>e-l[t]));const t=pS(e,d,h);y[b]=f[t]}return{dataId:n.write(y,o,a.dtype),shape:o,dtype:a.dtype}}},m0=pZ(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),g0=jZ(pE,m0),y0={kernelName:pE,backendName:"cpu",kernelFunc:g0};function b0(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=a.shape.length;let o=i;if(-1===o&&(o=s-1),o!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${o}`);const l=ZI([o],a.shape),u=XX({inputs:{x:a},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=gO(u.shape,l),f=PZ({inputs:{x:u},backend:n,attrs:{shape:c}}),d=JK({inputs:{a:a,b:f},backend:n}),h=$K({inputs:{x:d},backend:n}),p=xK({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=PZ({inputs:{x:p},backend:n,attrs:{shape:c}}),g=GK({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}const v0={kernelName:sL,backendName:"cpu",kernelFunc:b0};const w0={kernelName:mE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r;nZ(a,"multinomial");const l=o?a:b0({inputs:{logits:a},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],f=n.data.get(l.dataId).values,d=[u,i],h=fS(WI(d),"int32");for(let p=0;p<u;++p){const e=p*c,t=new Float32Array(c-1);t[0]=f[e];for(let a=1;a<t.length;++a)t[a]=t[a-1]+f[e+a];const n=O_.alea(s.toString()),r=p*i;for(let a=0;a<i;++a){const e=n();h[r+a]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+a]=n;break}}}return o||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(d,"int32",h)}};function x0(e,t,n){const r=oT(-1,n);return yK([],t,r,e,n)}const k0={kernelName:yE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;nZ(r,"neg");const a=n.data.get(r.dataId).values,[i,s]=x0(a,r.shape,r.dtype);return n.makeTensorInfo(s,r.dtype,i)}},C0=xF;const N0={kernelName:vE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r;nZ(a,"NonMaxSuppression");const u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:f}=C0(u,c,s,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},I0=kF;const S0={kernelName:wE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r;nZ(a,"NonMaxSuppressionPadded");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=I0(c,f,s,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},M0=CF;const E0={kernelName:xE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r;nZ(a,"NonMaxSuppressionWithScore");const c=n.data.get(a.dataId).values,f=n.data.get(i.dataId).values,d=s,h=o,p=l,m=u,{selectedIndices:g,selectedScores:y}=M0(c,f,d,h,p,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},L0=pZ(((e,t)=>e!==t?1:0)),T0=jZ(bE,L0,null,"bool"),A0={kernelName:bE,backendName:"cpu",kernelFunc:T0};const D0={kernelName:CE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r;nZ(a,"oneHot");const u=WI(a.shape),c=new Float32Array(u*s);c.fill(l);const f=n.data.get(a.dataId).values;for(let d=0;d<u;++d)f[d]>=0&&f[d]<s&&(c[d*s+f[d]]=o);return n.makeTensorInfo([...a.shape,s],i,c)}};function R0(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=LZ({inputs:{input:r},backend:n}),t=R0({inputs:{x:e},backend:n}),a=Uq({inputs:{input:r},backend:n}),i=R0({inputs:{x:a},backend:n}),s=SZ({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}return tX({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const j0={kernelName:LL,backendName:"cpu",kernelFunc:R0};const O0={kernelName:kE,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const t=LZ({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),i=Uq({inputs:{input:a},backend:r}),s=R0({inputs:{x:i},backend:r}),o=SZ({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}return tX({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function _0(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return zK({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,s=t[0].dtype;t.forEach((e=>{BI(i,e.shape,"All tensors passed to stack must have matching shapes"),PI(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=t.map((e=>{const t=zK({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t})),u=Vq({inputs:l,backend:n,attrs:{axis:a}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const $0={kernelName:NE,backendName:"cpu",kernelFunc:_0};const F0={kernelName:IE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;nZ(a,"pad");const o=i.map(((e,t)=>e[0]+a.shape[t]+e[1])),l=i.map((e=>e[0])),u=n.data.get(a.dataId).values,c=WI(a.shape),f=a.shape.length,d=oS(a.shape),h=WI(o),p=o.length,m=oS(o),g=KI(a.dtype,h);0!==s&&g.fill(s);for(let y=0;y<c;y++){g[pS(mS(y,f,d).map(((e,t)=>e+l[t])),p,m)]=u[y]}return{dataId:n.write(g,o,a.dtype),shape:o,dtype:a.dtype}}},z0=pZ(((e,t)=>Math.pow(e,t))),P0=jZ(SE,z0),B0={kernelName:SE,backendName:"cpu",kernelFunc:P0};function U0(e,t,n,r){const[a,i]=mO(e,r),s=_T(t,"int32"),o=fS(WI(a),s),l=WI(i);for(let u=0;u<o.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];o[u]=t}return{outVals:o,outShape:a,outDtype:s}}const W0={kernelName:EE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;nZ(a,"prod");const o=a.shape.length,l=ZI(i,a.shape),u=bO(l,o);let c=l,f=a;const d=[];null!=u&&(f=XZ({inputs:{x:a},backend:n,attrs:{perm:u}}),d.push(f),c=wO(c.length,o));const h=n.data.get(f.dataId).values,{outVals:p,outShape:m,outDtype:g}=U0(f.shape,f.dtype,h,c);let y=m;return s&&(y=gO(m,l)),d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,p)}};function V0(e,t,n,r){const a=[];let i=0;const s=t.length-1+n.length,o=new Array(s).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],a=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)o[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],s=e[u]+1;for(let e=0;e<n.length;++e){const a=n[e],i=e+t.length-1;if(i>=0){const e=o[i],t=e[e.length-1]-a[r];for(let n=r;n<s;++n)o[i].push(a[n+1]+t)}r=a[r],s=a[s]}s!==r&&(a.push([r,s]),i+=s-r)}return{outSplits:o,valueSlices:a,numValues:i}}function G0(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function H0(e,t,n,r,a){const i=t.slice();i[0]=a;const s=XI(n,WI(i)),o=e.length;return function(e,t,n,r,a,i){const s=G0(t,2)[1],o=G0(i,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)a[l*o+n]=e[t*s+n];++l}}(e,t,r,0===o?0:o/t[0],s,i),[s,i]}function Y0(e,t,n,r,a,i,s,o){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const a=mS(r,t.length,oS(t)).join(",");throw new Error(`indices[${a}] = ${e} is not in [0, ${n})`)}}))}(i,s,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:f}=V0(i,s,e,l),d=function(e){const t=[];for(let n=0;n<e.length;++n){const r=XI("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),h=H0(n,r,a,c,f);return[d,h[0],h[1]]}const Q0={kernelName:LE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=a.map((e=>n.data.get(e.dataId).values)),u=a.map((e=>e.shape)),c=n.data.get(i.dataId).values,f=n.data.get(s.dataId).values,[d,h,p]=Y0(l,u,c,i.shape,i.dtype,f,s.shape),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(p,i.dtype,h);return m.concat([g])}},J0=2147483647;function Z0(e,t,n,r,a,i,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const o=0===t.length,l=0===a.length,u=0===s.length,c=[];o||c.push(t[0]),l||c.push(a[0]),u||c.push(s[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const f=0===c.length?1:c[0],d=XI("int32",f+1);d[0]=0;for(let m=0;m<f;++m){const t=o?e[0]:e[m],n=l?r[0]:r[m],a=u?i[0]:i[m];if(0===a)throw new Error("Requires delta != 0");let s;if(a>0&&n<t||a<0&&n>t)s=0;else if(s=Math.ceil(Math.abs((n-t)/a)),s>J0)throw new Error(`Requires ((limit - start) / delta) <= ${J0}`);d[m+1]=d[m]+s}const h=XI(n,d[f]);let p=0;for(let m=0;m<f;++m){const t=d[m+1]-d[m];let n=o?e[0]:e[m];const r=u?i[0]:i[m];for(let e=0;e<t;++e)h[p++]=n,n+=r}return[d,h]}const q0={kernelName:TE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=Z0(s,r.shape,r.dtype,o,a.shape,l,i.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var K0=yz;class X0{constructor(e,t,n,r,a,i,s,o,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=a,this.defaultValue=i,this.defaultValueShape=s,this.rowPartitionValues=o,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=vz(u),this.raggedRank=wz(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===K0.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===K0.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case K0.VALUE_ROWIDS:return X0.getMaxWidthValueRowID(t);case K0.ROW_SPLITS:return X0.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${K0[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],a=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,a=Math.max(i-n,a),n=i)}return Math.max(t-n,a)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return t1(e,n)}calculateOutputSize(e){const t=this.valuesShape;xz(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=bz(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let a=1;a<=this.raggedRank;++a)r[a]<0&&(r[a]=this.getMaxWidth(a));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),a=[];let i=0;for(let s=0;s<r;++s,i+=t)a.push(i);for(let s=r;s<e;++s)a.push(-1);return PI(a.length===e,(()=>"Final length of result must be equal to firstDimension.")),a}calculateOutputIndexRowSplit(e,t,n,r){const a=e.length,i=[];for(let s=0;s<a-1;++s){const a=e[s+1]-e[s];let o=Math.min(r,a),l=t[s];-1===l&&(o=0);for(let e=0;e<o;++e)i.push(l),l+=n;for(let e=0;e<a-o;++e)i.push(-1)}if(a>0&&i.length!==e[a-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const a=e.length,i=[];if(0===a)return[];let s=0,o=e[0];if(o>=t.length)throw new Error(`Got currentValueRowId=${o}, which is not less than ${t.length}`);let l=t[o];i.push(l);for(let u=1;u<a;++u){const a=e[u];if(a===o)l>=0&&(++s,s<r?l+=n:l=-1);else{if(s=0,o=a,a>=t.length)throw new Error(`Got nextValueRowId=${a} which is not less than ${t.length}`);l=t[a]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const a=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case K0.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case K0.ROW_SPLITS:if(a.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error(`Unsupported partition type: ${K0[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case K0.FIRST_DIM_SIZE:return e[0];case K0.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case K0.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${K0[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let i=n.length-2;i>=0;--i)n[i]=n[i+1]*t[i+1];const r=t1(t,!1),a=XI(this.valuesDType,WI(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){i=this.calculateOutputIndex(e-1,i,n[e],t[e])}this.setOutput(this.raggedRank,i,a,r)}return[r,a]}setOutput(e,t,n,r){if(0===n.length)return;const a=this.values,i=n;let s=r.slice();s=s.slice(e+1);const o=WI(s),l=t.length;let u=this.defaultValue;if(u.length!==o&&1!==u.length){const e=this.defaultValueShape;pA((()=>{const t=vj(u,e),n=_j(t,s);u=n.dataSync()}))}let c=0,f=0,d=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==d){if(f<d){const e=a.subarray(c*o);e1(i.subarray(f*o),e,(d-f)*o)}if(h>=l){const t=n.length;e=Math.floor(t/o)}if(e>d)if(1===this.defaultValue.length)i.subarray(d*o,e*o).fill(this.defaultValue[0]),d=e;else for(;e>d;){e1(i.slice(d*o),u,o),++d}e<0?(c=h+1,f=d):(c=h,f=d,d=f+1)}else++d}}}function e1(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function t1(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function n1(e,t,n,r,a,i,s,o,l,u){return new X0(e,t,n,r,a,i,s,o,l,u).compute()}const r1={kernelName:AE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,f=n.data.get(s.dataId).values,d=o.map((e=>n.data.get(e.dataId).values)),h=o.map((e=>e.shape)),[p,m]=n1(u,a.shape,c,i.shape,i.dtype,f,s.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}};function a1(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return fS(0,r);const a=fS(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+n;return a}const i1={kernelName:DE,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,dtype:i,step:s}=n,o=a1(r,a,s,i);return t.makeTensorInfo([o.length],i,o)}},s1=sZ(jE,(e=>1/e)),o1={kernelName:jE,backendName:"cpu",kernelFunc:s1};const l1={kernelName:zE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;nZ(a,"resizeBilinear");const l=oS(a.shape),[u,c]=o,[f,d,h,p]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(WI([f,u,c,p])),y=[i&&u>1?d-1:d,i&&c>1?h-1:h],b=[i&&u>1?u-1:u,i&&c>1?c-1:c];let v=0;const w=y[0]/b[0],x=y[1]/b[1];for(let k=0;k<f;k++)for(let e=0;e<u;e++){let t;t=s?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,a=Math.min(d-1,Math.ceil(t)),i=k*l[0]+n*l[1],o=k*l[0]+a*l[1];for(let e=0;e<c;e++){let t;t=s?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),a=t-n,u=Math.min(h-1,Math.ceil(t)),c=i+n*l[2],f=o+n*l[2],d=i+u*l[2],y=o+u*l[2];for(let e=0;e<p;e++){const t=m[c+e],n=m[f+e],i=t+(m[d+e]-t)*a,s=i+(n+(m[y+e]-n)*a-i)*r;g[v++]=s}}}return n.makeTensorInfo([f,u,c,p],"float32",g)}};const u1={kernelName:PE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;nZ([i,a],"resizeBilinearGrad");const o=oS(a.shape),[l,u,c,f]=a.shape,[,d,h]=i.shape,p=new Float32Array(l*u*c*f),m=[s&&d>1?u-1:u,s&&h>1?c-1:c],g=[s&&d>1?d-1:d,s&&h>1?h-1:h],y=m[0]/g[0],b=m[1]/g[1],v=n.data.get(i.dataId).values;let w=0;for(let x=0;x<l;x++){const e=x*o[0];for(let t=0;t<d;t++){const n=t*y,r=Math.floor(n),a=Math.min(Math.ceil(n),u-1),i=e+r*o[1],s=e+a*o[1],l=n-r,d=1-l;for(let e=0;e<h;e++){const t=e*b,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),a=t-n,u=1-a,h=i+n*o[2],m=i+r*o[2],g=s+n*o[2],y=s+r*o[2],x=d*u,k=d*a,C=l*u,N=l*a;for(let e=0;e<f;e++){const t=v[w++];p[h+e]+=t*x,p[m+e]+=t*k,p[g+e]+=t*C,p[y+e]+=t*N}}}}return n.makeTensorInfo([l,c,u,f],"float32",p)}};const c1={kernelName:$E,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r;nZ(a,"resizeNearestNeighbor");const l=oS(a.shape),[u,c]=o,[f,d,h,p]=a.shape,m=n.data.get(a.dataId).values,g=new Float32Array(f*u*c*p),y=[i&&u>1?d-1:d,i&&c>1?h-1:h],b=[i&&u>1?u-1:u,i&&c>1?c-1:c],v=y[0]/b[0],w=y[1]/b[1];let x=0;for(let k=0;k<f;k++){const e=k*l[0];for(let t=0;t<u;t++){const n=s?v*(t+.5):v*t;let r=Math.min(d-1,i?Math.round(n):Math.floor(n));s&&(r=Math.max(0,r));const a=e+r*l[1];for(let e=0;e<c;e++){const t=s?w*(e+.5):w*e;let n=Math.min(h-1,i?Math.round(t):Math.floor(t));s&&(n=Math.max(0,n));const r=a+n*l[2];for(let e=0;e<p;e++){const t=m[r+e];g[x++]=t}}}}return n.makeTensorInfo([f,u,c,p],a.dtype,g)}};const f1={kernelName:FE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r;nZ([i,a],"resizeNearestNeighborGrad");const o=oS(a.shape),l=oS(i.shape),[u,c,f,d]=a.shape,[,h,p]=i.shape,m=new Float32Array(u*c*f*d),g=n.data.get(i.dataId).values,y=[s&&h>1?c-1:c,s&&p>1?f-1:f],b=[s&&h>1?h-1:h,s&&p>1?p-1:p],v=y[0]/b[0],w=y[1]/b[1],x=1/v,k=1/w,C=2*Math.ceil(x)+2,N=2*Math.ceil(k)+2;for(let I=0;I<u;I++){const e=I*o[0];for(let t=0;t<c;t++){const n=e+t*o[1],r=Math.floor(t*x),a=Math.floor(r-C/2);for(let i=0;i<f;i++){const r=n+i*o[2],u=Math.floor(i*k),y=Math.floor(u-N/2);for(let n=0;n<d;n++){let o=0;for(let r=0;r<C;r++){const u=r+a;if(u<0||u>=h)continue;const d=e+u*l[1],m=u*v;if(t===Math.min(c-1,s?Math.round(m):Math.floor(m)))for(let e=0;e<N;e++){const t=e+y;if(t<0||t>=p)continue;const r=d+t*l[2],a=t*w;i===Math.min(f-1,s?Math.round(a):Math.floor(a))&&(o+=g[r+n])}}m[r+n]=o}}}}return n.makeTensorInfo(a.shape,a.dtype,m)}};const d1={kernelName:UE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r;nZ(a,"reverse");const s=a.shape.length,o=ZI(i,a.shape);if(0===s)return cZ({inputs:{x:a},backend:n});const l=new CT(a.shape,a.dtype),u=n.bufferSync(a);for(let c=0;c<l.size;c++){const e=l.indexToLoc(c),t=e.slice();o.forEach((e=>t[e]=a.shape[e]-1-t[e])),l.set(u.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},h1={kernelName:DL,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:i,fillValue:s,center:o}=n,l=r,u=KI(a.dtype,WI(a.shape)),[c,f,d,h]=a.shape,[p,m]=Nz(o,f,d),g=Math.sin(i),y=Math.cos(i),b=l.data.get(a.dataId).values;for(let v=0;v<c;v++){const e=v*d*f*h;for(let t=0;t<f;t++){const n=t*(d*h);for(let r=0;r<d;r++){const a=r*h;for(let i=0;i<h;i++){const o=[c,t,r,i],l=o[2],v=o[1];let w=(l-p)*y-(v-m)*g,x=(l-p)*g+(v-m)*y;w=Math.round(w+p),x=Math.round(x+m);let k=s;if("number"!==typeof s&&(k=3===i?255:s[i]),w>=0&&w<d&&x>=0&&x<f){k=b[e+x*(d*h)+w*h+i]}u[e+n+a+i]=k}}}}return{dataId:l.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},p1=sZ(WE,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),m1={kernelName:WE,backendName:"cpu",kernelFunc:p1},g1=iZ((e=>1/Math.sqrt(e))),y1=oZ(VE,g1),b1={kernelName:VE,backendName:"cpu",kernelFunc:y1};function v1(e,t,n,r,a,i,s,o,l,u){const c=[r/a,a],f=e.values,d=t.values;if(0===r)return kD(n,t.dtype);const h=l instanceof CT?l:kD(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let p=0;p<i;p++){const e=[];let i=0;for(let t=0;t<s;t++){const n=f[p*s+t];e.push(n),i+=n*o[t]}if(i<0||i>=r/a)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<a;n++)u?h.values[i*a+n]+=d[p*a+n]:h.values[i*a+n]=0===t.rank?d[0]:d[p*a+n]}return h}const w1={kernelName:GE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=A$(0,a,s),d=v1(n.bufferSync(a),n.bufferSync(i),s,f,u,l,o,c,0,!0);return n.makeTensorInfo(s,d.dtype,d.values)}};function x1(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<t?n=a+1:r=a;return r}function k1(e,t){let n=0,r=e.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),e[a]<=t?n=a+1:r=a;return r}const C1={kernelName:YE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=function(e,t,n,r,a,i){const s=XI("int32",n*a);for(let o=0;o<n;++o){const n=e.slice(o*r,(o+1)*r),l=o*a;for(let e=0;e<a;++e)s[l+e]="left"===i?x1(n,t[e+l]):k1(n,t[e+l])}return s}(n.data.get(a.dataId).values,n.data.get(i.dataId).values,a.shape[0],a.shape[1],i.shape[1],s);return n.makeTensorInfo(i.shape,"int32",o)}};const N1={kernelName:QE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t;nZ([r,a,i],"select");const s=r.shape.length,o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=_T(a.dtype,i.dtype),f=fS(WI(a.shape),c);let d=0;const h=0===s||s>1||1===a.shape.length?1:WI(a.shape.slice(1));for(let p=0;p<o.length;p++)for(let e=0;e<h;e++)1===o[p]?f[d++]=l[p]:f[d++]=u[p];return n.makeTensorInfo(a.shape,c,f)}},I1=Az,S1=Dz,M1=sZ(JE,(e=>e>=0?S1*e:I1*(Math.exp(e)-1))),E1={kernelName:JE,backendName:"cpu",kernelFunc:M1},L1=sZ(XE,(e=>e<0?-1:e>0?1:0)),T1={kernelName:XE,backendName:"cpu",kernelFunc:L1},A1=sZ(qE,(e=>Math.sin(e))),D1={kernelName:qE,backendName:"cpu",kernelFunc:A1},R1=sZ(KE,(e=>Math.sinh(e))),j1={kernelName:KE,backendName:"cpu",kernelFunc:R1},O1=Math.log(1.1920928955078125e-7)+2,_1=sZ(tL,(e=>{const t=e>-O1,n=e<O1,r=Math.exp(e);let a;return a=n?r:t?e:Math.log(1+r),a})),$1={kernelName:tL,backendName:"cpu",kernelFunc:_1};const F1={kernelName:aL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;nZ([a],"spaceToBatchND");const o=WI(i),l=[[0,0]];l.push(...s);for(let g=1+i.length;g<a.shape.length;++g)l.push([0,0]);const u=F0.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),c=Iz(u.shape,i,o,!1),f=Sz(c.length,i.length,!1),d=Mz(u.shape,i,o,!1),h=PZ({inputs:{x:u},backend:n,attrs:{shape:c}}),p=XZ({inputs:{x:h},backend:n,attrs:{perm:f}}),m=PZ({inputs:{x:p},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}};function z1(e,t,n,r,a,i,s){const o=t[0],l=i[0],u=new Array(l),c=new Array(o),f=t[1];if(0===l){if(0!==o)throw new Error(aP(o));return[XI(n,0),[0,f],XI(a,0),u,c]}let d=!0,h=0;const p=new Array(l).fill(0);for(let g=0;g<o;++g){const t=e[g*f];if(t<0)throw new Error(iP(g,t));if(t>=l)throw new Error(sP(g,t,l));++p[t],d=d&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===p[g];u[g]=e,m=m&&!e,p[g]=Math.max(p[g],1),g>0&&(p[g]+=p[g-1])}if(m&&d){const t=e,n=r;for(let e=0;e<o;++e)c[e]=e;return[t,[o,f],n,u,c]}{const t=p[l-1],i=XI(n,t*f),d=XI(a,t),h=new Array(l).fill(0);for(let n=0;n<o;++n){const t=e[n*f],a=h[t],s=(0===t?0:p[t-1])+a;h[t]++;for(let r=0;r<f;++r)i[s*f+r]=e[n*f+r];d[s]=r[n],c[n]=s}for(let e=0;e<l;++e){if(0===h[e]){const t=0===e?0:p[e-1];i[t*f+0]=e;for(let e=1;e<f;++e)i[t*f+e]=0;d[t]=s}}return[i,[t,f],d,u,c]}}const P1={kernelName:oL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n        ${a.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(s.dataId).values[0],[f,d,h,p,m]=z1(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function B1(e,t,n,r,a){const i=WI(r),s=t[0],o=a.length,l=[];let u=1,c=-1;for(let m=0;m<o;++m){const e=a[m];if(-1===e){if(-1!==c)throw new Error(oP(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(lP(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/u);if(u*e!==i)throw new Error(cP(r,l));l[c]=e}if(WI(l)!==i)throw new Error(fP(r,l));const f=r.length,d=[];if(f>0){d[f-1]=1;for(let e=f-2;e>=0;--e)d[e]=d[e+1]*r[e+1]}const h=[];if(o>0){h[o-1]=1;for(let e=o-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const p=XI(n,s*o);for(let m=0;m<s;++m){let t=0;for(let n=0;n<f;++n)t+=e[m*f+n]*d[n];for(let e=0;e<o;++e)p[m*o+e]=Math.trunc(t/h[e]),t%=h[e]}return[p,[s,o],l]}const U1={kernelName:lL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const s=Array.from(n.data.get(a.dataId).values),o=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,c,f]=B1(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};function W1(e,t,n,r,a){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const o=r.length,l=[t[0],e.length/t[0]],u=l[1],c=o>0?a[o-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const f=t.slice();f[0]=c;const d=f.reduce(((e,t)=>e*t),1),h=XI(n,d);if(0===o)return c>0&&h.fill(s),[h,f];if(c<=0)throw new Error("segment ids must be >= 0");let p=0,m=1,g=0,y=a[p];for(;;){let t=0;if(m<o){if(t=a[m],y===t){++m;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=c)throw new Error(pP(y,c));y>g&&h.fill(s,g*u,y*u);for(let n=p;n<m;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(mP(n,r[n],l[0]));for(let n=0;n<u;n++)h[y*u+n]+=e[t*u+n]}if(i)for(let e=0;e<u;e++)h[y*u+e]/=m-p;if(p=m,++m,g=y+1,y=t,m>o)break}return g<c&&h.fill(s,g*u,c*u),[h,f]}const V1={kernelName:uL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=W1(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const G1={kernelName:cL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,[u,c]=W1(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}};const H1={kernelName:fL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=A$(0,a,o),h=!1,p=n.bufferSync(a);let m;switch(i.dtype){case"bool":m=v1(p,n.bufferSync(i),o,d,c,u,l,f,Boolean(n.data.get(s.dataId).values[0]),h);break;case"float32":m=v1(p,n.bufferSync(i),o,d,c,u,l,f,n.data.get(s.dataId).values[0],h);break;case"int32":m=v1(p,n.bufferSync(i),o,d,c,u,l,f,n.data.get(s.dataId).values[0],h);break;case"string":m=v1(p,n.bufferSync(i),o,d,c,u,l,f,dT(n.data.get(s.dataId).values[0]),h);break;default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(o,m.dtype,m.values)}};const Y1={kernelName:iL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=ZI(s,a.shape)[0],l=rP(a,i,o),u=new Array(a.shape.length).fill(0),c=a.shape.slice();return l.map((e=>{const t=[...c];t[o]=e;const r=Iq({inputs:{x:a},backend:n,attrs:{begin:u,size:t}});return u[o]+=e,r}))}},Q1=iZ((e=>Math.sqrt(e))),J1=sZ(nL,(e=>Math.sqrt(e))),Z1={kernelName:nL,backendName:"cpu",kernelFunc:J1},q1={kernelName:hL,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,a=n;nZ(r,"square");const i=a.data.get(r.dataId).values,s=new Float32Array(i.length);for(let o=0;o<i.length;++o){const e=i[o];s[o]=e*e}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},K1=pZ(((e,t)=>{const n=e-t;return n*n})),X1=jZ(dL,K1),e2={kernelName:dL,backendName:"cpu",kernelFunc:X1},t2=iZ(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=t;return e.replace(new RegExp(n,r?"g":""),a)})),n2=oZ(pL,t2),r2={kernelName:pL,backendName:"cpu",kernelFunc:n2},a2=sZ(TL,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),i2={kernelName:TL,backendName:"cpu",kernelFunc:a2};function s2(e,t,n,r){const a=kD(e,t.dtype);for(let i=0;i<a.size;i++){const e=a.indexToLoc(i),s=new Array(e.length);for(let t=0;t<s.length;t++)s[t]=e[t]*n[t]+r[t];a.set(t.get(...s),...e)}return a}const o2={kernelName:mL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r;nZ(a,"stridedSlice");const{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:w}=VR(a.shape,i,s,o,l,u,c,f,d);let x;if(m)x=PZ({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||y){PI(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=AR(b,v,w),t=Iq({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});x=PZ({inputs:{x:t},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(t)}else{const e=s2(h,n.bufferSync(a),w,b);x=n.makeTensorInfo(p,e.dtype,e.values)}return x}};class l2{constructor(e,t,n,r,a,i){this.separator=fT(e),this.nGramWidths=t,this.leftPad=fT(n),this.rightPad=fT(r),this.padWidth=a,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,a,i){for(let s=0;s<a;++s){const o=this.getPadWidth(i),l=Math.max(0,o-s),u=Math.max(0,o-(a-(s+1))),c=i-(l+u),f=t+(l>0?0:s-o);let d=0;d+=l*this.leftPad.length;for(let t=0;t<c;++t)d+=e[f+t].length;d+=u*this.rightPad.length;d+=(l+u+c-1)*this.separator.length,n[r+s]=new Uint8Array(d);const h=n[r+s];let p=0;const m=e=>e.forEach((e=>h[p++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[f+t]),m(this.separator);if(c>0){m(e[f+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let a=1;a<r;++a){let r=t[a]>=e;if(r=r&&t[a]<=n,!r)throw new Error(`Invalid split value ${t[a]}, must be in [${e}, ${n}]`);e=t[a]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const a=r-1,i=XI("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=a;++t)i[t]=0;return[e,i]}i[0]=0;for(let o=1;o<=a;++o){const e=t[o]-t[o-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),i[o]=i[o-1]+n}const s=new Array(i[a]);for(let o=0;o<a;++o){const n=t[o];let r=i[o];if(this.nGramWidths.forEach((a=>{const i=t[o+1]-t[o],l=this.getNumNGrams(i,a);this.createNGrams(e,n,s,r,l,a),r+=l})),this.preserveShort&&r===i[o]){const a=t[o+1]-t[o];if(0===a)continue;const i=a+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,i)}}return[s,i]}}function u2(e,t,n,r,a,i,s,o){return new l2(n,r,a,i,s,o).compute(e,t)}const c2={kernelName:gL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.data.get(c.dataId).values,h=n.data.get(f.dataId).values,[p,m]=u2(d,h,a,i,s,o,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",m)]}};function f2(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const a=t[0];let i=e.indexOf(a);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(a)}return void(n&&0===e.length||r.push(e))}let a=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(a,i);n&&0===t.length||r.push(t),a=i+1}}function d2(e,t,n){const r=e.length,a=[];let i=0,s=0;const o=new Array(r);for(let d=0;d<r;++d){const r=a.length;f2(e[d],t,n,a);const l=a.length-r;o[d]=l,i+=l,s=Math.max(s,l)}const l=XI("int32",2*i),u=new Array(i),c=[r,s];let f=0;for(let d=0;d<r;++d)for(let e=0;e<o[d];++e)l[2*f]=d,l[2*f+1]=e,u[f]=a[f],++f;return[l,u,c]}const h2={kernelName:yL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.data.get(i.dataId).values,l=n.data.get(s.dataId).values[0],[u,c,f]=d2(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};function p2(e,t){const n=XI("int32",e.length);for(let r=0;r<e.length;++r)n[r]=sT(e[r]).modulo(t).getLowBitsUnsigned();return n}const m2={kernelName:bL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=p2(n.data.get(i.dataId).values,a);return n.makeTensorInfo(i.shape,"int32",s)}},g2=sZ(wL,(e=>Math.tan(e))),y2={kernelName:wL,backendName:"cpu",kernelFunc:g2},b2=sZ(xL,(e=>Math.tanh(e)));const v2={kernelName:HE,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:a,updates:i}=t,{sliceRank:s,numUpdates:o,sliceSize:l,strides:u,outputSize:c}=A$(0,a,r.shape),f=n.bufferSync(a),d=n.bufferSync(i),h=n.bufferSync(r),p=v1(f,d,r.shape,c,l,o,s,u,h,!1);return n.makeTensorInfo(r.shape,p.dtype,p.values)}};function w2(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const r=kD(n,e.dtype);for(let a=0;a<r.values.length;++a){const t=r.indexToLoc(a),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const i=e.locToIndex(n);r.values[a]=e.values[i]}return r}const x2={kernelName:kL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;nZ(a,"tile");const s=w2(n.bufferSync(a),i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},k2=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function C2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const a=r-n+1,i=t-n+1,s=Math.log(a),o=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*o*(a-o)/a)*Math.sign(i-a/2);C2(e,t,Math.max(n,Math.floor(t-i*o/a+l)),Math.min(r,Math.floor(t+(a-i)*o/a+l)))}const a=e[t];let i=n,s=r;for(zI(e,n,t),k2(e[r],a)>0&&zI(e,n,r);i<s;){for(zI(e,i,s),i++,s--;k2(e[i],a)<0;)i+=1;for(;k2(e[s],a)>0;)s-=1}0===k2(e[n],a)?zI(e,n,s):(s+=1,zI(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function N2(e,t,n,r,a){const i=t[t.length-1],[s,o]=[e.length/i,i],l=KI(n,s*r),u=KI("int32",s*r);for(let f=0;f<s;f++){const t=f*o,n=e.subarray(t,t+o);let i=new Array(n.length);n.forEach(((e,t)=>i[t]={value:e,index:t})),r<i.length&&(C2(i,r),i=i.slice(0,r)),a&&i.sort(k2);const s=f*r,c=l.subarray(s,s+r),d=u.subarray(s,s+r);for(let e=0;e<r;e++)c[e]=i[e].value,d[e]=i[e].index}const c=t.slice();return c[c.length-1]=r,[kD(c,n,l),kD(c,"int32",u)]}const I2={kernelName:CL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r;nZ(a,"topk");const o=n.data.get(a.dataId).values,[l,u]=N2(o,a.shape,a.dtype,i,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}};const S2={kernelName:NL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=n,[c,f,d,h]=a.shape,[p,m]=null!=u?u:[f,d],g=[c,p,m,h],y=oS(a.shape),b=y[0],v=y[1],w=y[2],x=oS(g),k=x[0],C=x[1],N=x[2],I=KI(a.dtype,WI(g));I.fill(l);const S=r.data.get(a.dataId).values,M=r.data.get(i.dataId).values;for(let E=0;E<c;++E){const e=1===i.shape[0]?M:M.subarray(8*E,8*E+8);for(let t=0;t<p;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let a;const i=e[6]*n+e[7]*t+1;if(0===i)continue;const u=(e[0]*n+e[1]*t+e[2])/i,c=(e[3]*n+e[4]*t+e[5])/i,h=M2(u,d,o),p=M2(c,f,o);switch(s){case"nearest":a=L2(S,f,d,b,v,w,E,p,h,r,l);break;case"bilinear":a=T2(S,f,d,b,v,w,E,p,h,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}I[E*k+t*C+n*N+r]=a}return r.makeTensorInfo(g,a.dtype,I)}return{dataId:r.write(I,g,a.dtype),shape:a.shape,dtype:a.dtype}}};function M2(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return $I(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return $I(0,n,t-1)}(e,t);case"nearest":return function(e,t){return $I(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function E2(e,t,n,r,a,i,s,o,l,u,c){return 0<=o&&o<t&&0<=l&&l<n?e[s*r+o*a+l*i+u]:c}function L2(e,t,n,r,a,i,s,o,l,u,c){return E2(e,t,n,r,a,i,s,Math.round(o),Math.round(l),u,c)}function T2(e,t,n,r,a,i,s,o,l,u,c){const f=Math.floor(o),d=Math.floor(l),h=f+1,p=d+1;return(h-o)*((p-l)*E2(e,t,n,r,a,i,s,f,d,u,c)+(l-d)*E2(e,t,n,r,a,i,s,f,p,u,c))+(o-f)*((p-l)*E2(e,t,n,r,a,i,s,h,d,u,c)+(l-d)*E2(e,t,n,r,a,i,s,h,p,u,c))}function A2(e,t,n,r){const a=ZI(t,n)[0],i=[1,n[0],1];for(let p=0;p<a;p++)i[0]*=n[p];i[1]=n[a];for(let p=a+1;p<n.length;p++)i[2]*=n[p];const s=new Map,o=new Int32Array(n[a]),l=new CT(i,r,e),u=[],c=1===i[0]&&1===i[2];for(let p=0;p<n[a];p++){let t;if(c)t=e[p].toString();else{const e=[];for(let t=0;t<i[0];t++)for(let n=0;n<i[2];n++)e.push(l.get(t,p,n));t=e.join(",")}const n=s.get(t);if(null!=n)o[p]=n;else{const e=s.size;s.set(t,e),o[p]=e,u.push(p)}}const f=i.slice();f[1]=s.size;const d=new CT(f,r);u.forEach(((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)d.set(l.get(n,e,r),n,t,r)}));const h=n.slice();return h[a]=f[1],{outputValues:d.values,outputShape:h,indices:o}}const D2={kernelName:SL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;nZ(i,"unique");const s=r.data.get(i.dataId).values,{outputValues:o,outputShape:l,indices:u}=A2(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}};const R2={kernelName:ML,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const s=a.shape.length,o=a.shape[i],l=new Array(s-1);let u=0;for(let h=0;h<s;h++)h!==i&&(l[u++]=a.shape[h]);const c=new Array(s).fill(0),f=a.shape.slice();f[i]=1;const d=new Array(o);for(let h=0;h<d.length;h++){c[i]=h;const e=Iq({inputs:{x:a},backend:n,attrs:{begin:c,size:f}});d[h]=PZ({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return d}};const j2={kernelName:EL,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r;nZ(a,"unsortedSegmentSum");const o=[],l=[],u=a.shape.length-i.shape.length;let c=i;for(let d=0;d<u;++d){const e=zK({inputs:{input:c},backend:n,attrs:{dim:d+1}});c=e,l.push(e)}for(let d=0;d<s;++d){const e=oT(d,"int32"),t=n.makeTensorInfo([],"int32",e),r=SK({inputs:{a:t,b:c},backend:n}),i=DZ({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),s=vK({inputs:{a:i,b:a},backend:n}),u=xK({inputs:{x:s},backend:n,attrs:{axis:0,keepDims:!1}});o.push(u),l.push(t),l.push(r),l.push(i),l.push(s),l.push(u)}const f=_0({inputs:o,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}},O2=[VZ,HZ,QZ,ZZ,zZ,qZ,tq,nq,rq,aq,sq,lq,cq,hq,mq,vq,wq,xq,kq,WZ,Cq,Mq,Tq,Rq,jq,RZ,$q,zq,MZ,Pq,Gq,Yq,Qq,Jq,Zq,qq,Kq,eK,nK,rK,aK,iK,sK,oK,uK,cK,fK,dK,hK,pK,mK,gK,CK,uZ,NK,MK,OK,FK,PK,WK,eX,nX,rX,sX,uX,cX,fX,hX,mX,bX,xX,fZ,kX,Wq,NX,SX,EX,hZ,AX,jX,_X,zX,BX,VX,HX,JX,ZX,qX,e0,r0,a0,i0,s0,o0,l0,u0,c0,h0,p0,y0,w0,wK,k0,N0,S0,E0,A0,D0,O0,$0,F0,B0,yZ,W0,Q0,q0,r1,i1,TZ,HK,o1,vZ,xZ,BZ,l1,u1,c1,f1,d1,h1,m1,b1,w1,C1,N1,E1,NZ,T1,D1,j1,Sq,v0,$1,F1,P1,U1,V1,G1,H1,Y1,Z1,q1,e2,r2,i2,o2,c2,h2,m2,ZK,kK,y2,{kernelName:xL,backendName:"cpu",kernelFunc:b2},v2,x2,I2,S2,eq,D2,R2,j2,j0];for(const n of O2)WL(n);const _2={},$2={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function F2(e,t){if(!(e in _2)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(wS().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete _2[e]}),!1),wS().getBool("SOFTWARE_WEBGL_ENABLED")&&($2.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",$2)||n.getContext("experimental-webgl",$2);return n.getContext("webgl2",$2)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;_2[e]=n}const n=_2[e];return null==n||n.isContextLost()?(delete _2[e],F2(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),_2[e])}var z2,P2,B2;function U2(e,t){return[t,e]}function W2(e){const t=WI(e);return HI(Math.ceil(t/4))}function V2(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function G2(e,t){const n=e;let r,a,i,s,o,l,u,c,f,d;return 2===wS().getNumber("WEBGL_VERSION")?(r=n.R32F,a=n.R16F,i=n.RGBA16F,s=n.RGBA32F,o=n.RED,u=4,c=1,f=n.HALF_FLOAT,d=n.FLOAT,l=n.RGBA8):(r=e.RGBA,a=e.RGBA,i=e.RGBA,s=n.RGBA,o=e.RGBA,u=4,c=4,f=null!=t?t.HALF_FLOAT_OES:null,d=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:s,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:d}}function H2(e,t){const n=t();return wS().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(z2||(z2={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(P2||(P2={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(B2||(B2={}));function Y2(e){return!!(wS().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Q2(e,t){return r4(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const J2=/ERROR: [0-9]+:([0-9]+):/g;function Z2(e,t){const n=J2.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,s=a.map(((e,t)=>YI((t+1).toString(),i)+e));let o=0;for(let f=0;f<s.length;f++)o=Math.max(s[f].length,o);const l=s.slice(0,r-1),u=s.slice(r-1,r),c=s.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${YI(u[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function q2(e,t){if(H2(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function K2(e,t,n,r,a,i,s){const o=e.getAttribLocation(t,n);return-1!==o&&(H2(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),H2(e,(()=>e.vertexAttribPointer(o,a,e.FLOAT,!1,i,s))),H2(e,(()=>e.enableVertexAttribArray(o))),!0)}function X2(e,t,n,r){H2(e,(()=>function(e,t,n){a4(e,n),H2(e,(()=>e.activeTexture(e.TEXTURE0+n))),H2(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),H2(e,(()=>e.uniform1i(n,r)))}function e4(e,t,n){H2(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),H2(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function t4(e,t){H2(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),H2(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function n4(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function r4(e,t,n){const r=H2(e,(()=>t()));if(null==r)throw new Error(n);return r}function a4(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function i4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return WI(e.slice(0,e.length-t))}function s4(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function o4(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[i4(e),...s4(e)]),t}function l4(e){return e%2===0}function u4(e,t){if(VI(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(l4(n)&&l4(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&l4(e[0])&&l4(t[0])}let c4,f4;function d4(e,t){return null!=e.getExtension(t)}function h4(e){try{if(null!=F2(e))return!0}catch(Lae){return console.log("Error when getting WebGL context: ",Lae),!1}return!1}function p4(e){if(0===e)return!1;const t=F2(e);if(1!==e){if(d4(t,"EXT_color_buffer_float"))return m4(t);const e="EXT_color_buffer_half_float";if(d4(t,e)){const n=t.getExtension(e);return function(e,t){const n=G2(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(s),o}(t,n)}return!1}if(!d4(t,"OES_texture_float"))return!1;if(!d4(t,"WEBGL_color_buffer_float"))return!1;return m4(t)}function m4(e){const t=G2(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function g4(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&PI("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const y4=wS();function b4(){let e,t,n,r,a,i,s,o,l,u;return 2===wS().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",s="out vec4 outputColor;",o=wS().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",s="",o="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function v4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=oS(t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / ${t}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${t}`:`index -= ${e[a]} * ${t}`};`)).join("")}function w4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=oS(t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / outShapeStrides[${a}]`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * outShapeStrides[${a}]`:`index -= ${e[a]} * outShapeStrides[${a}]`};`)).join("")}function x4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}(e.map(((e,t)=>t)),t);return r.map(((t,a)=>`${`int ${e[a]} = ${n} / ${r[a]}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${r[a]}`:`index -= ${e[a]} * ${r[a]}`};`)).join("")}function k4(e){const t=oS(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}y4.registerFlag("HAS_WEBGL",(()=>y4.getNumber("WEBGL_VERSION")>0)),y4.registerFlag("WEBGL_VERSION",(()=>h4(2)?2:h4(1)?1:0)),y4.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),y4.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===y4.get("WEBGL_VERSION"))),y4.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),y4.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),y4.registerFlag("WEBGL_PACK",(()=>y4.getBool("HAS_WEBGL"))),y4.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_CLIP",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_REDUCE",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_LAZILY_UNPACK",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_CONV_IM2COL",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>y4.getBool("WEBGL_PACK"))),y4.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==c4){const t=F2(e);c4=t.getParameter(t.MAX_TEXTURE_SIZE)}return c4}(y4.getNumber("WEBGL_VERSION")))),y4.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==f4){const t=F2(e);f4=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,f4)}(y4.getNumber("WEBGL_VERSION")))),y4.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=y4.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=F2(e);return t=d4(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:d4(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),y4.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>y4.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!qT())),y4.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=F2(e);if(1===e){if(!d4(t,"OES_texture_float"))return!1}else if(!d4(t,"EXT_color_buffer_float"))return!1;return m4(t)}(y4.getNumber("WEBGL_VERSION")))),y4.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!y4.getBool("WEBGL_FORCE_F16_TEXTURES")&&y4.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),y4.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>p4(y4.getNumber("WEBGL_VERSION")))),y4.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=y4.getNumber("WEBGL_VERSION"))&&null!=F2(e).fenceSync;var e})),y4.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>y4.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),y4.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),y4.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>qT()?1:-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),y4.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),y4.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),y4.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),y4.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),y4.registerFlag("WEBGL_EXP_CONV",(()=>!1)),y4.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>y4.getBool("IS_TEST"))),y4.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),y4.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),y4.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),y4.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const C4="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:N4}=s;function I4(e,t,n){const r=[];if(e.forEach((e=>{const t=WI(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=_4(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const a=r.join("\n"),i=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?M4(e,r):S4(e,r);const i=e.shapeInfo.logicalShape,s=t.logicalShape;i.length<=s.length&&(a+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,o=N4(e.shapeInfo.logicalShape,t.logicalShape),l=O4(s),u=s-i;let c;const f=["x","y","z","w","u","v"];c=0===i?"":s<2&&o.length>=1?"coords = 0;":o.map((e=>`coords.${f[e+u]} = 0;`)).join("\n");let d="";d=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${f[t+u]}`)).join(", ");let h="return outputValue;";const p=1===WI(e.shapeInfo.logicalShape),m=WI(t.logicalShape),g=1===m;if(1!==i||p||g){if(p&&!g)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(o.length){const e=i-2,t=i-1;o.indexOf(e)>-1&&o.indexOf(t)>-1?h="return vec4(outputValue.x);":o.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${a}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${d});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,s=e.shapeInfo.texShape,o=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&o===l&&null==e.shapeInfo.flatOffset&&VI(s,i))return`\n      float ${a}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=O4(l),c=N4(e.shapeInfo.logicalShape,t.logicalShape),f=l-o;let d;const h=["x","y","z","w","u","v"];d=0===o?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${h[e+f]} = 0;`)).join("\n");let p="";p=l<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+f]}`)).join(", ");return`\n    float ${a}() {\n      ${u} coords = getOutputCoords();\n      ${d}\n      return get${r}(${p});\n    }\n  `}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),s=t.texShape,o=b4(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(o);let u,c,f=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${E4}\n    ${L4}\n    ${T4}\n  `;return t}(o);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return D4();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(VI(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2);let s=i,o="",l="b, r, c";for(let u=2;u<e.length-1;u++)s*=e[e.length-u-1],o=`\n      int b${u} = index / ${s};\n      index -= b${u} * ${s};\n    `+o,l=`b${u}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(o)):(u=function(e,t,n){switch(e.length){case 0:return D4();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(VI(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${w4(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=v4(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${w4(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=v4(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=v4(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=v4(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,s,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(o)),n.packedInputs&&(f+=A4);return[f,l,c,a,u,i,n.userCode].join("\n")}function S4(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,i]=e.shapeInfo.texShape;if(1===a&&1===i)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=R4(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${j4(e)}\n      }\n    `;const a=e.shapeInfo.texShape,i=a[0],s=a[1];if(1===s&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=R4(n);if(1===s)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${s}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&VI(n,i)){if(t)return`\n      float ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=i[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:s,keptDims:o}=qI(n),l=s;if(l.length<n.length){const n=["row","col"];return`\n      ${S4($4(e,l),t)}\n      float ${a}(int row, int col) {\n        return ${a}(${F4(n,o)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${j4(e)}\n      }\n    `;const u=i[0],c=i[1],f=R4(r);if(1===c)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${f}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${f}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${a}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${f};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${f};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],s=n[2],{newShape:o,keptDims:l}=qI(n),u=o;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${S4($4(e,u),t)}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${F4(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${s}, 1)));\n        ${j4(e)}\n      }\n    `;const c=e.shapeInfo.texShape,f=c[0],d=c[1],h=e.shapeInfo.flatOffset;if(d===i&&null==h)return t?`\n      float ${a}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${d}.0, ${f}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(d===s&&null==h)return t?`\n      float ${a}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${f}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const p=R4(r);if(t)return`\n    float ${a}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${p};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${s} + depth + ${p};\n        vec2 uv = uvFromFlat(${f}, ${d}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],s=n[2]*i,o=n[1]*s,{newShape:l,keptDims:u}=qI(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${S4($4(e,l),t)}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${F4(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${o}, ${s}, ${i}, 1)));\n        ${j4(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1],p=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===o&&null==c)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        ${p}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===i&&null==c)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${d}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=R4(r);if(t)return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${p}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${s} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${d}, ${h}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,s=t[2]*i,o=t[1]*s,{newShape:l,keptDims:u}=qI(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${S4($4(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${F4(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${o}, ${s}, ${i}, ${a})) +\n          depth3;\n        ${j4(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,d=f[0],h=f[1];if(h===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===a&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const p=R4(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${o} + col * ${s} + depth * ${i} +\n          depth2 * ${a} + depth3 + ${p};\n      vec2 uv = uvFromFlat(${d}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=qI(t);if(a.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${S4($4(e,a))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${F4(t,i)});\n      }\n    `}const s=t[5],o=t[4]*s,l=t[3]*o,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${o})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${j4(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===c&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${o}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===s&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=R4(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${o} + depth3 * ${s} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${h}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function M4(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=b4();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=b4();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${s[0]}, ${s[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=i[0],o=i[1],l=b4();if(null!=i&&VI(n,i))return t?`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${s}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${a}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=["b","row","col"];return`\n        ${M4($4(e,n.slice(1)),t)}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${F4(i,r)});\n        }\n      `}const o=b4();if(t)return`\n    vec4 ${a}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `;const l=s[0],u=s[1],c=Math.ceil(n[2]/2),f=c*Math.ceil(n[1]/2);return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${f}, ${c}, b, row, col);\n      return ${o.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=b4();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);\n    }\n  `;const i=e.shapeInfo.logicalShape,s=i.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],c=l[1],f=Math.ceil(i[s-1]/2);let d=f*Math.ceil(i[s-2]/2),h="int b, int row, int col",p=`b * ${d} + (row / 2) * ${f} + (col / 2)`;for(let m=2;m<s-1;m++)h=`int b${m}, `+h,d*=i[s-m-1],p=`b${m} * ${d} + `+p;return`\n    vec4 ${r}(${h}) {\n      int index = ${p};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const E4="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",L4="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",T4="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",A4="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function D4(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function R4(e){return`offset${e}`}function j4(e){const t=e.name,n=WI(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function O4(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function _4(e,t,n){const{newShape:r,keptDims:a}=qI(t),i=t.length,s=e&&3===i&&1===t[0],o=s?t.slice(1):r,l=!e&&i>1&&!VI(t,n)&&r.length<i||s;return{useSqueezeShape:l,uniformShape:l?o:t,keptDims:a}}function $4(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function F4(e,t){return t.map((t=>e[t])).join(", ")}function z4(e,t,n,r){const a=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=a.map((e=>e.shapeInfo)),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=I4(a,s,t),l=function(e,t){const n=r4(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(H2(e,(()=>e.shaderSource(n,t))),H2(e,(()=>e.compileShader(n))),wS().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Z2(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,o),u=e.createProgram(l);return wS().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s},P4(e,t,u)))}function P4(e,t,n){const r=[],a=[];let i,s,o,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),1===wS().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const f of t.variableNames){const a={name:f,uniform:e.getUniformLocation(n,f,c),offset:e.getUniformLocation(n,`offset${f}`,c)};t.enableShapeUniforms&&(a.shape=e.getUniformLocation(n,`${f}Shape`,c),a.texShape=e.getUniformLocation(n,`${f}TexShape`,c)),r.push(a)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),o=e.getUniformLocation(n,"outShapeStrides",c),s=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const f of t.customUniforms)a.push(e.getUniformLocation(n,f.name,c));return{variablesLocations:r,customUniformLocations:a,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:o,outTexShapeLocation:s}}function B4(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,a=t[n],i=a.shape;if(!VI(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&a.isUniform)return;const s=e.texShape,o=a.isUniform?null:a.texData.texShape;if(!VI(s,o))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${o} must match`)}))}function U4(e){return wS().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class W4{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=z2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=b4();this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?w4(["r","c","d"],e):v4(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class V4{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=z2.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=b4();this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?w4(["r","c","d"],e):v4(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class G4{constructor(e){this.variableNames=["A"],this.outTexUsage=P2.DOWNLOAD;const t=b4();this.outputShape=e,this.userCode=`\n      ${C4}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class H4{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=P2.DOWNLOAD;const t=b4();this.outputShape=e,this.userCode=`\n      ${C4}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const Y4={R:0,G:1,B:2,A:3};class Q4{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=b4();this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)");let i="";for(let s=0;s<n.length;s++){const e=n[s];i+=`\n          if(offset == ${s}) {\n            result = values[${Y4[e]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":k4(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${i}\n        }\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}class J4{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=b4();this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length);let r="",a="result";t&&(a="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let t=0;t<=1;t++){const a=2*i+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${i} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${i};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${a}] = values[0];\n            } else if (offset == 1) {\n              result[${a}] = values[1];\n            } else if (offset == 2) {\n              result[${a}] = values[2];\n            } else {\n              result[${a}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":k4(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${a};\n        }\n    `}}function Z4(e){const t=b4();return function(e,t){const n=r4(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(H2(e,(()=>e.shaderSource(n,t))),H2(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function q4(e){return function(e,t){const n=r4(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return H2(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),H2(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function K4(e){return function(e,t){const n=r4(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return H2(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),H2(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function X4(e,t,n,r,a,i){!function(e,t){const n=wS().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const s=function(e){return r4(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),o=e.TEXTURE_2D;return H2(e,(()=>e.bindTexture(o,s))),H2(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),H2(e,(()=>e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),H2(e,(()=>e.texParameteri(o,e.TEXTURE_MIN_FILTER,e.NEAREST))),H2(e,(()=>e.texParameteri(o,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===wS().getNumber("WEBGL_VERSION")?H2(e,(()=>e.texImage2D(o,0,r,t,n,0,a,i,null))):H2(e,(()=>e.texStorage2D(o,1,r,t,n))),H2(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[n,t]}}function e3(e){return e.internalFormatFloat}function t3(e){return e.internalFormatHalfFloat}function n3(e){return e.downloadTextureFormat}function r3(e){return e.internalFormatPackedFloat}function a3(e){return e.internalFormatPackedHalfFloat}function i3(e,t,n,r,a,i,s,o){const l=e,u=new Float32Array(function(e,t){const[n,r]=V2(e,t);return n*r*4}(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class s3{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=wS().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){_2[e]=t}(t,e)):this.gl=F2(t),e=this.gl,2===wS().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>H2(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>H2(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>H2(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>H2(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>H2(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>H2(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>H2(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>H2(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===wS().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=Q2(this.gl,e),d4(this.gl,t))this.textureHalfFloatExtension=Q2(this.gl,t);else if(wS().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),d4(this.gl,r))this.colorBufferHalfFloatExtension=Q2(this.gl,r);else if(wS().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",d4(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!d4(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=q4(this.gl),this.indexBuffer=K4(this.gl),this.framebuffer=function(e){return r4(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=G2(this.gl,this.textureHalfFloatExtension)}get debug(){return wS().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;H2(e,(()=>e.finish())),H2(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),H2(e,(()=>e.deleteFramebuffer(this.framebuffer))),H2(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),H2(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),H2(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=U2(t,n);return X4(e,a,i,e3(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=U2(t,n);return X4(e,a,i,t3(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=U2(t,n);return X4(e,a,i,n3(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){H2(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===wS().getNumber("WEBGL_VERSION")?H2(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):H2(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===wS().getNumber("WEBGL_VERSION")?H2(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):H2(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),H2(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,i){let s,o,l;H2(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),a instanceof Uint8Array?(s=new Uint8Array(n*r*4),o=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*r*4),o=e.FLOAT,l=i.internalFormatPackedFloat),s.set(a),2===wS().getNumber("WEBGL_VERSION")?H2(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,o,s))):H2(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,o,s))),H2(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=V2(t,n);return X4(e,a,i,a3(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[a,i]=V2(t,n);return X4(e,a,i,r3(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(t4(this.gl,this.framebuffer),this.outputTexture=null),H2(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[a,i]=U2(t,n),s=new Uint8Array(t*n*4);return H2(e,(()=>e.readPixels(0,0,a,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,a,i){return i3(this.gl,e,0,0,0,a,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();H2(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const a=16*t*n;return H2(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ))),H2(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),H2(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(wS().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(a,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=a}else wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return H2(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=Z4(t));const n=function(e){return r4(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);H2(t,(()=>t.attachShader(n,this.vertexShader))),H2(t,(()=>t.attachShader(n,e))),function(e,t){if(H2(e,(()=>e.linkProgram(t))),!wS().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&q2(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;H2(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){H2(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),K2(e,t,"clipSpacePos",n,3,20,0)&&K2(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(H2(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&q2(this.gl,this.program),H2(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return r4(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),H2(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),X2(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,a]=V2(t,n);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&q2(this.gl,this.program),n4(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}H2(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),H2(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Q2(this.gl,2===wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await QI((()=>this.disposed||this.isQueryAvailable(e,wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in wS().platform&&(n=wS().platform.setTimeoutCustom.bind(wS().platform)),QI((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),e4(this.gl,e,this.framebuffer),this.debug&&n4(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(e4(this.gl,this.outputTexture,this.framebuffer),this.debug&&n4(this.gl)):t4(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;e4(r,e,this.framebuffer),this.debug&&n4(r),this.outputTexture=e,H2(r,(()=>r.viewport(0,0,t,n))),H2(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),H2(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:o3,XI:l3,Nk:u3,f6:c3,ct:f3,YG:d3,hH:h3,z3:p3,sG:m3,uM:g3,vS:y3,qB:b3,GG:v3,rq:w3,lg:x3,WR:k3,cu:C3,GE:N3,px:I3,jC:S3,He:M3,hE:E3,BF:L3,Dk:T3,cl:A3,_B:D3,ub:R3,_f:j3,Ku:O3,qy:_3,Zy:$3,bu:F3,zv:z3,dH:P3,HS:B3,yH:U3,l3:W3,z9:V3,x6:G3,_m:H3,eW:Y3,GK:Q3,SP:J3,yr:Z3,dl:q3,Dw:K3,xT:X3,_X:e6,wz:t6}=M;function n6(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function r6(e,t){return 1===t?[e]:n6(e,t)}class a6{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=U4(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=r6("rc",this.rank),t=O4(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),a=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${a}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let a=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)a=`${e[e.length-1-t]},`+a;t.push(a)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class i6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length);let n="";for(let i=0;i<4;i++){let e="thisRC = rc;";i%2===1&&(e+="thisRC.z += 1;"),i>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${i>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${i}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${i>0?"}":""}\n      `}var r,a;this.userCode=`\n      ${r=t,a=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${a?x4(["r","c","d"],"inputShape"):v4(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":k4(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class s6{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=l6(t,n),a=u6(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const i=o6(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[a].pop();return this.usedTextures[a].push(e),e}let s;return r===B2.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===B2.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===B2.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===B2.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===B2.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(s),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),s}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const a=l6(n,r),i=u6(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);const s=o6(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),o=wS().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==o&&this._numBytesAllocated>o?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const l=this.usedTextures[i],u=l&&l.indexOf(e);if(null==u||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function o6(e,t,n,r,a){const i=function(e,t){switch(e){case B2.PACKED_2X2_FLOAT32:return r3(t);case B2.PACKED_2X2_FLOAT16:return a3(t);case B2.UNPACKED_FLOAT32:return e3(t);case B2.UNPACKED_FLOAT16:return t3(t);case B2.PACKED_4X1_UNSIGNED_BYTE:return n3(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let s;if(a){const[t,n]=V2(e[0],e[1]);s=t*n}else{const[t,n]=U2(e[0],e[1]);s=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,i);return s*o}function l6(e,t){if(e===P2.UPLOAD)return B2.PACKED_2X2_FLOAT32;if(e===P2.RENDER||null==e)return function(e){return wS().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?B2.PACKED_2X2_FLOAT32:B2.UNPACKED_FLOAT32:e?B2.PACKED_2X2_FLOAT16:B2.UNPACKED_FLOAT16}(t);if(e===P2.DOWNLOAD||e===P2.PIXELS)return B2.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function u6(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class c6{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const f6="if (isnan(x)) return x;",d6="return abs(x);";const h6=f6+"\n  return (x < 0.0) ? 0.0 : x;\n",p6=f6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",m6="return x;";class g6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class y6{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length);const t=e.length,n=r6("rc",t),r=O4(t),a=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),s=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${a});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const b6=P$,v6={};const w6=wS().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class x6 extends jI{nextDataId(){return x6.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!wS().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof s3)t=e;else{const n=F2(wS().getNumber("WEBGL_VERSION"),e);t=new s3(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=F2(wS().getNumber("WEBGL_VERSION"));t=new s3(e),this.binaryCache=((n=wS().getNumber("WEBGL_VERSION"))in v6||(v6[n]={}),v6[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new s6(this.gpgpu),this.numMBBeforeWarning=null==wS().global.screen?1024:wS().global.screen.height*wS().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new RI(this,dA())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,a,i){const s=this.makeTensorInfo(t,n),o=this.texData.get(s.dataId);o.isPacked=!1,o.texture={texture:e,texShape:[r,a]},o.texShape=[r,a];const l=o4(t),u=new Q4(l,!1,i),c=this.runWebGLProgram(u,[s],n,[[r,a]]);return c.shape=t,o.texture=null,this.disposeIntermediateTensorInfo(s),c.dataId}write(e,t,n){if((wS().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||wS().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:P2.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,a){if(wS().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:P2.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:a,slice:i,shape:s,isPacked:o}=t;if(null!=i){let t;t=o?new g6(s,m6):new c6(s,m6);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:r}],r),a=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=uT()),"complex64"===r){c=zz(this.readSync(a.real.dataId),this.readSync(a.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=uT()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:a,dtype:i,complexTensorInfos:s,isPacked:o}=t;if(null!=a){let t;t=o?new g6(r,m6):new c6(r,m6);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),a=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),a}if(null!=n)return this.convertAndCacheOnCPU(e);if(wS().getBool("DEBUG")&&!wS().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===wS().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==i&&wS().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...W2(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]);u=zz(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=WI(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;H2(e,(()=>e.deleteBuffer(c)))}const f=this.convertAndCacheOnCPU(e,u),d=this.pendingRead.get(e);return this.pendingRead.delete(e),d.forEach((e=>e(f))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&dA().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:a,slice:i,dtype:s,isPacked:o,texture:l}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=o?new g6(a,m6):new c6(a,m6);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:s}],s),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=dA().makeTensorFromTensorInfo(u),f=this.texData.get(u.dataId);return Object.assign({tensorRef:c},f.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>dT(e)));return kD(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return kD(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Y2(n)){if(wS().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),a=WI(t);if(wS().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...W2(t)).subarray(0,a);return this.disposeIntermediateTensorInfo(n),i}const i=wS().getBool("WEBGL_PACK")&&!0===r,s=i?o4(t):t,o=i?new H4(s):new G4(s),l=this.runWebGLProgram(o,[{shape:s,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const a=pT(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=pT(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(a);s.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:i[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:uT(),endMs:null}}endTimer(e){return wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=uT(),e)}async getQueryTime(e){if(wS().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:a,isPacked:i,slice:s}=this.texData.get(e),o=s&&s.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,a,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w6;return wS().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&WI(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){_L("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return b6(e.shape,t)}packedUnaryOp(e,t,n){const r=new g6(e.shape,t),a=this.compileAndRun(r,[e],n);return dA().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=P3(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(wS().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,d6,e.dtype);const t=new c6(e.shape,d6),n=this.compileAndRun(t,[e]);return dA().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&nS(n[0])){const a=n.map((e=>fT(e)));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return dA().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new y6(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new a6(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[i4(e.shape),...s4(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[i4(t),...s4(t)],i=new i6(a,n),s=[n],o=this.runWebGLProgram(i,[r],e.dtype,s,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:i}=n;if(null!=t){PI(WI(a)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=o4(a);let o;o=r?new V4(s):new W4(s);const l=[null!=t?t:W2(s)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(o,[{shape:s,dtype:i,dataId:e}],i,l,!0,t).dataId}}runWebGLProgram(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;const s=this.makeTensorInfo(e.outputShape,n),o=this.texData.get(s.dataId);if(e.packedOutput&&(o.isPacked=!0),e.outPackingScheme===z2.DENSE){const t=null!=i?i:W2(e.outputShape);o.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(o.usage=e.outTexUsage),0===WI(s.shape))return o.values=KI(s.dtype,0),s;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&WI(t.shape)<=wS().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!u4(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);const c={shape:s.shape,texData:o,isUniform:!1},f=function(e,t,n){let r="";t.concat(n).forEach((t=>{const a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:s,uniformShape:o,keptDims:l}=_4(e.packedInputs,t.shape,i);let u="",c="",f="";if(1===o.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==o.length||e.packedInputs){if(o.length>2&&!e.packedInputs){const e=oS(o);f=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else c=`${o[0]>1}_${o[1]>1}`;const d=t.shape.length,h=2===o.length&&VI(t.shape,i),p=1===WI(t.shape),m=QD(t.shape,n.shape),g=!e.packedInputs&&d===n.shape.length&&VI(i,n.texData.texShape),y=e.packedInputs||o.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${d}_${g}_${s?l:""}_${o.length}_${p}_${m}_${h}_${u}_${c}_${f}_${y}_${a}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${a}`}}));const a=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+a+`${wS().getNumber("WEBGL_VERSION")}`,i}(e,u,c),d=this.getAndSaveBinary(f,(()=>z4(this.gpgpu,e,u,c))),h=null!=this.activeTimers;let p;h&&(p=this.startTimer()),wS().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(B4(t.inShapeInfos,n),B4([t.outShapeInfo],[r]));const i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,s[0],s[1]):e.setOutputMatrixTexture(i.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===wS().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:a,offset:i,shape:s,texShape:o}=t.variablesLocations[l];if(s){const{uniformShape:n}=_4(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(s,new Int32Array(n));break;case 2:e.gl.uniform2iv(s,new Int32Array(n));break;case 3:e.gl.uniform3iv(s,new Int32Array(n));break;case 4:e.gl.uniform4iv(s,new Int32Array(n))}}if(o&&e.gl.uniform2i(o,r.texData.texShape[0],r.texData.texShape[1]),null!=a)if(r.isUniform)if(WI(r.shape)<2)e.gl.uniform1f(a,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,a,l)}const o=t.outShapeLocation;if(o)switch(r.shape.length){case 1:e.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(o,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=oS(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],i=a[l];if("float"===n.type)e.gl.uniform1fv(r,i);else if("vec2"===n.type)e.gl.uniform2fv(r,i);else if("vec3"===n.type)e.gl.uniform3fv(r,i);else if("vec4"===n.type)e.gl.uniform4fv(r,i);else if("int"===n.type)e.gl.uniform1iv(r,i);else if("ivec2"===n.type)e.gl.uniform2iv(r,i);else if("ivec3"===n.type)e.gl.uniform3iv(r,i);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(r,i)}}e.executeProgram()}(this.gpgpu,d,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(p=this.endTimer(p),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(p)}));const m=wS().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=uT();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!wS().getBool("WEBGL_LAZILY_UNPACK")&&o.isPacked&&!1===a){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,a)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!wS().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=pA((()=>{if(!wS().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=wS().getBool("DEBUG");wS().set("DEBUG",!1);const t=this.abs(jD(1e-8)).dataSync()[0];if(wS().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:a,texture:i,usage:s,isPacked:o}=t;if(null!=i)return;const l=null!=this.activeTimers;let u;l&&(u=uT());let c=t.texShape;if(null==c&&(c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=wS().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=wS().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&wS().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?FI(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=qI(e);e=t.newShape}let a=WI(e),i=null;e.length<=1&&a<=n?i=[1,a]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const s=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||s)if(t){const t=i4(e);let n=2,r=2;e.length&&([n,r]=s4(e)),a=t*(n/2)*(r/2),i=HI(a).map((e=>2*e))}else i=HI(a);return i}(n,o),t.texShape=c),null!=a){const e=o4(n);let i,s=c[1],f=c[0];const d=a instanceof Uint8Array||a instanceof Uint8ClampedArray;!o&&d||([s,f]=V2(c[0],c[1])),i=o?new J4(e,d):new Q4(e,d);const h=d?[f,s]:c,p=this.makeTensorInfo(h,r),m=this.texData.get(p.dataId);m.usage=d?P2.PIXELS:P2.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(p.dataId),s,f,a);const g=[[f,s]],y=!0,b=this.runWebGLProgram(i,[p],r,g,y),v=this.texData.get(b.dataId);t.texShape=v.texShape,t.isPacked=v.isPacked,t.usage=v.usage,wS().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=v.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(p),l&&(this.uploadWaitMs+=uT()-u)}else{const e=this.acquireTexture(c,s,r,o);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*tS(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await pz(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Z2(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:a,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:o}=P4(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=a,e.outShapeLocation=i,e.outShapeStridesLocation=s,e.outTexShapeLocation=o}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:a,width:i,channels:s}=e,o=dA().backend;if(!o.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=o.writeTexture(r,t,n,a,i,s);return dA().makeTensorFromDataId(l,t,n,o)}}x6.nextDataId=0;KT()&&bA("webgl",(()=>new x6),2);const k6="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class C6{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=ZD(t,n),this.enableShapeUniforms=U4(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const N6="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class I6{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ZD(t,n);const a=this.outputShape.length;this.enableShapeUniforms=U4(a);let i="";if(r)if(0===a||1===WI(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(i=`\n          ${O4(a)} coords = getOutputCoords();\n        `,1===a)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=r6("coords",a);this.enableShapeUniforms?i+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= outShape[${a} - 2];\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= outShape[${a} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:i+=`\n            bool nextRowOutOfBounds =\n              (${e[a-2]} + 1) >= ${this.outputShape[a-2]};\n            bool nextColOutOfBounds =\n              (${e[a-1]} + 1) >= ${this.outputShape[a-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${i}\n\n        setOutput(result);\n      }\n    `}}function S6(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const M6={kernelName:PM,backendName:"webgl",kernelFunc:S6};function E6(e){const{inputs:t,backend:n}=e,{real:r,imag:a}=t,i=n.makeTensorInfo(r.shape,"complex64"),s=n.texData.get(i.dataId),o=S6({inputs:{x:r},backend:n}),l=S6({inputs:{x:a},backend:n});return s.complexTensorInfos={real:o,imag:l},i}const L6={kernelName:qS,backendName:"webgl",kernelFunc:E6},T6="return (a < 0.) ? b * a : a;",A6="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const D6={kernelName:HM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{alpha:i}=r,s=n.makeTensorInfo([],"float32",oT(i,"float32")),o=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new I6(A6,a.shape,s.shape):new C6(T6,a.shape,s.shape),l=n.runWebGLProgram(o,[a,s],"float32");return n.disposeIntermediateTensorInfo(s),l}},R6="return (a < 0.) ? b * a : a;",j6="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const O6={kernelName:ME,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:a}=t,i=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new I6(j6,r.shape,a.shape):new C6(R6,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}},_6="if (isnan(x)) return x;";function $6(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:a}=e;return e=>{let{inputs:i,backend:s}=e;const{x:o}=i,l=s,u=a||o.dtype;if(l.shouldExecuteOnCPU([o])&&null!=r){const e=l.texData.get(o.dataId),t=r(e.values,u);return l.makeTensorInfo(o.shape,u,t)}let c;return c=wS().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new g6(o.shape,n):new c6(o.shape,t),l.runWebGLProgram(c,[o],u)}}function F6(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:a=!1,cpuKernelImpl:i,dtype:s}=e;return e=>{let{inputs:o,backend:l}=e;const{a:u,b:c}=o,f=l;if(a&&"complex64"===u.dtype){const e=f.texData.get(u.dataId),n=f.texData.get(c.dataId),[r,a]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,a={dataId:n.dataId,dtype:n.dtype,shape:u.shape},i={dataId:r.dataId,dtype:r.dtype,shape:c.shape},s=new C6(t,u.shape,c.shape);return f.runWebGLProgram(s,[a,i],_T(n.dtype,r.dtype))})),i=E6({inputs:{real:r,imag:a},backend:f});return f.disposeIntermediateTensorInfo(r),f.disposeIntermediateTensorInfo(a),i}const d=s||_T(u.dtype,c.dtype);if(("string"===u.dtype||"string"===c.dtype||f.shouldExecuteOnCPU([u,c]))&&null!=i){const e=f.texData.get(u.dataId).values,t=f.texData.get(c.dataId).values,n="string"===u.dtype?vP(e):e,r="string"===u.dtype?vP(t):t,[a,s]=i(u.shape,c.shape,n,r,d),o=f.makeTensorInfo(s,d);return f.texData.get(o.dataId).values=a,o}let h;return h=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new I6(n,u.shape,c.shape,r):new C6(t,u.shape,c.shape),f.runWebGLProgram(h,[u,c],d)}}function z6(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":h6;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":p6;if("prelu"===e)return t?j6:R6;if("leakyrelu"===e)return t?A6:T6;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class P6{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=U4(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),f=r?"i * 2, rc.y":"rc.y, i * 2",d=a?"rc.z, i * 2":"i * 2, rc.z",h=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";s&&(m=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,g="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",v="rc.x";e[0]<t[0]?b=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(v=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${b};\n        int batchB = ${v};\n        for (int i = 0; i < ${c}; i++) {\n          vec4 a = getMatrixA(batchA, ${f});\n          vec4 b = getMatrixB(batchB, ${d});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${p[0]});\n          result += (${h[1]} * ${p[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const B6="return areal * breal - aimag * bimag;",U6="return areal * bimag + aimag * breal;";class W6{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ZD(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const V6="return a * b;";function G6(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=_T(r.dtype,a.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),i=new W6(B6,r.shape,a.shape),s=new W6(U6,r.shape,a.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:a.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:a.shape}],l=n.runWebGLProgram(i,o,"float32"),u=n.runWebGLProgram(s,o,"float32"),c=E6({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,a])){const e=n.texData.get(r.dataId),t=n.texData.get(a.dataId),[s,o]=L3(r.shape,a.shape,e.values,t.values,i),l=n.makeTensorInfo(o,i);return n.texData.get(l.dataId).values=s,l}let s;return s=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new I6(V6,r.shape,a.shape):new C6(V6,r.shape,a.shape),n.runWebGLProgram(s,[r,a],i)}const H6={kernelName:gE,backendName:"webgl",kernelFunc:G6};function Y6(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{shape:i}=r,s=n,o=WI(a.shape),l=JI(i,o),u=WI(l);PI(o===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`));const c=s.texData.get(a.dataId);return!c.isPacked||u4(a.shape,l)||null!==c.texture&&u4(c.shape,l)?(s.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):function(e,t,n){const r=[i4(e.shape),...s4(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[i4(t),...s4(t)],s=new i6(i,r),o=[r],l=n.runWebGLProgram(s,[a],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(a,l,s)}const Q6={kernelName:_E,backendName:"webgl",kernelFunc:Y6};class J6{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];const s=4*Math.floor(n/4),o=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${GI(e)?e.toPrecision(2):e}, ones);`}let u="";a%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===o}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===o}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class Z6{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:a,outSize:i}=e;this.outputShape=[r,i];let s="0.0",o="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",o="min"):"max"===t&&(s="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let f=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,d="vec4";"all"===t?(s="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===t&&(s="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");let h="";a%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${f}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${f}\n        } else if (${2===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${f}\n        } else if (${3===c}) {\n          ${d} values = ${d}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${f}\n        }\n        setOutput(${l});\n      }\n    `}}function q6(e,t,n,r){const a=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=Cz(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let s=0;s<a.length;s++){const{inSize:o,windowSize:l,outSize:u}=a[s];let c,f;c="mean"===n?0===s?new J6({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},o):new J6({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u}):new Z6({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:u},n),f=i,i=r.runWebGLProgram(c,[i],t),f.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(f)}return i}class K6{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;const r=O4(this.rank),a=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${a}));\n    }\n    `}}class X6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[t[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=O4(this.rank),a=n6("rc",this.rank),i=new Array(this.rank);for(let u=0;u<t.length;u++)i[t[u]]=a[u];const s=`vec2(${i.slice(-2).join()})`,o=`++${a[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${a[this.rank-1]};\n      if(++${a[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function e9(e,t,n){const r=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new X6(e.shape,t):new K6(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function t9(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r;return function(e,t,n,r){const a=t,i=e.shape.length,s=ZI(a,e.shape);let o=s;const l=bO(o,i),u=null!=l;let c=e;u&&(c=e9(e,l,r),o=wO(o.length,i)),yO("sum",o,i);const[f,d]=mO(c.shape,o);let h=f;n&&(h=gO(f,s));const p=WI(d),m=Y6({inputs:{x:c},attrs:{shape:[WI(e.shape)/p,p]},backend:r}),g=q6(m,$T(e.dtype),"sum",r),y=Y6({inputs:{x:g},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),y}(a,i,s,n)}const n9={kernelName:rL,backendName:"webgl",kernelFunc:t9};function r9(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{perm:i}=r,s=n,o=a.shape.length,l=new Array(o);for(let c=0;c<l.length;c++)l[c]=a.shape[i[c]];let u;if(s.shouldExecuteOnCPU([a])){const e=s.texData.get(a.dataId).values,t=e6(e,a.shape,a.dtype,i,l);u=s.makeTensorInfo(l,a.dtype);s.texData.get(u.dataId).values=t}else u=e9(a,i,s);return u}const a9={kernelName:IL,backendName:"webgl",kernelFunc:r9};function i9(e){let{a:t,b:n,transposeA:r,transposeB:a,backend:i,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:l=0,activation:u=null}=e;const c=t.shape.length,f=n.shape.length,d=r?t.shape[c-2]:t.shape[c-1],h=a?n.shape[f-1]:n.shape[f-2],p=r?t.shape[c-1]:t.shape[c-2],m=a?n.shape[f-2]:n.shape[f-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),b=WI(g),v=WI(y),w=ZD(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([p,m]);PI(d===h,(()=>`Error in matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${a} must match.`));const x=r?[b,d,p]:[b,p,d],k=a?[v,m,h]:[v,h,m],C=Y6({inputs:{x:t},backend:i,attrs:{shape:x}}),N=Y6({inputs:{x:n},backend:i,attrs:{shape:k}}),I=[C,N],S=Math.max(b,v),M=r?C.shape[1]:C.shape[2],E=null!=s,L=null!=o,T="leakyrelu"===u,A=null!=u?z6(u,!0):null;let D;if((1===p||1===m)&&M>1e3&&!1===(E||L||T||null!=A)){let e=C,t=N;r&&(e=r9({inputs:{x:C},backend:i,attrs:{perm:[0,2,1]}}),I.push(e)),a&&(t=r9({inputs:{x:N},backend:i,attrs:{perm:[0,2,1]}}),I.push(t));const n=1===m;let s=e;1!==m&&(s=Y6({inputs:{x:e},backend:i,attrs:{shape:[S,M,1]}}),I.push(s));const o=1===m?2:1;let l=t;n&&(l=Y6({inputs:{x:t},backend:i,attrs:{shape:[S,1,M]}}),I.push(l));const u=G6({inputs:{a:s,b:l},backend:i});D=t9({inputs:{x:u},backend:i,attrs:{axis:o,keepDims:!0}}),I.push(u)}else{const e=_T(t.dtype,n.dtype),u=new P6(x,k,[S,p,m],r,a,E,A,L,T),c=[C,N];if(null!=s&&c.push(s),L&&c.push(o),T){const e=i.makeTensorInfo([],"float32",oT(l,"float32"));c.push(e),I.push(e)}D=i.runWebGLProgram(u,c,e)}const R=Y6({inputs:{x:D},backend:i,attrs:{shape:w}});I.push(D);for(const j of I)i.disposeIntermediateTensorInfo(j);return R}const s9={kernelName:RL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:f}=r;return i9({a:a,b:i,transposeA:l,transposeB:u,backend:n,bias:s,preluActivationWeights:o,leakyreluAlpha:f,activation:c})}},o9="return abs(x);";const l9={kernelName:IS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=P3(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let a;return a=wS().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new g6(r.shape,o9):new c6(r.shape,o9),n.runWebGLProgram(a,[r],r.dtype)}},u9=$6({opSnippet:f6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),c9={kernelName:SS,backendName:"webgl",kernelFunc:u9},f9=$6({opSnippet:f6+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),d9={kernelName:MS,backendName:"webgl",kernelFunc:f9},h9="return a + b;",p9=F6({opSnippet:h9,packedOpSnippet:h9,supportsComplex:!0,cpuKernelImpl:o3}),m9={kernelName:ES,backendName:"webgl",kernelFunc:p9};class g9{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class y9{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const b9={kernelName:LS,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,a=n;if(1===a.length)return S6({inputs:{x:a[0]},backend:r});if(a.length>wS().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(a.length/2),n=e({inputs:a.slice(0,t),backend:r}),i=e({inputs:a.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=a.map((e=>e.dtype)).reduce(((e,t)=>_T(e,t))),s=a.map((e=>e.shape)),o=wS().getBool("WEBGL_PACK")?new y9(a[0].shape,s):new g9(a[0].shape,s);return r.runWebGLProgram(o,a,i)}};const v9={kernelName:TS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=ZI(i,a.shape);let u=l;const c=bO(u,o);let f=a;null!=c&&(f=r9({inputs:{x:a},backend:n,attrs:{perm:c}}),u=wO(u.length,o)),yO("all",u,o);const[d,h]=mO(f.shape,u),p=Y6({inputs:{x:f},backend:n,attrs:{shape:[-1,WI(h)]}}),m=q6(p,p.dtype,"all",n);let g;if(s){g=Y6({inputs:{x:m},backend:n,attrs:{shape:gO(d,l)}})}else g=Y6({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(f),g}};const w9={kernelName:AS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=ZI(i,a.shape);let u=l;const c=bO(u,o);let f=a;null!=c&&(f=r9({inputs:{x:a},backend:n,attrs:{perm:c}}),u=wO(u.length,o)),yO("any",u,o);const[d,h]=mO(f.shape,u),p=Y6({inputs:{x:f},backend:n,attrs:{shape:[-1,WI(h)]}}),m=q6(p,p.dtype,"any",n);let g;if(s){g=Y6({inputs:{x:m},backend:n,attrs:{shape:gO(d,l)}})}else g=Y6({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(f),g}};class x9{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];const s="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class k9{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,PI(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const s=this.outputShape,o=s.length,l=O4(o),u=r6("coords",o);let c,f;if(1===i){f=o+1;const e=O4(f);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[o-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[o-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[o-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[o-2]};`}else f=o,c=`\n        ${l} sourceLocR = coords;\n        ++${u[o-1]};\n        ${l} sourceLocG = coords;\n        ++${u[o-2]};\n        ${l} sourceLocA = coords;\n        --${u[o-1]};\n        ${l} sourceLocB = coords;\n        --${u[o-2]};`;const d=["x","y","z","w","u","v"].slice(0,f),h="."+d[f-1],p=d.map((e=>"int "+e)),m=r6("sourceLocR",f-1).concat("inIdx.r"),g=r6("sourceLocG",f-1).concat("inIdx.g"),y=r6("sourceLocB",f-1).concat("inIdx.b"),b=r6("sourceLocA",f-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",w=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${b.join()})));`,x=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${b.join()}) : 0.)`,k=r?"":`\n      float getBestIndicesAChannel(${p.join()}) {\n        return getChannel(getBestIndicesA(${d.join()}),\n                                          vec2(${d.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${p.join()}) {\n        return getChannel(getA(${d.join()}),\n                               vec2(${d.slice(-2).join()}));\n      }\n      ${k}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[o-1]} < ${s[o-1]-1};\n        bool hasNextRow = ${u[o-2]} < ${s[o-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},\n          sourceLocB${h}, sourceLocA${h}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${x};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${w}\n          vec4 candidate = ${x};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${v}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function C9(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);const s=Cz(i),o={windowSize:s,inSize:i,batchSize:a,outSize:Math.ceil(i/s)},l=new x9(o,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const f=C9(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}function N9(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=null!=r?r.shape:t.shape,i=Cz(a[a.length-1]),s=new k9(a,i,n,null==r),o=null==r?[t]:[t,r],l=e.runWebGLProgram(s,o,"int32");if(l.shape.length===t.shape.length){const r=N9(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function I9(e,t,n,r){const a=[n];if(yO("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!wS().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let s=t;null!==i&&i.isPacked&&(s=e.unpackTensor(t),n.push(s));const[o,l]=mO(s.shape,a),u=WI(l),c=Y6({inputs:{x:s},backend:e,attrs:{shape:[-1,u]}});n.push(c);const f=C9(e,c,r);n.push(f);const d=Y6({inputs:{x:f},backend:e,attrs:{shape:o}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),d}return N9(e,t,r)}const S9={kernelName:DS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let s=ZI(i,a.shape);const o=bO(s,a.shape.length);let l=a;const u=[];null!=o&&(l=r9({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=wO(s.length,l.shape.length)),yO("argMax",[s[0]],l.shape.length);const c=I9(n,l,s[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};const M9={kernelName:RS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i}=r;let s=ZI(i,a.shape);const o=bO(s,a.shape.length);let l=a;const u=[];null!=o&&(l=r9({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=wO(s.length,l.shape.length)),yO("argMin",[s[0]],l.shape.length);const c=I9(n,l,s[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},E9=$6({opSnippet:f6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),L9={kernelName:jS,backendName:"webgl",kernelFunc:E9},T9=$6({opSnippet:f6+"return log(x + sqrt(x * x + 1.0));"}),A9={kernelName:OS,backendName:"webgl",kernelFunc:T9},D9=$6({opSnippet:f6+"\n  return atan(x);\n"}),R9={kernelName:_S,backendName:"webgl",kernelFunc:D9},j9=F6({opSnippet:k6+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+N6+"\n  return result;\n"}),O9={kernelName:FS,backendName:"webgl",kernelFunc:j9},_9=$6({opSnippet:f6+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),$9={kernelName:$S,backendName:"webgl",kernelFunc:_9};class F9{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,f=e.effectiveFilterWidth,d=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const p="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(p||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${o});\n        const ivec2 pads = ivec2(${d}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${f};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?a?m:g:`wR * ${f} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / max(count, 1.0)");const v=4*Math.floor(i/4),w=i%4,x=`\n      if (${p}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${o});\n      const ivec2 pads = ivec2(${d}, ${h});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${v}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${x}\n          }\n\n          int xC = xCCorner + ${v};\n          if (${1===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${2===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${3===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${x}\n          }\n        }\n        setOutput(${b});\n      }\n    `}}class z9{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideDepth,o=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,f=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let v="0.0";if(b||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${o}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${d};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${p};\n                  wC += ${f}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${p} +\n                      wR * ${p} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let w=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(w="avgValue / max(count, 1.0)");const x=4*Math.floor(i/4),k=i%4,C=`\n      if (${b}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${o}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${x}; wC += 4) {\n              int xC = xCCorner + wC * ${f};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${f}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${f}, ch)\n              );\n\n              ${C}\n            }\n\n            int xC = xCCorner + ${x};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${C}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${C}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${f}, ch),\n                initializationValue\n              );\n\n              ${C}\n            }\n          }\n        }\n        setOutput(${w});\n      }\n    `}}const P9={kernelName:zS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;g4(a,"avgPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;PI(mj(s,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const u=ij(a.shape,i,s,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&VI(u.inShape,u.outShape))return S6({inputs:{x:a},backend:n});const c=new F9(u,"avg",!1);return n.runWebGLProgram(c,[a],"float32")}};const B9={kernelName:BS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=sj(a.shape,i,s,[1,1,1],o,l,u),f=new z9(c,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}};class U9{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=o-1-e.padInfo.top,c=l-1-e.padInfo.left,f=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${f});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class W9{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=c-1-e.padInfo.front,p=f-1-e.padInfo.top,m=d-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${p}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${a}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${f};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const V9={kernelName:US,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,f=sj(s.shape,o,l,[1,1,1],u,c),d=new W9(f);return n.runWebGLProgram(d,[a],s.dtype)}};const G9={kernelName:PS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i;g4([a,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,c=ij(s.shape,o,l,1,u),f=new U9(c);return n.runWebGLProgram(f,[a],s.dtype)}};const H9={kernelName:WS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:a,b:i}=t,{transposeA:s,transposeB:o}=r;return i9({a:a,b:i,transposeA:s,transposeB:o,backend:n})}};class Y9{constructor(e,t,n,r,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],ZD(e,t),ZD(e,n);let s="0.0";null!=r&&(ZD(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="1.0";null!=a&&(ZD(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${s};\n        float scale = ${o};\n        float inv = scale * inversesqrt(variance + float(${i}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class Q9{constructor(e,t,n,r,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ZD(e,t),ZD(e,n);let s="vec4(0.0)";null!=r&&(ZD(e,r),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let o="vec4(1.0)";null!=a&&(ZD(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${s};\n        vec4 scale = ${o};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${i}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const J9={kernelName:OM,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a,mean:i,variance:s,offset:o,scale:l}=t;PI(i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),PI(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),PI(null==l||i.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=[a,i,s];let f=null;null!=o&&(f=o.shape,c.push(o));let d=null;null!=l&&(d=l.shape,c.push(l));const h=wS().getBool("WEBGL_PACK_NORMALIZATION")?new Q9(a.shape,i.shape,s.shape,f,d,u):new Y9(a.shape,i.shape,s.shape,f,d,u);return n.runWebGLProgram(h,c,c[0].dtype)}};class Z9{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=O4(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return q9.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${q9[t]} = start[${t}] + coords.${q9[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const q9=["x","y","z","w","u","v"];class K9{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=O4(this.rank),n=r6("coords",this.rank),r=r6("sourceLoc",this.rank),a=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${a})`,s=`\n      result.x = ${i};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${i};\n        --${r[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${i};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${s}\n        ${o}\n        setOutput(result);\n      }\n    `}}function X9(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,size:s}=r,[o,l]=WR(a,i,s);if(LR(a,o,l),0===WI(l))return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){const e=n.texData.get(a.dataId),t=B3(e.values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,t)}const{isPacked:u}=n.texData.get(a.dataId),c=BR(a.shape,o,l);if(u||!c){const e=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new K9(l):new Z9(l),t=[o];return n.runWebGLProgram(e,[a],a.dtype,t)}return n.uploadToGPU(a.dataId),function(e,t,n,r){const a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),s=r.texData.get(i.dataId);Object.assign(s,a),s.refCount=1,s.shape=n,s.dtype=e.dtype;let o=UR(t,oS(e.shape));a.slice&&(o+=a.slice.flatOffset),s.slice={flatOffset:o,origDataId:a.slice&&a.slice.origDataId||e.dataId};const l=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,l+1),i}(a,o,l,n)}const e5={kernelName:ZE,backendName:"webgl",kernelFunc:X9},t5={kernelName:VS,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,crops:s}=r;PI(a.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const o=i.reduce(((e,t)=>e*t)),l=Iz(a.shape,i,o),u=Sz(l.length,i.length),c=Mz(a.shape,i,o),f=Ez(s,i.length),d=Lz(c,s,i.length),h=[],p=Y6({inputs:{x:a},backend:n,attrs:{shape:l}}),m=r9({inputs:{x:p},backend:n,attrs:{perm:u}}),g=Y6({inputs:{x:m},backend:n,attrs:{shape:c}}),y=X9({inputs:{x:g},backend:n,attrs:{begin:f,size:d}});return h.push(p),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const n5={kernelName:GS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s}=r,o=n.readSync(a.dataId),l=n.readSync(i.dataId),u=l3(o,l,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}};const r5={kernelName:HS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:a}=t,i=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=wS().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,a])||1===s){const e=n.texData.get(r.dataId).values,t=n.texData.get(a.dataId).values,[i,s]=c3(r.shape,a.shape,e,t,r.dtype),o=n.makeTensorInfo(s,r.dtype);return n.texData.get(o.dataId).values=i,o}let o;return o=i?new I6("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,a.shape,!1):new C6("\n  return float(int(a.r) & int(b.r));\n",r.shape,a.shape),n.runWebGLProgram(o,[r,a],r.dtype)}};const a5={kernelName:YS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:a}=t,i=n.readSync(r.dataId),s=n.readSync(a.dataId),o=ZD(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}},i5=F6({opSnippet:"return float(a != b);",cpuKernelImpl:A3,dtype:"bool"}),s5={kernelName:bE,backendName:"webgl",kernelFunc:i5};function o5(e){const{inputs:t,backend:n}=e,{input:r}=t;return S6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const l5={kernelName:RE,backendName:"webgl",kernelFunc:o5};const u5={kernelName:QS,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:a}=t,{x:i}=n,{dtype:s}=a;if("complex64"===s){if("complex64"===i.dtype)return S6({inputs:{x:i},backend:r});const t=u_(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),a=E6({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),a}if("complex64"===i.dtype){const t=o5({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:s}});return r.disposeIntermediateTensorInfo(t),n}if(!eS(i.dtype,s)){const e=S6({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:s}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,a]=f3(e,i.shape,i.dtype,s);return r.makeTensorInfo(t,n,a)}if("int32"===s)return function(e,t){const n=new c6(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===s){const e=r.makeTensorInfo([],"bool",KI("bool",1)),t=i5({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${s}`)}},c5="return ceil(x);",f5=$6({opSnippet:c5,packedOpSnippet:c5,cpuKernelImpl:d3}),d5={kernelName:JS,backendName:"webgl",kernelFunc:f5};class h5{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class p5{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const m5={kernelName:ZS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{clipValueMin:i,clipValueMax:s}=r;let o;o=wS().getBool("WEBGL_PACK_CLIP")?new p5(a.shape):new h5(a.shape);const l=[[i],[s]];return n.runWebGLProgram(o,[a],a.dtype,l)}};class g5{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function y5(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const b5={kernelName:KS,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=n.texData.get(r.dataId),i=new g5(r.shape),s=[y5(r,a.complexTensorInfos.real),y5(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,s,s[0].dtype)}};class v5{constructor(e){this.outputShape=[],this.outputShape=gz(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<t.length;i++){const e=t[i-1];n.push(`else if (yC < ${t[i]}) setOutput(getT${i}(yR, yC-${e}));`)}const r=t.length,a=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${a}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class w5{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=gz(e,t);const n=this.outputShape,r=n.length,a=O4(r),i=r6("coords",r),s=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const o=new Array(e.length-1);o[0]=e[0][t];for(let p=1;p<o.length;p++)o[p]=o[p-1]+e[p][t];const l=s[t],u=s.slice(-2),c=s.join();let f=`if (${l} < ${o[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let p=1;p<o.length;p++){const e=o[p-1];f+=`\n        if (${l} < ${o[p]}  && ${l} >= ${o[p-1]}) {\n          return getChannel(\n            getT${p}(${x5(s,l,e)}),\n            vec2(${x5(u,l,e)}));\n        }`}const d=o.length,h=o[o.length-1];f+=`\n        return getChannel(\n          getT${d}(${x5(s,l,h)}),\n          vec2(${x5(u,l,h)}));`,this.userCode=`\n      float getValue(${s.map((e=>"int "+e))}) {\n        ${f}\n      }\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n        ${i[r-1]} = ${i[r-1]} + 1;\n        if (${i[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${i});\n        }\n\n        ${i[r-2]} = ${i[r-2]} + 1;\n        if (${i[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${i});\n        }\n\n        ${i[r-1]} = ${i[r-1]} - 1;\n        if (${i[r-2]} < ${n[r-2]} &&\n            ${i[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${i});\n        }\n        setOutput(result);\n      }\n    `}}function x5(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}function k5(e){const{inputs:t,backend:n}=e,{input:r}=t;return S6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const C5={kernelName:UM,backendName:"webgl",kernelFunc:k5};function N5(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>o5({inputs:{input:e},backend:n}))),a=e.map((e=>k5({inputs:{input:e},backend:n}))),i=N5(r,t,n),s=N5(a,t,n),o=E6({inputs:{real:i,imag:s},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),a.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),o}let a=n.shouldExecuteOnCPU(e);if("string"===r&&(a=!0),a){const a=e.map((e=>{const r=WI(e.shape.slice(t));return Y6({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=a.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),s=gz(a.map((e=>e.shape)),1),o=1===a[0].shape[0],l=h3(i,s,r,o),u=gz(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const i=e.filter((e=>WI(e.shape)>0)),s=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=s?new c6(e[0].shape,m6):new g6(e[0].shape,m6);return n.runWebGLProgram(t,e,r)}const o=wS().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>o){const e=[];for(let a=0;a<i.length;a+=o){const r=i.slice(a,a+o);e.push(N5(r,t,n))}const r=N5(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(s){const e=new w5(i.map((e=>e.shape)),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:l,outShape:u}=function(e,t,n){const r=gz(e.map((e=>e.shape)),t),a=e.map((e=>Y6({inputs:{x:e},attrs:{shape:[-1,WI(e.shape.slice(t))]},backend:n})));return{tensors2D:a,outShape:r}}(i,t,n),c=new v5(l.map((e=>e.shape))),f=n.runWebGLProgram(c,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const d=Y6({inputs:{x:f},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(f),d}function I5(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r,i=ZI(a,t[0].shape)[0],s=t.map((e=>e.shape));mz(s,i);const o=gz(t.map((e=>e.shape)),i);if(0===WI(o))return n.makeTensorInfo(o,t[0].dtype,[]);const l=t.filter((e=>WI(e.shape)>0));return 1===l.length?S6({inputs:{x:l[0]},backend:n}):N5(l,i,n)}const S5={kernelName:XS,backendName:"webgl",kernelFunc:I5};class M5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1;let v="",w="";n&&(v=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,w="result = activation(result);");const x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${v}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${f}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===p}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===p}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===p}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${x}\n        ${w}\n        setOutput(result);\n      }\n    `}}class E5{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,d=e.filterWidth,h=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${a}, ${i}, ${s});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${f}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===p}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===p}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===p}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class L5{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=U4(this.outputShape.length);const i=e.padInfo.left,s=e.strideWidth,o=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let f="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<u;m++)f+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;f+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<u;m++)f+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;f+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(c+1)/2;m++){const t=2*m;if(f+=`\n           xC = xCCorner + ${t*o};\n           `,1===s){if(t<u&&(i%2===1?(f+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,f+=1===o&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):f+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<u)){const e=i%2===0?FI(o):o;o%2===0&&i%2===1||o%2!==0&&i%2!==1?(f+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,f+=o>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):f+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<u&&(i%2===1?(f+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<u&&(f+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(f+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<u&&(f+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<u&&(f+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<u&&(f+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}f+="\n     }\n   ",f+="\n     }\n   ",f+="\n     }\n   ";let d="",h="";n&&(d=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:a?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,h="result = activation(result);");const p=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${d}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${f}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${p}\n         ${h}\n         setOutput(result);\n       }\n     `}}class T5{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=U4(this.outputShape.length);const{dataFormat:n}=t,r=b4(),a="channelsLast"===n,i=a?1:2,s=a?2:3,o=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${u};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${i}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${a}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function A5(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function D5(e){let{x:t,filter:n,convInfo:r,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}=e;const u=t.shape,c=a.texData.get(t.dataId),f=r.inChannels,d=u[0]*u[1]*u[2],h=r.outChannels,p="channelsLast"===r.dataFormat,m=!1;let g;const y=[];if(null!=s){const e=A5(s.shape,p);null!=e&&(s=Y6({inputs:{x:s},backend:a,attrs:{shape:e}}),y.push(s))}if(null!=i){const e=A5(i.shape,p);null!=e&&(i=Y6({inputs:{x:i},backend:a,attrs:{shape:e}}),y.push(i))}if(!((1===d||1===h)&&f>1e3)&&c.isPacked&&p&&null!=c.texture&&u[2]%2!==0&&VI(c.shape.slice(-3),u.slice(-3))){const e=u[0]*u[1]*(u[2]+1),f={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},d=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,PI(u4(c.shape,f.shape),(()=>`packed reshape ${c.shape} to ${f.shape} isn't free`));const h=Y6({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(h);const p=i9({a:f,b:h,backend:a,transposeA:false,transposeB:m,bias:i,activation:l,preluActivationWeights:s,leakyreluAlpha:o}),b=a.texData.get(p.dataId);PI(b.isPacked,(()=>"batchMatMul result is expected to be packed")),c.shape=d,b.shape=r.outShape,g=S6({inputs:{x:p},backend:a}),g.shape=r.outShape,y.push(p)}else{const e=r.outHeight*r.outWidth,u=Y6({inputs:{x:t},backend:a,attrs:{shape:p?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),c=Y6({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}}),f=i9({a:p?u:c,b:p?c:u,transposeA:!p,transposeB:m,backend:a,bias:i,activation:l,preluActivationWeights:s,leakyreluAlpha:o});g=Y6({inputs:{x:f},backend:a,attrs:{shape:r.outShape}}),y.push(u),y.push(c),y.push(f)}for(const b of y)a.disposeIntermediateTensorInfo(b);return g}function R5(e){let{x:t,filter:n,convInfo:r,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}=e;const{filterWidth:u,filterHeight:c,inChannels:f,outWidth:d,outHeight:h,dataFormat:p}=r,m="channelsLast"===p,g=u*c*f,y=h*d,b=[r.batchSize,g,y],v=[];if(null!=s){const e=A5(s.shape,m);null!=e&&(s=Y6({inputs:{x:s},backend:a,attrs:{shape:e}}),v.push(s))}if(null!=i){const e=A5(i.shape,m);null!=e&&(i=Y6({inputs:{x:i},backend:a,attrs:{shape:e}}),v.push(i))}const w=Y6({inputs:{x:n},backend:a,attrs:{shape:[1,g,WI(n.shape)/g]}});v.push(w);const x=new T5(b,r),k=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],C=a.runWebGLProgram(x,[t],"float32",k),N=Y6({inputs:{x:C},backend:a,attrs:{shape:b}});v.push(C),v.push(N);const I=null!=i,S=null!=s,M="leakyrelu"===l,E=l?z6(l,!0):null,L=new P6(m?N.shape:w.shape,m?w.shape:N.shape,m?[r.batchSize,y,r.outChannels]:[r.batchSize,r.outChannels,y],!0,!1,I,E,S,M),T=m?[N,w]:[w,N];if(i&&T.push(i),S&&T.push(s),M){const e=a.makeTensorInfo([],"float32",oT(o,"float32"));T.push(e),v.push(e)}const A=a.runWebGLProgram(L,T,"float32"),D=Y6({inputs:{x:A},backend:a,attrs:{shape:r.outShape}});v.push(A);for(const R of v)a.disposeIntermediateTensorInfo(R);return D}const j5={kernelName:eM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r,f=yj(l),d=oj(a.shape,i.shape,s,u,o,c,!1,f);let h;if(1!==d.filterHeight||1!==d.filterWidth||1!==d.dilationHeight||1!==d.dilationWidth||1!==d.strideHeight||1!==d.strideWidth||"SAME"!==d.padInfo.type&&"VALID"!==d.padInfo.type)if(d.strideWidth<=2&&"channelsLast"===f&&wS().getBool("WEBGL_EXP_CONV")){const e=new L5(d),t=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(e,[a,i],"float32",t)}else if(wS().getBool("WEBGL_CONV_IM2COL"))h=R5({x:a,filter:i,convInfo:d,backend:n});else{const e=new M5(d);h=n.runWebGLProgram(e,[a,i],"float32")}else h=D5({x:a,filter:i,convInfo:d,backend:n});const p=Y6({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),p}};class O5{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class _5{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,c=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $5{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${a};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class F5{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${a}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const z5={kernelName:tM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,f=yj(l),d=oj(a.shape,c,s,1,o,u,!1,f),h=new O5(d);return n.runWebGLProgram(h,[a,i],"float32")}};class P5{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=U4(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,a=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const B5={kernelName:nM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{inputShape:s,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r,f=yj(u),d=oj(s,i.shape,o,1,l,c,!1,f);if(wS().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===f){const e=[[d.strideHeight,d.strideWidth]],t=new P5(d);return n.runWebGLProgram(t,[a,i],"float32",e)}{const e=new _5(d);return n.runWebGLProgram(e,[a,i],"float32")}}};const U5={kernelName:rM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,u=lj(a.shape,i.shape,s,l,o),c=new E5(u);return n.runWebGLProgram(c,[a,i],"float32")}};const W5={kernelName:aM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,pad:o,filterShape:l}=r,u=lj(a.shape,l,s,1,o),c=new $5(u);return n.runWebGLProgram(c,[a,i],"float32")}};const V5={kernelName:iM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{pad:s,strides:o,inputShape:l}=r,u=lj(l,i.shape,o,1,s),c=new F5(u);return n.runWebGLProgram(c,[a,i],"float32")}},G5=$6({opSnippet:_6+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${N6}\n  return result;\n`}),H5={kernelName:sM,backendName:"webgl",kernelFunc:G5},Y5=$6({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Q5={kernelName:oM,backendName:"webgl",kernelFunc:Y5};class J5{constructor(e,t,n,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,s,o,l]=e,[u]=t,[c,f]=n;this.outputShape=[u,c,f,l];const d="bilinear"===r?1:0,[h,p]=[s-1+".0",o-1+".0"],[m,g,y]=c>1?[""+(s-1)/(c-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[b,v,w]=f>1?[""+(o-1)/(f-1),"(x2-x1) * width_ratio",`x1*${p} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${p}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${b});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${v};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${a}));\n          return;\n        }\n        float in_x = ${w};\n        if( in_x < 0.0 || in_x > ${p} ) {\n          setOutput(float(${a}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${d} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Z5={kernelName:cM,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:a,boxes:i,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:u}=r,c=new J5(a.shape,i.shape,o,l,u);return n.runWebGLProgram(c,[a,i,s],"float32")}};var q5;!function(e){e.Prod="*",e.Sum="+"}(q5||(q5={}));class K5{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,i=this.op===q5.Prod?"1.0":"0.0",s=n?i:`getX(${X5(a,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?"end != "+(o-1):"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${o}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${O4(a)} coords = getOutputCoords();\n        int end = ${e8(a,"coords",this.op)};\n        float val = ${s};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${e8(a,"coords",this.op)} = idx;\n          val ${this.op}= getX(${X5(a,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function X5(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function e8(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function t8(e,t,n,r,a,i){const s=t.shape.length,o=bO([r],s);let l=t;null!=o&&(l=r9({inputs:{x:t},backend:n,attrs:{perm:o}}));const u=wO(1,s)[0];if(u!==s-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let f=S6({inputs:{x:l},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const t=new K5(e,l.shape,!1,i),r=[[d]],a=f;f=n.runWebGLProgram(t,[f],f.dtype,r),n.disposeIntermediateTensorInfo(a)}if(a){const t=new K5(e,l.shape,a,i),r=f;f=n.runWebGLProgram(t,[f],f.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=o){const e=r9({inputs:{x:f},backend:n,attrs:{perm:vO(o)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),e}return f}const n8={kernelName:lM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return t8(q5.Prod,a,n,i,s,o)}};const r8={kernelName:uM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,exclusive:s,reverse:o}=r;return t8(q5.Sum,a,n,i,s,o)}};const a8={kernelName:fM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,weights:i}=t,{size:s,binaryOutput:o}=r;if(1===a.shape.length){const e=n.readSync(a.dataId),t=n.readSync(i.dataId),r=l3(e,t,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,r)}if(2===a.shape.length){const e=n.bufferSync(a),t=n.bufferSync(i),r=u3(e,t,s,o);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};class i8{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const s8={kernelName:dM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockSize:i,dataFormat:s}=r,o=a.shape[0],l=("NHWC"===s?a.shape[1]:a.shape[2])*i,u=("NHWC"===s?a.shape[2]:a.shape[3])*i,c=("NHWC"===s?a.shape[3]:a.shape[1])/(i*i),f=new i8("NHWC"===s?[o,l,u,c]:[o,c,l,u],i,s);return n.runWebGLProgram(f,[a],a.dtype)}};class o8{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=U4(this.outputShape.length);const i=e.filterHeight,s=e.filterWidth,o=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${i}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class l8{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=U4(this.outputShape.length);const i=e.outChannels/e.inChannels,s=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,f=c;let d="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<c;g++)d+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;d+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let g=0;g<c;g++)d+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;d+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(f+1)/2;g++){const e=2*g;if(d+=`\n          xC = xCCorner + ${e*l};\n          `,1===o){if(e<c&&(s%2===1?(d+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,d+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):d+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<c)){const t=s%2===0?FI(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(d+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,d+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):d+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<c&&(s%2===1?(d+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<c&&(d+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(d+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<c&&(d+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<c&&(d+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<c&&(d+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}d+="\n    }\n  ",d+="\n      }\n    ";let h="",p="";n&&(h=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:a?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,p="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${h}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${d}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${p}\n        setOutput(result);\n      }\n    `}}const u8={kernelName:hM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),PI(mj(s,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`));const f=oj(a.shape,i.shape,s,c,o,u,!0);let d;d=wS().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels===1?new l8(f):new o8(f);const h=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];return n.runWebGLProgram(d,[a,i],"float32",h)}};class c8{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${a};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class f8{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${a}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const d8={kernelName:pM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,dy:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r,f=oj(a.shape,c,s,o,l,u,!0),d=new c8(f);return n.runWebGLProgram(d,[a,i],"float32")}};const h8={kernelName:mM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,filter:i}=t,{strides:s,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r,f=oj(c,i.shape,s,o,l,u,!0),d=new f8(f);return n.runWebGLProgram(d,[a,i],"float32")}};class p8{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const m8={kernelName:gM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,a=[...r.shape,...r.shape],i=WI(r.shape),s=Y6({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new p8(i),l=n.runWebGLProgram(o,[s],s.dtype),u=Y6({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}};class g8{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:a,strideWidth:i,filterHeight:s,filterWidth:o,dilationHeight:l,dilationWidth:u}=e,{top:c,left:f}=r;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${i});\n      const ivec2 pads = ivec2(${c}, ${f});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const y8={kernelName:yM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i}=t,{strides:s,pad:o,dilations:l}=r,u=aj(a.shape,i.shape,s,o,"NHWC",l);let c;const f=new g8(u);c=n.runWebGLProgram(f,[a,i],"float32");const d=Y6({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),d}};const b8={kernelName:kM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:a}=r,i=t,{allDims:s,summedDims:o,idDims:l}=qz(a,i.length);Xz(s.length,l,i);const{path:u,steps:c}=eP(o,l),f=c.length;let d=null,h=s.length;const p=[];for(let m=0;m<f;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=Kz(h,l[e]);let a;tP(t)?a=i[e]:(a=r9({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),p.push(a));const s=a.shape.slice();for(let e=0;e<r.length;++e)s.splice(r[e],0,1);VI(a.shape,s)||(a=Y6({inputs:{x:a},backend:n,attrs:{shape:s}}),p.push(a)),null===d?d=a:(d=G6({inputs:{a:a,b:d},backend:n}),p.push(d))}m<f-1&&(u[m]>=0&&(d=t9({inputs:{x:d},backend:n,attrs:{axis:u[m]-(s.length-h),keepDims:!1}}),p.push(d)),h--)}for(const m of p)m!==d&&n.disposeIntermediateTensorInfo(m);return d}},v8=$6({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),w8={kernelName:CM,backendName:"webgl",kernelFunc:v8},x8={kernelName:NM,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:a}=t,i=wS().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new I6("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new C6("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},k8=F6({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:p3}),C8={kernelName:SM,backendName:"webgl",kernelFunc:k8},N8=$6({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Rz};\n  float a1 = ${jz};\n  float a2 = ${Oz};\n  float a3 = ${_z};\n  float a4 = ${$z};\n  float a5 = ${Fz};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),I8={kernelName:IM,backendName:"webgl",kernelFunc:N8},S8=$6({opSnippet:_6+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:m3,dtype:"float32"}),M8={kernelName:MM,backendName:"webgl",kernelFunc:S8};function E8(e){const{inputs:t,attrs:n,backend:r}=e,{dim:a}=n,{input:i}=t,s=i.shape.length,o=i.shape.slice();let l=a;return a<0&&(PI(-(s+1)<=a,(()=>`Axis must be in the interval [${-(s+1)}, ${s}]`)),l=s+a+1),o.splice(l,0,1),Y6({inputs:{x:i},backend:r,attrs:{shape:o}})}const L8={kernelName:EM,backendName:"webgl",kernelFunc:E8},T8="return exp(x) - 1.0;",A8=$6({opSnippet:T8,packedOpSnippet:T8,cpuKernelImpl:g3}),D8={kernelName:LM,backendName:"webgl",kernelFunc:A8};class R8{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const a=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${a};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function j8(e,t,n){const r=n.texData.get(e.dataId),a=WI(e.shape),i=e.shape[e.shape.length-1],s=Y6({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),o=s.shape,l=new R8("real",o,t),u=new R8("imag",o,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:o},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:o}],f=n.runWebGLProgram(l,c,"float32"),d=n.runWebGLProgram(u,c,"float32"),h=E6({inputs:{real:f,imag:d},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d);const p=Y6({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(h),p}const O8={kernelName:TM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return j8(r,!1,n)}};class _8{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function $8(e){const{backend:t,attrs:n}=e,{shape:r,value:a}=n;let{dtype:i}=n;if(i=i||aS(a),"string"===i){const e=XI(i,WI(r));return e.fill(a),t.makeTensorInfo(r,i,e)}{const e=new _8(r,a),n=[[a]];return t.runWebGLProgram(e,[],i,n)}}const F8={kernelName:AM,backendName:"webgl",kernelFunc:$8};class z8{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const P8={kernelName:DM,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,a=n,i=new z8(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},B8="return floor(x);",U8=$6({opSnippet:B8,packedOpSnippet:B8,cpuKernelImpl:y3}),W8={kernelName:RM,backendName:"webgl",kernelFunc:U8},V8=F6({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),G8={kernelName:jM,backendName:"webgl",kernelFunc:V8};class H8{constructor(e){this.variableNames=["A"];const t=b4(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class Y8{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=b4(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const Q8={kernelName:AL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:a}=t;const{numChannels:i}=r,s="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,o="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,[l,u]=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],f=[u,l,i];if(o||s){const e=wS().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=J8&&e===Z8||(Z8=e,J8=document.createElement("canvas").getContext("2d",{willReadFrequently:Z8})),J8.canvas.width=l,J8.canvas.height=u,J8.drawImage(a,0,0,l,u),a=J8.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=P2.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),a);const h=wS().getBool("WEBGL_PACK")?new Y8(f):new H8(f),p=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),p}};let J8,Z8=wS().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const q8={kernelName:jL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dataFormat:c,dilations:f,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,m=yj(c),g=oj(a.shape,i.shape,l,f,u,d,!1,m);let y;const b=[],v=null!=s,w=null!=o,x="leakyrelu"===h,k=()=>{const e=[a,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Y6({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(v&&e.push(t(s,c)),w&&e.push(t(o,c)),x){const t=n.makeTensorInfo([],"float32",oT(p,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&wS().getBool("WEBGL_EXP_CONV")){const e=h?z6(h,!0):null,t=new L5(g,v,e,w,x),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],a=k();y=n.runWebGLProgram(t,a,"float32",r)}else if(wS().getBool("WEBGL_CONV_IM2COL"))y=R5({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:h,preluActivationWeights:o,leakyreluAlpha:p});else{const e=h?z6(h,!1):null,t=new M5(g,v,e,w,x),r=k();y=n.runWebGLProgram(t,r,"float32")}else y=D5({x:a,filter:i,convInfo:g,backend:n,bias:s,activation:h,preluActivationWeights:o,leakyreluAlpha:p});const C=Y6({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return b.push(y),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),C}};const K8={kernelName:OL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,filter:i,bias:s,preluActivationWeights:o}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:f,activation:d,leakyreluAlpha:h}=r,p=[];let m=c;null==m&&(m=[1,1]),PI(mj(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=oj(a.shape,i.shape,l,m,u,f,!0),y=wS().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=d?z6(d,y):null,v=[a,i],w=null!=s,x=null!=o,k="leakyrelu"===d;if(w&&v.push(s),x&&v.push(o),k){const e=n.makeTensorInfo([],"float32",oT(h,"float32"));v.push(e),p.push(e)}let C;C=y?new l8(g,w,b,x,k):new o8(g,w,b,x,k);const N=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],I=n.runWebGLProgram(C,v,"float32",N);return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),I}};class X8{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const a=O4(n.length);let i="\n    int index;";for(let s=0;s<this.sliceDim;s++)i+=`\n          index = round(getIndices(coords[0], ${s}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[s]};\n          flattenIndex += index * ${this.strides[s]};`;this.userCode=`\n         void main() {\n          ${a} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${i}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const e7={kernelName:$M,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:a}=t,i=a.shape,s=i[i.length-1],o=WI(r.shape),[l,u,c,f]=Tz(r,a),d=Y6({inputs:{x:a},backend:n,attrs:{shape:[u,s]}}),h=Y6({inputs:{x:r},backend:n,attrs:{shape:[WI(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){const e=n.readSync(a.dataId),t=n.bufferSync(r),i=b3(e,t,r.dtype,u,s,c,f,r.shape,o);return n.makeTensorInfo(l,r.dtype,i.values)}const p=new X8(s,f,[u,c],r.shape),m=n.runWebGLProgram(p,[h,d],h.dtype),g=Y6({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class t7{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=O4(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function n7(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,indices:i}=t,{axis:s,batchDims:o}=r,l=ZI(s,a.shape)[0];if(wS().get("DEBUG")){const e=n.readSync(i.dataId),t=a.shape[l];for(let n=0;n<e.length;++n){const r=e[n];PI(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=bP(a,i,l,o),c=WI(i.shape),f=[],d=Y6({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=Y6({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});f.push(d),f.push(h);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){const e=n.bufferSync(h),t=n.bufferSync(d),r=v3(t,e,p);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const m=new t7(d.shape,p),g=n.runWebGLProgram(m,[d,h],d.dtype);f.push(g);const y=Y6({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const r7={kernelName:_M,backendName:"webgl",kernelFunc:n7},a7=F6({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:w3,dtype:"bool"}),i7={kernelName:FM,backendName:"webgl",kernelFunc:a7},s7=F6({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:x3}),o7={kernelName:zM,backendName:"webgl",kernelFunc:s7};const l7={kernelName:BM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return j8(r,!0,n)}},u7=$6({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),c7={kernelName:WM,backendName:"webgl",kernelFunc:u7},f7=$6({opSnippet:"return float(isinf(x));",dtype:"bool"}),d7={kernelName:VM,backendName:"webgl",kernelFunc:f7},h7=$6({opSnippet:"return float(isnan(x));",dtype:"bool"}),p7={kernelName:GM,backendName:"webgl",kernelFunc:h7},m7=F6({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:k3,dtype:"bool"}),g7={kernelName:YM,backendName:"webgl",kernelFunc:m7},y7=F6({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:C3,dtype:"bool"}),b7={kernelName:QM,backendName:"webgl",kernelFunc:y7};const v7={kernelName:JM,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:a,num:i}=n,s=N3(r,a,i);return t.makeTensorInfo([s.length],"float32",s)}},w7=$6({opSnippet:_6+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:I3}),x7={kernelName:ZM,backendName:"webgl",kernelFunc:w7},k7=$6({opSnippet:_6+"\n  return log(1.0 + x);\n"}),C7={kernelName:qM,backendName:"webgl",kernelFunc:k7},N7=F6({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),I7={kernelName:KM,backendName:"webgl",kernelFunc:N7},S7=$6({opSnippet:"return float(!(x >= 1.0));"}),M7={kernelName:XM,backendName:"webgl",kernelFunc:S7},E7=F6({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),L7={kernelName:eE,backendName:"webgl",kernelFunc:E7};class T7{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[];const i=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class A7{constructor(e,t,n,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;o=.5===a?`inversesqrt(${l})`:1===a?`1.0/(${l})`:`exp(log(${l}) * float(-${a}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const D7={kernelName:tE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{depthRadius:i,bias:s,alpha:o,beta:l}=r,u=wS().getBool("WEBGL_PACK_NORMALIZATION")?new A7(a.shape,i,s,o,l):new T7(a.shape,i,s,o,l);return n.runWebGLProgram(u,[a],a.dtype)}};class R7{constructor(e,t,n,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=a,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${a})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${a});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const j7={kernelName:nE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a,y:i,dy:s}=t,{depthRadius:o,bias:l,alpha:u,beta:c}=r,f=new R7(a.shape,o,l,u,c);return n.runWebGLProgram(f,[a,i,s],a.dtype)}};function O7(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reductionIndices:i,keepDims:s}=r,o=a.shape.length,l=ZI(i,a.shape);let u=l;const c=bO(u,o),f=null!=c,d=n.shouldExecuteOnCPU([a]);let h=a;if(f){if(d){const e=n.texData.get(h.dataId).values,t=new Array(o);for(let n=0;n<t.length;n++)t[n]=a.shape[c[n]];const r=e6(e,a.shape,a.dtype,c,t);h=n.makeTensorInfo(t,a.dtype);n.texData.get(h.dataId).values=r}else h=e9(a,c,n);u=wO(u.length,o)}yO("max",u,o);const[p,m]=mO(h.shape,u);let g,y=p;if(s&&(y=gO(p,l)),d){const e=n.texData.get(h.dataId).values,t=S3(e,WI(m),y,a.dtype);g=n.makeTensorInfo(y,a.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const a=WI(t),i=Y6({inputs:{x:e},attrs:{shape:[WI(e.shape)/a,a]},backend:r}),s=q6(i,e.dtype,"max",r),o=Y6({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}(h,m,y,n);return f&&n.disposeIntermediateTensorInfo(h),g}const _7={kernelName:rE,backendName:"webgl",kernelFunc:O7},$7=F6({opSnippet:k6+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+N6+"\n  return result;\n",cpuKernelImpl:M3}),F7={kernelName:aE,backendName:"webgl",kernelFunc:$7};const z7={kernelName:iE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;g4(a,"maxPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r;PI(mj(s,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`));const u=ij(a.shape,i,s,1,o,l);if(1===u.filterWidth&&1===u.filterHeight&&VI(u.inShape,u.outShape))return S6({inputs:{x:a},backend:n});const c=new F9(u,"max",!1);return n.runWebGLProgram(c,[a],a.dtype)}};const P7={kernelName:oE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{filterSize:i,strides:s,pad:o,dataFormat:l,dimRoundingMode:u}=r,c=sj(a.shape,i,s,[1,1,1],o,u,l),f=new z9(c,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}};class B7{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=a-1-e.padInfo.top,o=i-1-e.padInfo.left,l=a*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${a};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class U7{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=o-1-e.padInfo.front,f=l-1-e.padInfo.top,d=u-1-e.padInfo.left,h=o*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${f}, ${d});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${a}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const W7={kernelName:lE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i}=t,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,f=sj(s.shape,o,l,[1,1,1],u,c),d=new z9(f,"max",!0),h=n.runWebGLProgram(d,[s],s.dtype),p=new U7(f),m=n.runWebGLProgram(p,[a,h],s.dtype);return n.disposeIntermediateTensorInfo(h),m}};const V7={kernelName:sE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:a,input:i,output:s}=t,o=i;g4([i,s],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:f}=r,d=ij(o.shape,l,u,1,c,f),h=new F9(d,"max",!0),p=n.runWebGLProgram(h,[o],o.dtype),m=new B7(d),g=n.runWebGLProgram(m,[a,p],o.dtype);return n.disposeIntermediateTensorInfo(p),g}};const G7={kernelName:uE,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{filterSize:i,strides:s,pad:o,includeBatchInIndex:l}=n,u=r;PI(4===a.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`));const c=[1,1];PI(mj(s,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`));const f=ij(a.shape,i,s,c,o),[d,h]=function(e,t,n,r){let a=new F9(n,"max",!1);const i=r.runWebGLProgram(a,[e],"float32");return a=new F9(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,l,f,u);return[d,h]}};const H7={kernelName:cE,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,{keepDims:i,axis:s}=n,o=r,l=a.shape.length,u=ZI(s,a.shape);let c=u;const f=bO(c,l),d=null!=f,h=o.shouldExecuteOnCPU([a]),p=[];let m=a;if(d){if(h){const e=o.texData.get(m.dataId).values,t=new Array(l);for(let r=0;r<t.length;r++)t[r]=a.shape[f[r]];const n=e6(e,a.shape,a.dtype,f,t);m=o.makeTensorInfo(t,a.dtype);o.texData.get(m.dataId).values=n}else m=e9(a,f,o);p.push(m),c=wO(c.length,l)}yO("sum",c,l);const[g,y]=mO(m.shape,c);let b=g;i&&(b=gO(g,u));const v=function(e,t,n,r){const a=WI(t),i=Y6({inputs:{x:e},attrs:{shape:[WI(e.shape)/a,a]},backend:r}),s=q6(i,"float32","mean",r),o=Y6({inputs:{x:s},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}(m,y,b,o);for(const w of p)o.disposeIntermediateTensorInfo(w);return v}};const Y7={kernelName:fE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=ZI(i,a.shape);let u=l;const c=bO(u,o);let f=a;null!=c&&(f=r9({inputs:{x:a},backend:n,attrs:{perm:c}}),u=wO(u.length,a.shape.length)),yO("min",u,o);const[d,h]=mO(f.shape,u),p=Y6({inputs:{x:f},backend:n,attrs:{shape:[-1,WI(h)]}}),m=q6(p,p.dtype,"min",n);let g;if(s){g=Y6({inputs:{x:m},backend:n,attrs:{shape:gO(d,l)}})}else g=Y6({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(f),g}},Q7=F6({opSnippet:k6+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+N6+"\n  return result;\n",cpuKernelImpl:E3}),J7={kernelName:dE,backendName:"webgl",kernelFunc:Q7};class Z7{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=O4(r),i=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${a} start = ${a}(${i});\n      ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${a} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class q7{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=O4(r),i=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=r6("rc",r),l=r6("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,f="reflect"===n?0:1;let d="";if(1===r){const e=`\n        ${a} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${f};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${f};\n        }\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${a} source = rc;\n        ${a} lt = ${a}(lessThan(source, start));\n        ${a} gte = ${a}(greaterThanEqual(source, end));\n        ${a} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${f}) +\n                gte * ((end - 1) * 2 - source + ${f});\n        source -= start;\n      `;d=`\n        ${a} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${o[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${o[r-2]} += 1;\n        if(${o[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${o[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${a} start = ${a}(${i});\n      const ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}const K7={kernelName:hE,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:a}=t,{paddings:i,mode:s}=r,o=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new q7(a.shape,i,s):new Z7(a.shape,i,s);return n.runWebGLProgram(o,[a],a.dtype)}},X7=F6({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+N6+"\n  return result;\n"}),eee={kernelName:pE,backendName:"webgl",kernelFunc:X7};class tee{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const nee=F6({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),ree={kernelName:xM,backendName:"webgl",kernelFunc:nee},aee="return a - b;",iee=F6({opSnippet:aee,packedOpSnippet:aee,supportsComplex:!0,cpuKernelImpl:q3}),see={kernelName:vL,backendName:"webgl",kernelFunc:iee};function oee(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{dim:i}=r,s=ZI([i],a.shape),o=O7({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=gO(o.shape,s),u=Y6({inputs:{x:o},backend:n,attrs:{shape:l}}),c=iee({inputs:{a:a,b:u},backend:n}),f=S8({inputs:{x:c},backend:n}),d=t9({inputs:{x:f},backend:n,attrs:{axis:s,keepDims:!1}}),h=Y6({inputs:{x:d},backend:n,attrs:{shape:l}}),p=nee({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),p}const lee={kernelName:sL,backendName:"webgl",kernelFunc:oee};const uee={kernelName:mE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:a}=t,{numSamples:i,seed:s,normalized:o}=r,l=o?a:oee({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],f=new tee(u,c,i),d=[[s]],h=n.runWebGLProgram(f,[l],"int32",d);return o||n.disposeIntermediateTensorInfo(l),h}},cee=f6+"\n  return -x;\n";const fee={kernelName:yE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,a]=T3(e.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,t)}let a;return a=wS().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new g6(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new c6(r.shape,cee),n.runWebGLProgram(a,[r],r.dtype)}},dee=xF;const hee={kernelName:vE,backendName:"webgl",kernelFunc:function(e){_L("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),{selectedIndices:f}=dee(u,c,s,o,l);return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},pee=kF;const mee={kernelName:wE,backendName:"webgl",kernelFunc:function(e){_L("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=pee(c,f,s,o,l,u);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},gee=CF;const yee={kernelName:xE,backendName:"webgl",kernelFunc:function(e){_L("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:a,scores:i}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),f=n.readSync(i.dataId),d=s,h=o,p=l,m=u,{selectedIndices:g,selectedScores:y}=gee(c,f,d,h,p,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class bee{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const vee={kernelName:CE,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:a}=t,{dtype:i,depth:s,onValue:o,offValue:l}=r,u=WI(a.shape),c=new bee(u,s,o,l),f=Y6({inputs:{x:a},backend:n,attrs:{shape:[u]}}),d=n.runWebGLProgram(c,[f],i);n.disposeIntermediateTensorInfo(f);const h=Y6({inputs:{x:d},backend:n,attrs:{shape:[...a.shape,s]}});return n.disposeIntermediateTensorInfo(d),h}};function wee(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=o5({inputs:{input:r},backend:n}),t=wee({inputs:{x:e},backend:n}),a=k5({inputs:{input:r},backend:n}),i=wee({inputs:{x:a},backend:n}),s=E6({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}return $8({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const xee={kernelName:LL,backendName:"webgl",kernelFunc:wee};const kee={kernelName:kE,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){const t=o5({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r}),i=k5({inputs:{input:a},backend:r}),s=wee({inputs:{x:i},backend:r}),o=E6({inputs:{real:n,imag:s},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),o}return $8({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};const Cee={kernelName:NE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:a}=r;if(1===t.length)return E8({inputs:{input:t[0]},backend:n,attrs:{dim:a}});const i=t[0].shape,s=t[0].dtype;t.forEach((e=>{BI(i,e.shape,"All tensors passed to stack must have matching shapes"),PI(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const o=[],l=t.map((e=>{const t=E8({inputs:{input:e},backend:n,attrs:{dim:a}});return o.push(t),t})),u=I5({inputs:l,backend:n,attrs:{axis:a}});return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};class Nee{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=O4(r),i=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${a} start = ${a}(${i});\n      ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${a} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class Iee{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,a=O4(r),i=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=r6("rc",r),l=r6("source",r),u=`${o[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,f=[`${a} rc = outputLoc;`,`${o[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${o[r-2]} += 1;\n       if(${o[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${o[r-1]} += 1;\n         if(${u}) {`],d=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let p=0,m=1===r?2:4;p<m;p++)h+=`\n        ${f[p]}\n        if (${d}) {\n          result[${p}] = float(value);\n        } else {\n          ${a} source = rc - start;\n          result[${p}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;h+=1===r?"} ":"}}",this.userCode=`\n      const ${a} start = ${a}(${i});\n      const ${a} end = ${a}(${s});\n\n      void main() {\n        ${a} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const See=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{paddings:i,constantValue:s}=r;if(0===WI(a.shape)){const e=i.map(((e,t)=>e[0]+a.shape[t]+e[1]));return $8({backend:n,attrs:{shape:e,value:s,dtype:a.dtype}})}const o=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Iee(a.shape,i,s):new Nee(a.shape,i,s),l=[[s]];return n.runWebGLProgram(o,[a],a.dtype,l)},Mee={kernelName:IE,backendName:"webgl",kernelFunc:See},Eee=F6({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+N6+"\n  return result;\n"}),Lee={kernelName:SE,backendName:"webgl",kernelFunc:Eee};const Tee={kernelName:EE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{axis:i,keepDims:s}=r,o=a.shape.length,l=[],u=ZI(i,a.shape);let c=u;const f=bO(c,o);let d,h=a;if(null!=f&&(h=r9({inputs:{x:a},backend:n,attrs:{perm:f}}),c=wO(c.length,o),l.push(h)),yO("prod",c,o),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:r,outDtype:a}=D3(h.shape,h.dtype,e,c);d=n.makeTensorInfo(r,a,t)}else{const[e,t]=mO(h.shape,c),r=WI(t),i=Y6({inputs:{x:h},backend:n,attrs:{shape:[-1,r]}}),s=q6(i,$T(a.dtype),"prod",n);d=Y6({inputs:{x:s},backend:n,attrs:{shape:e}}),l.push(i),l.push(s)}if(s){l.push(d);const e=gO(d.shape,u);d=Y6({inputs:{x:d},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}};const Aee={kernelName:LE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=t,{outputRaggedRank:o}=r,l=a.map((e=>n.readSync(e.dataId))),u=a.map((e=>e.shape)),c=n.readSync(i.dataId),f=n.readSync(s.dataId),[d,h,p]=R3(l,u,c,i.shape,i.dtype,f,s.shape,o),m=d.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(p,i.dtype,h);return m.concat([g])}};const Dee={kernelName:TE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:a,deltas:i}=t,s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=j3(s,r.shape,r.dtype,o,a.shape,l,i.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};const Ree={kernelName:AE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=t,{rowPartitionTypes:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),f=n.readSync(s.dataId),d=o.map((e=>n.readSync(e.dataId))),h=o.map((e=>e.shape)),[p,m]=O3(u,a.shape,c,i.shape,i.dtype,f,s.shape,d,h,l);return n.makeTensorInfo(p,i.dtype,m)}},jee=e=>{const{backend:t,attrs:n}=e,{start:r,stop:a,step:i,dtype:s}=n,o=_3(r,a,i,s);return t.makeTensorInfo([o.length],s,o)},Oee={kernelName:DE,backendName:"webgl",kernelFunc:jee},_ee=$6({opSnippet:"return 1.0 / x;"}),$ee={kernelName:jE,backendName:"webgl",kernelFunc:_ee},Fee=$6({opSnippet:f6+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),zee={kernelName:OE,backendName:"webgl",kernelFunc:Fee},Pee=$6({opSnippet:f6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Bee={kernelName:BE,backendName:"webgl",kernelFunc:Pee};class Uee{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let f;f=a?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${f};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class Wee{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let f;f=a?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${f};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const Vee={kernelName:zE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=wS().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Wee(a.shape,l,u,i,s):new Uee(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],"float32")}};class Gee{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],u=o[0]/l[0],c=o[1]/l[1],f=1/u,d=1/c,h=2*Math.ceil(f)+2,p=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${f});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${p});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Hee={kernelName:PE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new Gee(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}};class Yee{constructor(e,t,n,r,a){this.variableNames=["A"],this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0";let d;d=a?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class Qee{constructor(e,t,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,s,o,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?s-1:s,r&&n>1?o-1:o],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=r?"0.5":"0.0";let d;d=a?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const Jee={kernelName:$E,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a}=t,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=wS().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Qee(a.shape,l,u,i,s):new Yee(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],a.dtype)}};class Zee{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,a]=t,[,i,s]=e,o=[n&&i>1?r-1:r,n&&s>1?a-1:a],l=[n&&i>1?i-1:i,n&&s>1?s-1:s],u=o[0]/l[0],c=o[1]/l[1],f=1/u,d=1/c,h=2*Math.ceil(f)+2,p=2*Math.ceil(d)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${f});\n        const float invWidthScale = float(${d});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${p});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const qee={kernelName:FE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:a,dy:i}=t,{alignCorners:s}=r,o=new Zee(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}};class Kee{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),a=O4(n);this.userCode=`\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class Xee{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=r6("rc",n),a=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,s=O4(n);function o(n){const r=e.map(((r,a)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(a,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${a}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(r.slice())};\n          if(${a}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(r.slice())};\n          }\n          if(${i}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            if(${a}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const ete={kernelName:UE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{dims:i}=r,s=a.shape.length,o=ZI(i,a.shape);if(0===s)return S6({inputs:{x:a},backend:n});const l=wS().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Xee(a.shape,o):new Kee(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}};class tte{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let a="";a="number"===typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${a}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const nte={kernelName:DL,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:a}=t,{radians:i,fillValue:s,center:o}=n,l=r,u=new tte(a.shape,s),[c,f]=Nz(o,a.shape[1],a.shape[2]),d=[[c,f,Math.sin(i),Math.cos(i)]];return l.runWebGLProgram(u,[a],a.dtype,d)}},rte=$6({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),ate={kernelName:WE,backendName:"webgl",kernelFunc:rte},ite=$6({opSnippet:"return inversesqrt(x);",cpuKernelImpl:$3}),ste={kernelName:VE,backendName:"webgl",kernelFunc:ite};class ote{constructor(e,t,n,r,a,i){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const o=O4(a.length),l=O4(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let f="";1===r?f="i":2===r&&(f="i, coords[1]");const d=`getUpdates(${f})`;let h="";s&&(h="coords[0], coords[1]");const p=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides";this.userCode=`\n        ${o} strides = ${o}(${a});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${m};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${d};\n              found = true;\n            }\n          }\n          setOutput(mix(${p}, sum, float(found)));\n        }\n      `}}class lte{constructor(e,t,n,r,a,i){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const o=O4(a.length),l=O4(i.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let f="";1===r?f="i":2===r&&(f="i, coords[1]");const d=`getUpdates(${f})`;let h="";s&&(h="coords[0], coords[1]");const p=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${o} strides = ${o}(${a});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${c});\n              flattenedIndex += index.xz * ${m};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${g};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${d};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${p}, sum, found));\n        }\n      `}}const ute={kernelName:GE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:a,updates:i}=t,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=A$(0,a,s),d=[f/u,u];if(0===f)return n.makeTensorInfo(s,a.dtype);const h=Y6({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),p=Y6({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=wS().getBool("WEBGL_PACK")?new lte(l,o,h.shape.length,p.shape.length,c,d):new ote(l,o,h.shape.length,p.shape.length,c,d);const y=n.runWebGLProgram(g,[p,h,m],p.dtype),b=Y6({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),b}};class cte{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const a=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===wS().getNumber("WEBGL_VERSION")?"while (left < right) {":a,s="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${i}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${s} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const fte={kernelName:YE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:a,values:i}=t,{side:s}=r,o=new cte(a.shape[0],a.shape[1],i.shape[1],s),l=[[a.shape[1]]];return n.runWebGLProgram(o,[a,i],"int32",l)}};class dte{constructor(e,t,n){let r,a;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)a="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[];for(let r=0;r<t.length;r++)s.push(`${n[r]}`),r<e&&i.push(`${n[r]}`);r=i.join(),a=s.join()}const i=O4(n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${a}));\n        } else {\n          setOutput(getB(${a}));\n        }\n      }\n    `}}const hte={kernelName:QE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:a,e:i}=t,s=new dte(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(s,[r,a,i],_T(a.dtype,i.dtype))}},pte=$6({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${Az};\n  float scale = ${Dz};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),mte={kernelName:JE,backendName:"webgl",kernelFunc:pte},gte=$6({opSnippet:_6+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:z3}),yte={kernelName:eL,backendName:"webgl",kernelFunc:gte},bte=$6({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),vte={kernelName:XE,backendName:"webgl",kernelFunc:bte},wte=$6({opSnippet:_6+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${N6}\n  return result;\n`}),xte={kernelName:qE,backendName:"webgl",kernelFunc:wte},kte=$6({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Cte={kernelName:KE,backendName:"webgl",kernelFunc:kte},Nte=$6({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Ite={kernelName:tL,backendName:"webgl",kernelFunc:Nte},Ste={kernelName:aL,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{blockShape:i,paddings:s}=r;PI(a.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const o=i.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...s);for(let y=1+i.length;y<a.shape.length;++y)l.push([0,0]);const u=[],c=See({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),f=Iz(c.shape,i,o,!1),d=Sz(f.length,i.length,!1),h=Mz(c.shape,i,o,!1),p=Y6({inputs:{x:c},backend:n,attrs:{shape:f}}),m=r9({inputs:{x:p},backend:n,attrs:{perm:d}}),g=Y6({inputs:{x:m},backend:n,attrs:{shape:h}});return u.push(c),u.push(p),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const Mte={kernelName:oL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:a,denseShape:i,defaultValue:s}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n         ${a.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(s.dataId)[0],[f,d,h,p,m]=U3(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(d,r.dtype,f),n.makeTensorInfo([d[0]],a.dtype,h),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const Ete={kernelName:lL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:a,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const s=Array.from(n.readSync(a.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,f]=W3(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([f.length],i.dtype,new Int32Array(f))]}};const Lte={kernelName:uL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=V3(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const Tte={kernelName:cL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:a,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=V3(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}};const Ate={kernelName:fL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:a,sparseValues:i,defaultValue:s}=t,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:f,outputSize:d}=A$(0,a,o),h=!1;if("string"===i.dtype){const e=n.bufferSync(a),t=n.bufferSync(i),r=dT(n.readSync(s.dataId)[0]),p=F3(e,t,o,d,c,u,l,f,r,h);return n.makeTensorInfo(o,p.dtype,p.values)}const p=new ote(u,l,a.shape.length,i.shape.length,f,[d,1],h),m=n.runWebGLProgram(p,[i,a,s],i.dtype),g=Y6({inputs:{x:m},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),g}};const Dte={kernelName:iL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{numOrSizeSplits:i,axis:s}=r,o=ZI(s,a.shape)[0],l=rP(a,i,o),u=a.shape.length,c=new Array(u).fill(0),f=a.shape.slice();return l.map((e=>{const t=[...f];t[o]=e;const r=X9({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[o]+=e,r}))}},Rte="return sqrt(x);",jte=$6({opSnippet:Rte,packedOpSnippet:Rte,cpuKernelImpl:G3}),Ote={kernelName:nL,backendName:"webgl",kernelFunc:jte},_te={kernelName:hL,backendName:"webgl",kernelFunc:$6({opSnippet:"return x * x;"})},$te="return (a - b) * (a - b);",Fte=F6({opSnippet:$te,packedOpSnippet:$te}),zte={kernelName:dL,backendName:"webgl",kernelFunc:Fte};const Pte={kernelName:pL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");const i=vP(n.readSync(a.dataId)),s=H3(i,"string",r);return n.makeTensorInfo(a.shape,"string",s)}};const Bte={kernelName:TL,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:a}=t,i=f6+`\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,s=new c6(a.shape,i);return r.runWebGLProgram(s,[a],a.dtype)}};class Ute{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,a=O4(n.length),i=O4(n.length);let s="";if(1===r)s="coords * strides + begin";else{let e=0;s=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${a} begin = ${a}(${e});\n      ${a} strides = ${a}(${t});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}const Wte={kernelName:mL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:p,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:w}=VR(a.shape,i,s,o,l,u,c,f,d);let x;if(m)x=Y6({inputs:{x:a},backend:n,attrs:{shape:p}});else if(g||y){PI(a.shape.length>=1,(()=>`Input must have rank at least 1, got: ${a.shape.length}`));const e=AR(b,v,w),t=X9({inputs:{x:a},backend:n,attrs:{begin:b,size:e}});x=Y6({inputs:{x:t},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([a])){const e=n.readSync(a.dataId),t=kD(a.shape,a.dtype,e),r=Y3(h,t,w,b);x=n.makeTensorInfo(p,a.dtype,r.values)}else{const e=new Ute(b,w,h);x=n.runWebGLProgram(e,[a],a.dtype)}}const k=Y6({inputs:{x:x},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(x),k}};const Vte={kernelName:gL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:f}=t,d=n.readSync(c.dataId),h=n.readSync(f.dataId),[p,m]=Q3(d,h,a,i,s,o,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(f.shape,"int32",m)]}};const Gte={kernelName:yL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:a}=r,{input:i,delimiter:s}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.readSync(i.dataId),l=n.readSync(s.dataId)[0],[u,c,f]=J3(o,l,a),d=c.length;return[n.makeTensorInfo([d,2],"int32",u),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};const Hte={kernelName:bL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:a}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(i.dataId),o=Z3(s,a);return n.makeTensorInfo(i.shape,"int32",o)}},Yte=$6({opSnippet:"return tan(x);"}),Qte={kernelName:wL,backendName:"webgl",kernelFunc:Yte},Jte=$6({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Zte={kernelName:xL,backendName:"webgl",kernelFunc:Jte};const qte={kernelName:HE,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:a,indices:i,updates:s}=t,{}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:f}=A$(0,i,a.shape),d=[f/u,u];if(0===f)return n.makeTensorInfo(a.shape,i.dtype);const h=Y6({inputs:{x:i},backend:n,attrs:{shape:[l,o]}}),p=Y6({inputs:{x:s},backend:n,attrs:{shape:[l,u]}}),m=Y6({inputs:{x:a},backend:n,attrs:{shape:d}}),g=new ote(l,o,h.shape.length,p.shape.length,c,d,!1,!0),y=n.runWebGLProgram(g,[p,h,m],m.dtype),b=Y6({inputs:{x:y},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}};class Kte{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;const r=O4(this.rank),a=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}function Xte(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{reps:i}=r;if("string"===a.dtype||a.shape.length>5){const e=n.readSync(a.dataId),t="string"===a.dtype?e.map((e=>dT(e))):e,r=kD(a.shape,a.dtype,t),s=K3(r,i);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const s=new Kte(a.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}const ene={kernelName:kL,backendName:"webgl",kernelFunc:Xte};class tne{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class nne{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function rne(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function ane(e){let t=1;for(;t<e;)t*=2;return t}const ine={kernelName:CL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a}=t,{k:i,sorted:s}=r,o=wS().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=wS().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<o||i>l){const e=n.readSync(a.dataId),[t,r]=X3(e,u,a.dtype,i,s);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[a,$8({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const f=n.texData.get(a.dataId),d=null!==f&&f.isPacked,h=d?n.unpackTensor(a):a,p=WI(u)/c,m=Y6({inputs:{x:h},attrs:{shape:[p,c]},backend:n});d&&rne(n,h);const g=ane(i),y=ane(c);let b=null;const v=()=>null===b?[m,m]:[m,b],w=(e,t,r)=>{const a=v(),i=new tne(r),s=[[c],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=b;b=n.runWebGLProgram(i,a,"int32",s),rne(n,o)};for(let I=1;I<g;I*=2){const e=2*I;for(let t=I;t>=1;t/=2)w(e,t,[p,y])}for(let I=y;I>g;I/=2){const e=v(),t=new nne([p,I/2]),r=[[c],[null===b?1:0],[g]],a=b;b=n.runWebGLProgram(t,e,"int32",r),rne(n,a);const i=g/2,s=2*i;for(let n=i;n>=1;n/=2)w(s,n,b.shape)}let x=b;b=X9({inputs:{x:b},backend:n,attrs:{begin:0,size:[p,i]}}),rne(n,x);let k=n7({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});rne(n,m);const C=u.slice(0,-1);C.push(i),x=b,b=Y6({inputs:{x:b},attrs:{shape:C},backend:n}),rne(n,x);const N=k;return k=Y6({inputs:{x:k},attrs:{shape:C},backend:n}),rne(n,N),[k,b]}};class sne{constructor(e,t,n,r,a,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const s="nearest"===n?1:2;let o;switch(r){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${a});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${a});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const one={kernelName:NL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:a,transforms:i}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=r,[c,f,d,h]=a.shape,[p,m]=null!=u?u:[f,d],g=new sne(f,d,s,o,l,[c,p,m,h]);return n.runWebGLProgram(g,[a,i],"float32")}};const lne={kernelName:SL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:a}=n,{x:i}=t;g4(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:u}=t6(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}};const une={kernelName:ML,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:a}=t;let{axis:i}=r;i<0&&(i+=a.shape.length);const s=a,o=s.shape.length,l=a.shape[i],u=new Array(o-1);let c=0;for(let m=0;m<o;m++)m!==i&&(u[c++]=s.shape[m]);const f=[],d=new Array(o).fill(0),h=s.shape.slice();h[i]=1;const p=new Array(l);for(let m=0;m<p.length;m++){d[i]=m;const e=X9({inputs:{x:s},backend:n,attrs:{begin:d,size:h}}),t=Y6({inputs:{x:e},backend:n,attrs:{shape:u}});p[m]=t,f.push(e)}return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};class cne{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,a=e.inSize,i=e.numSegments,s=i*Math.ceil(a/n);this.outputShape=[r,s];const o=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";a%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return initializationValue;\n        }\n      `);let f="";a%n>0&&(f=`\n        if (inIdx < 0 || inIdx >= ${a}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${f}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const fne={kernelName:EL,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:a,segmentIds:i}=t,{numSegments:s}=r,o=a.shape.length,l=[];let u=0;const c=bO([u],o);let f=a;null!=c&&(f=r9({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(f),u=wO(1,o)[0]);const d=yP(f.shape,u,s),h=WI([f.shape[u]]),p=Y6({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(p);const m=$T(a.dtype),g=(e,t,r,a,i)=>{const s=e.shape[0],o=e.shape[1],u=gP(o,i),c=new cne({windowSize:u,inSize:o,batchSize:s,numSegments:i},t),f=n.compileAndRun(c,[e,r],a);if(l.push(f),f.shape[1]===i)return f;const d=jee({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),h=Xte({inputs:{x:d},backend:n,attrs:{reps:[o/u]}});l.push(d),l.push(h);return g(f,t,h,a,i)},y=Y6({inputs:{x:g(p,"unsortedSegmentSum",i,m,s)},backend:n,attrs:{shape:d}});let b=y;if(null!=c){l.push(y);const e=vO(c);b=r9({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},dne=[s9,l9,c9,d9,m9,b9,v9,w9,S9,M9,L9,A9,R9,O9,$9,P9,B9,V9,G9,H9,J9,t5,n5,r5,a5,u5,d5,m5,L6,b5,S5,j5,z5,B5,U5,W5,V5,H5,Q5,Z5,n8,r8,a8,s8,u8,d8,h8,m8,y8,b8,w8,x8,C8,I8,M8,L8,D8,O8,F8,P8,W8,G8,Q8,q8,K8,e7,r7,i7,o7,M6,l7,C5,c7,d7,p7,D6,g7,b7,v7,x7,C7,I7,M7,L7,D7,j7,_7,F7,z7,P7,W7,V7,G7,H7,Y7,J7,K7,eee,uee,H6,fee,hee,mee,yee,s5,vee,kee,Cee,Mee,Lee,O6,Tee,Aee,Dee,Ree,Oee,l5,ree,$ee,zee,Bee,Q6,Vee,Hee,Jee,qee,ete,nte,ate,ste,ute,fte,hte,mte,yte,vte,xte,Cte,e5,lee,Ite,Ste,Mte,Ete,Lte,Tte,Ate,Dte,Ote,_te,zte,Pte,Bte,Wte,Vte,Gte,Hte,see,n9,Qte,Zte,qte,ene,ine,one,a9,lne,une,fne,xee];for(const n of dne)WL(n);function hne(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))}function pne(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function mne(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function gne(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function yne(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function bne(e,t){void 0===t&&(t=1.5);var n=yne(e),r=gne(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],palmLandmarks:e.palmLandmarks}}function vne(e){var t=yne(e),n=gne(e),r=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-r,t[1]-r],endPoint:[t[0]+r,t[1]+r],palmLandmarks:e.palmLandmarks}}function wne(e,t){var n=[e.endPoint[0]-e.startPoint[0],e.endPoint[1]-e.startPoint[1]],r=[n[0]*t[0],n[1]*t[1]];return{startPoint:[e.startPoint[0]+r[0],e.startPoint[1]+r[1]],endPoint:[e.endPoint[0]+r[0],e.endPoint[1]+r[1]],palmLandmarks:e.palmLandmarks}}"function"==typeof SuppressedError&&SuppressedError;var xne=function(){function e(e,t,n,r,a,i){this.model=e,this.width=t,this.height=n,this.iouThreshold=a,this.scoreThreshold=i,this.anchors=r.map((function(e){return[e.x_center,e.y_center]})),this.anchorsTensor=I$(this.anchors),this.inputSizeTensor=N$([t,n]),this.doubleInputSizeTensor=N$([2*t,2*n])}return e.prototype.normalizeBoxes=function(e){var t=this;return pA((function(){var n=Ij(e,[0,0],[-1,2]),r=Ij(e,[0,2],[-1,2]),a=SD(ED(n,t.inputSizeTensor),t.anchorsTensor),i=ED(r,t.doubleInputSizeTensor),s=LD(GD(a,i),t.inputSizeTensor),o=LD(SD(a,i),t.inputSizeTensor);return Pj([s,o],1)}))},e.prototype.normalizeLandmarks=function(e,t){var n=this;return pA((function(){var r=SD(ED(vj(e,[-1,7,2]),n.inputSizeTensor),n.anchors[t]);return LD(r,n.inputSizeTensor)}))},e.prototype.getBoundingBoxes=function(e){return hne(this,void 0,void 0,(function(){var t,n,r,a,i,s,o,l,u,c,f,d,h,p,m,g=this;return pne(this,(function(y){switch(y.label){case 0:return t=pA((function(){return LD(GD(e,.5),2)})),"webgl"===yA()?(r=wS().get("WEBGL_PACK_DEPTHWISECONV"),wS().set("WEBGL_PACK_DEPTHWISECONV",!0),n=this.model.predict(t),wS().set("WEBGL_PACK_DEPTHWISECONV",r)):n=this.model.predict(t),a=v$(n),i=pA((function(){return v$(Nj(Ij(a,[0,0],[-1,1])))})),s=Ij(a,[0,1],[-1,4]),o=this.normalizeBoxes(s),l=console.warn,console.warn=function(){},u=oz.nonMaxSuppression(o,i,1,this.iouThreshold,this.scoreThreshold),console.warn=l,[4,u.array()];case 1:return c=y.sent(),f=[t,n,u,a,o,s,i],0===c.length?(f.forEach((function(e){return e.dispose()})),[2,null]):(d=c[0],h=Ij(o,[d,0],[1,-1]),p=Ij(a,[d,5],[1,14]),m=pA((function(){return vj(g.normalizeLandmarks(p,d),[-1,2])})),f.push(p),f.forEach((function(e){return e.dispose()})),[2,{boxes:h,palmLandmarks:m}])}}))}))},e.prototype.estimateHandBounds=function(e){return hne(this,void 0,void 0,(function(){var t,n,r,a,i,s,o,l,u=this;return pne(this,(function(c){switch(c.label){case 0:return t=e.shape[1],n=e.shape[2],r=pA((function(){return ED(oz.resizeBilinear(e,[u.width,u.height]),255)})),[4,this.getBoundingBoxes(r)];case 1:return null===(a=c.sent())?(r.dispose(),[2,null]):(i=a.boxes.arraySync(),s=i[0].slice(0,2),o=i[0].slice(2,4),l=a.palmLandmarks.arraySync(),r.dispose(),a.boxes.dispose(),a.palmLandmarks.dispose(),[2,(f={startPoint:s,endPoint:o,palmLandmarks:l},d=[n/this.width,t/this.height],{startPoint:[f.startPoint[0]*d[0],f.startPoint[1]*d[1]],endPoint:[f.endPoint[0]*d[0],f.endPoint[1]*d[1]],palmLandmarks:f.palmLandmarks.map((function(e){return[e[0]*d[0],e[1]*d[1]]}))})])}var f,d}))}))},e}(),kne={thumb:[1,2,3,4],indexFinger:[5,6,7,8],middleFinger:[9,10,11,12],ringFinger:[13,14,15,16],pinky:[17,18,19,20],palmBase:[0]};var Cne=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]};function Nne(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function Ine(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function Sne(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var i=0;i<r;i++)n[a].push(Nne(e[a],Ine(t,i)))}return n}function Mne(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],i=Sne(Cne(t[0],t[1]),a);return Sne(i,Cne(-t[0],-t[1]))}function Ene(e,t){return[Nne(e,t[0]),Nne(e,t[1])]}var Lne=[0,-.4],Tne=[0,-.1],Ane=[0,5,9,13,17,1,2],Dne=function(){function e(e,t,n,r,a,i){this.boundingBoxDetector=e,this.meshDetector=t,this.meshWidth=n,this.meshHeight=r,this.maxContinuousChecks=a,this.detectionConfidence=i,this.regionsOfInterest=[],this.runsWithoutHandDetector=0,this.maxHandsNumber=1}return e.prototype.getBoxForPalmLandmarks=function(e,t){var n=e.map((function(e){return Ene(mne(mne([],e,!0),[1],!1),t)}));return bne(vne(wne(this.calculateLandmarksBoundingBox(n),Lne)),3)},e.prototype.getBoxForHandLandmarks=function(e){for(var t=bne(vne(wne(this.calculateLandmarksBoundingBox(e),Tne)),1.65),n=[],r=0;r<Ane.length;r++)n.push(e[Ane[r]].slice(0,2));return t.palmLandmarks=n,t},e.prototype.transformRawCoords=function(e,t,n,r){var a,i,s,o,l=this,u=gne(t),c=[u[0]/this.meshWidth,u[1]/this.meshHeight],f=e.map((function(e){return[c[0]*(e[0]-l.meshWidth/2),c[1]*(e[1]-l.meshHeight/2),e[2]]})),d=Mne(n,[0,0]),h=f.map((function(e){return mne(mne([],Ene(e,d),!0),[e[2]],!1)})),p=(i=[[(a=r)[0][0],a[1][0]],[a[0][1],a[1][1]]],s=[a[0][2],a[1][2]],o=[-Nne(i[0],s),-Nne(i[1],s)],[i[0].concat(o[0]),i[1].concat(o[1]),[0,0,1]]),m=mne(mne([],yne(t),!0),[1],!1),g=[Nne(m,p[0]),Nne(m,p[1])];return h.map((function(e){return[e[0]+g[0],e[1]+g[1],e[2]]}))},e.prototype.estimateHand=function(e){return hne(this,void 0,void 0,(function(){var t,n,r,a,i,s,o,l,u,c,f,d,h,p,m,g,y,b,v,w;return pne(this,(function(x){switch(x.label){case 0:return!0!==(t=this.shouldUpdateRegionsOfInterest())?[3,2]:[4,this.boundingBoxDetector.estimateHandBounds(e)];case 1:return null===(n=x.sent())?(e.dispose(),this.regionsOfInterest=[],[2,null]):(this.updateRegionsOfInterest(n,!0),this.runsWithoutHandDetector=0,[3,3]);case 2:this.runsWithoutHandDetector++,x.label=3;case 3:return r=this.regionsOfInterest[0],a=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(r.palmLandmarks[0],r.palmLandmarks[2]),i=yne(r),s=[i[0]/e.shape[2],i[1]/e.shape[1]],o=oz.rotateWithOffset(e,a,0,s),l=Mne(-a,i),u=!0===t?this.getBoxForPalmLandmarks(r.palmLandmarks,l):r,c=function(e,t,n){var r=t.shape[1],a=t.shape[2],i=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return oz.cropAndResize(t,i,[0],n)}(u,o,[this.meshWidth,this.meshHeight]),f=ED(c,255),c.dispose(),o.dispose(),"webgl"===yA()?(h=wS().get("WEBGL_PACK_DEPTHWISECONV"),wS().set("WEBGL_PACK_DEPTHWISECONV",!0),d=this.meshDetector.predict(f),wS().set("WEBGL_PACK_DEPTHWISECONV",h)):d=this.meshDetector.predict(f),p=d[0],m=d[1],f.dispose(),g=p.dataSync()[0],p.dispose(),g<this.detectionConfidence?(m.dispose(),this.regionsOfInterest=[],[2,null]):(y=vj(m,[-1,3]),b=y.arraySync(),m.dispose(),y.dispose(),v=this.transformRawCoords(b,u,a,l),w=this.getBoxForHandLandmarks(v),this.updateRegionsOfInterest(w,!1),[2,{landmarks:v,handInViewConfidence:g,boundingBox:{topLeft:w.startPoint,bottomRight:w.endPoint}}])}}))}))},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e.prototype.updateRegionsOfInterest=function(e,t){if(t)this.regionsOfInterest=[e];else{var n=this.regionsOfInterest[0],r=0;if(null!=n&&null!=n.startPoint){var a=e.startPoint,i=a[0],s=a[1],o=e.endPoint,l=o[0],u=o[1],c=n.startPoint,f=c[0],d=c[1],h=n.endPoint,p=h[0],m=h[1],g=Math.max(i,f),y=Math.max(s,d),b=(Math.min(l,p)-g)*(Math.min(u,m)-y);r=b/((l-i)*(u-s)+(p-f)*(m-s)-b)}this.regionsOfInterest[0]=r>.8?n:e}},e.prototype.shouldUpdateRegionsOfInterest=function(){return this.regionsOfInterest.length!==this.maxHandsNumber||this.runsWithoutHandDetector>=this.maxContinuousChecks},e}();function Rne(){return hne(this,void 0,void 0,(function(){return pne(this,(function(e){return[2,NJ("https://tfhub.dev/mediapipe/tfjs-model/handdetector/1/default/1",{fromTFHub:!0})]}))}))}function jne(){return hne(this,void 0,void 0,(function(){return pne(this,(function(e){return[2,NJ("https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1",{fromTFHub:!0})]}))}))}function One(){return hne(this,void 0,void 0,(function(){return pne(this,(function(e){return[2,cT("https://tfhub.dev/mediapipe/tfjs-model/handskeleton/1/default/1/anchors.json?tfjs-format=file").then((function(e){return e.json()}))]}))}))}var _ne=function(){function e(e){this.pipeline=e}return e.getAnnotations=function(){return kne},e.prototype.estimateHands=function(e,t){return void 0===t&&(t=!1),hne(this,void 0,void 0,(function(){var n,r,a,i,s,o,l,u,c;return pne(this,(function(f){switch(f.label){case 0:return n=function(e){return e instanceof MT?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),r=n[1],a=pA((function(){return e instanceof MT||(e=SR(e)),EO(CD(e,"float32"))})),[4,this.pipeline.estimateHand(a)];case 1:if(i=f.sent(),a.dispose(),null===i)return[2,[]];for(s=i,!0===t&&(s=function(e,t){var n=e.handInViewConfidence,r=e.landmarks,a=e.boundingBox;return{handInViewConfidence:n,landmarks:r.map((function(e){return[t-1-e[0],e[1],e[2]]})),boundingBox:{topLeft:[t-1-a.topLeft[0],a.topLeft[1]],bottomRight:[t-1-a.bottomRight[0],a.bottomRight[1]]}}}(i,r)),o={},l=0,u=Object.keys(kne);l<u.length;l++)c=u[l],o[c]=kne[c].map((function(e){return s.landmarks[e]}));return[2,[{handInViewConfidence:s.handInViewConfidence,boundingBox:s.boundingBox,landmarks:s.landmarks,annotations:o}]]}}))}))},e}(),$ne=n(757);const Fne={thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],pinky:[0,17,18,19,20]},zne={0:{color:"yellow",size:15},1:{color:"gold",size:6},2:{color:"green",size:10},3:{color:"gold",size:6},4:{color:"gold",size:6},5:{color:"purple",size:10},6:{color:"gold",size:6},7:{color:"gold",size:6},8:{color:"gold",size:6},9:{color:"blue",size:10},10:{color:"gold",size:6},11:{color:"gold",size:6},12:{color:"gold",size:6},13:{color:"red",size:10},14:{color:"gold",size:6},15:{color:"gold",size:6},16:{color:"gold",size:6},17:{color:"orange",size:10},18:{color:"gold",size:6},19:{color:"gold",size:6},20:{color:"gold",size:6}},Pne=new $ne.GestureDescription("A");Pne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),Pne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Pne.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),Pne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Pne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const Bne=new $ne.GestureDescription("B");Bne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),[$ne.Finger.Index,$ne.Finger.Middle,$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>{Bne.addCurl(e,$ne.FingerCurl.NoCurl,1),Bne.addDirection(e,$ne.FingerDirection.VerticalUp,1)}));const Une=new $ne.GestureDescription("C");Une.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),Une.addCurl($ne.Finger.Index,$ne.FingerCurl.HalfCurl,1),Une.addCurl($ne.Finger.Middle,$ne.FingerCurl.HalfCurl,1),Une.addCurl($ne.Finger.Ring,$ne.FingerCurl.HalfCurl,1),Une.addCurl($ne.Finger.Pinky,$ne.FingerCurl.HalfCurl,1);const Wne=new $ne.GestureDescription("D");Wne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),Wne.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),Wne.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),Wne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Wne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const Vne=new $ne.GestureDescription("E");Vne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),Vne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Vne.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),Vne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Vne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const Gne=new $ne.GestureDescription("F");Gne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),Gne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Gne.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),Gne.addCurl($ne.Finger.Ring,$ne.FingerCurl.NoCurl,1),Gne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.NoCurl,1);const Hne=new $ne.GestureDescription("G");Hne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),Hne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalLeft,1),Hne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalRight,1),Hne.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),Hne.addDirection($ne.Finger.Index,$ne.FingerDirection.HorizontalLeft,1),Hne.addDirection($ne.Finger.Index,$ne.FingerDirection.HorizontalRight,1),[$ne.Finger.Middle,$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>{Hne.addCurl(e,$ne.FingerCurl.FullCurl,1)}));const Yne=new $ne.GestureDescription("H");Yne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),[$ne.Finger.Index,$ne.Finger.Middle].forEach((e=>{Yne.addCurl(e,$ne.FingerCurl.NoCurl,1),Yne.addDirection(e,$ne.FingerDirection.HorizontalRight,1),Yne.addDirection(e,$ne.FingerDirection.HorizontalLeft,1)})),[$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>{Yne.addCurl(e,$ne.FingerCurl.FullCurl,1)}));const Qne=new $ne.GestureDescription("I");Qne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),Qne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Qne.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),Qne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Qne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.NoCurl,1);const Jne=new $ne.GestureDescription("J");Jne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,.5),Jne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,.5),Jne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Jne.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),Jne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Jne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.NoCurl,1);const Zne=new $ne.GestureDescription("K");Zne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),Zne.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),Zne.addDirection($ne.Finger.Index,$ne.FingerDirection.VerticalUp,1),Zne.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),Zne.addDirection($ne.Finger.Middle,$ne.FingerDirection.DiagonalUpRight,1),Zne.addDirection($ne.Finger.Middle,$ne.FingerDirection.DiagonalUpLeft,1),[$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>{Zne.addCurl(e,$ne.FingerCurl.FullCurl,1)}));const qne=new $ne.GestureDescription("L");qne.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),qne.addDirection($ne.Finger.Index,$ne.FingerDirection.VerticalUp,1),qne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),qne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalLeft,1),qne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalRight,1),[$ne.Finger.Middle,$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>{qne.addCurl(e,$ne.FingerCurl.FullCurl,1)}));const Kne=new $ne.GestureDescription("M");Kne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),Kne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalLeft,1),Kne.addDirection($ne.Finger.Thumb,$ne.FingerDirection.HorizontalRight,1),[$ne.Finger.Index,$ne.Finger.Middle,$ne.Finger.Ring].forEach((e=>Kne.addCurl(e,$ne.FingerCurl.HalfCurl,1))),Kne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const Xne=new $ne.GestureDescription("N");Xne.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),Xne.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),Xne.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),Xne.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),Xne.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const ere=new $ne.GestureDescription("O");ere.addCurl($ne.Finger.Thumb,$ne.FingerCurl.FullCurl,1),ere.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),ere.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),ere.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),ere.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const tre=new $ne.GestureDescription("P");tre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),tre.addDirection($ne.Finger.Thumb,$ne.FingerDirection.VerticalDown,10),tre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),tre.addDirection($ne.Finger.Index,$ne.FingerDirection.DiagonalDownLeft,10),tre.addDirection($ne.Finger.Index,$ne.FingerDirection.DiagonalDownRight,10),tre.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),[$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>tre.addCurl(e,$ne.FingerCurl.FullCurl,1)));const nre=new $ne.GestureDescription("Q");nre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),nre.addDirection($ne.Finger.Thumb,$ne.FingerDirection.VerticalDown,.75),nre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),nre.addDirection($ne.Finger.Index,$ne.FingerDirection.VerticalDown,.75),[$ne.Finger.Middle,$ne.Finger.Ring,$ne.Finger.Pinky].forEach((e=>nre.addCurl(e,$ne.FingerCurl.FullCurl,1)));const rre=new $ne.GestureDescription("R");rre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),rre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),rre.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),rre.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),rre.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const are=new $ne.GestureDescription("S");are.addCurl($ne.Finger.Thumb,$ne.FingerCurl.HalfCurl,1),are.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),are.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),are.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),are.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const ire=new $ne.GestureDescription("T");ire.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),ire.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),ire.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),ire.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),ire.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const sre=new $ne.GestureDescription("U");sre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),sre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),sre.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),sre.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),sre.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const ore=new $ne.GestureDescription("V");ore.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),ore.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),ore.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),ore.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),ore.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const lre=new $ne.GestureDescription("W");lre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.FullCurl,1),lre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),lre.addCurl($ne.Finger.Middle,$ne.FingerCurl.NoCurl,1),lre.addCurl($ne.Finger.Ring,$ne.FingerCurl.NoCurl,1),lre.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const ure=new $ne.GestureDescription("X");ure.addCurl($ne.Finger.Thumb,$ne.FingerCurl.FullCurl,1),ure.addCurl($ne.Finger.Index,$ne.FingerCurl.HalfCurl,1),ure.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),ure.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),ure.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const cre=new $ne.GestureDescription("Y");cre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),cre.addCurl($ne.Finger.Index,$ne.FingerCurl.FullCurl,1),cre.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),cre.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),cre.addCurl($ne.Finger.Pinky,$ne.FingerCurl.NoCurl,1);const fre=new $ne.GestureDescription("Z");fre.addCurl($ne.Finger.Thumb,$ne.FingerCurl.NoCurl,1),fre.addCurl($ne.Finger.Index,$ne.FingerCurl.NoCurl,1),fre.addDirection($ne.Finger.Index,$ne.FingerDirection.DiagonalUpLeft,1),fre.addDirection($ne.Finger.Index,$ne.FingerDirection.DiagonalUpRight,1),fre.addCurl($ne.Finger.Middle,$ne.FingerCurl.FullCurl,1),fre.addCurl($ne.Finger.Ring,$ne.FingerCurl.FullCurl,1),fre.addCurl($ne.Finger.Pinky,$ne.FingerCurl.FullCurl,1);const dre={A:Pne,B:Bne,C:Une,D:Wne,E:Vne,F:Gne,G:Hne,H:Yne,I:Qne,J:Jne,K:Zne,L:qne,M:Kne,N:Xne,O:ere,P:tre,Q:nre,R:rre,S:are,T:ire,U:sre,V:ore,W:lre,X:ure,Y:cre,Z:fre},hre=()=>{var e,t;const{call:n,isCallAccepted:r,myVideoRef:a,partnerVideoRef:i,userStream:s,name:o,isCallEnded:l,sendMessage:u,receivedMessage:c,chatMessages:f,setChatMessages:d,endCall:h,opponentName:p,isMyVideoActive:m,isPartnerVideoActive:g,toggleVideo:y,isMyMicActive:b,isPartnerMicActive:v,toggleMicrophone:w,toggleFullScreen:x,toggleScreenSharingMode:k}=(0,E.useContext)(no),[C,N]=(0,E.useState)(""),[I,S]=(0,E.useState)(!1),[M,L]=(0,E.useState)(!1),T=(0,E.useRef)(null),[A,D]=(0,E.useState)(""),[R,j]=(0,E.useState)([]),[O,_]=(0,E.useState)(null);(0,E.useEffect)((()=>{const e=e=>{let{message:t,senderName:n}=e;const r={message:t,type:"received",senderName:n,timestamp:Date.now()};d((e=>[...e,r])),I||L(!0)};return Ks.on("receiveMessage",e),()=>Ks.off("receiveMessage",e)}),[d,I]);const $=()=>{S(!I),I||L(!1)},[F,z]=(0,E.useState)(!1),[P,B]=(0,E.useState)(new Set);(0,E.useEffect)((()=>{(async()=>{const e=await function(e){var t=void 0===e?{}:e,n=t.maxContinuousChecks,r=void 0===n?1/0:n,a=t.detectionConfidence,i=void 0===a?.8:a,s=t.iouThreshold,o=void 0===s?.3:s,l=t.scoreThreshold,u=void 0===l?.5:l;return hne(this,void 0,void 0,(function(){var e,t,n,a,s,l;return pne(this,(function(c){switch(c.label){case 0:return[4,Promise.all([One(),Rne(),jne()])];case 1:return e=c.sent(),t=e[0],n=e[1],a=e[2],s=new xne(n,256,256,t,o,u),l=new Dne(s,a,256,256,r,i),[2,new _ne(l)]}}))}))}();console.log("Handpose model loaded");const t=setInterval((async()=>{if(F&&i.current&&4===i.current.readyState){const t=i.current,n=t.videoWidth,r=t.videoHeight;t.width=n,t.height=r,T.current.width=n,T.current.height=r;const a=await e.estimateHands(t);if(a.length>0){const e=new $ne.GestureEstimator(Object.values(dre)),t=await e.estimate(a[0].landmarks,10);if(t.gestures.length>0){const e=t.gestures.map((e=>e.score)),n=e.indexOf(Math.max(...e)),r=t.gestures[n].name;r!==O&&t.gestures[n].score>9&&(D(r),B((e=>new Set(e).add(r))),j((e=>[...e,r])),_(r),console.log("Detected:",r))}}((e,t)=>{e.length>0&&e.forEach((e=>{const n=e.landmarks;for(let r=0;r<Object.keys(Fne).length;r++){let e=Object.keys(Fne)[r];for(let r=0;r<Fne[e].length-1;r++){const a=Fne[e][r],i=Fne[e][r+1];t.beginPath(),t.moveTo(n[a][0],n[a][1]),t.lineTo(n[i][0],n[i][1]),t.strokeStyle="plum",t.lineWidth=4,t.stroke()}}for(let r=0;r<n.length;r++){const e=n[r][0],a=n[r][1];t.beginPath(),t.arc(e,a,zne[r].size,0,3*Math.PI),t.fillStyle=zne[r].color,t.fill()}}))})(a,T.current.getContext("2d"))}}),200)})()}),[a,F,O]);const U=Array.from(P).join(" ");return(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)("div",{className:"video-container",children:(0,to.jsxs)(So,{children:[s?(0,to.jsx)(Eo,{xl:r&&6,md:r&&6,sm:r&&12,children:(0,to.jsxs)("div",{className:"video-paper",children:[(0,to.jsx)("h5",{className:"video-name",children:o||"Name"}),(0,to.jsxs)("div",{className:"video-avatar",style:{position:"relative"},children:[(0,to.jsx)("video",{playsInline:!0,muted:!0,ref:a,onClick:x,autoPlay:!0,className:r?"video-main":"video-small",style:{opacity:m?1:0}}),(0,to.jsx)(Jy,{className:"avatar-background "+(m?"avatar-hidden":"avatar-visible"),size:100,icon:!o&&(0,to.jsx)(Zy,{size:45,style:{marginBottom:"8px"}}),children:null===o||void 0===o||null===(e=o[0])||void 0===e?void 0:e.toUpperCase()}),!b&&(0,to.jsx)(qy,{className:"mic-off-icon",size:42})]})]})}):(0,to.jsx)(Ky,{}),r&&!l&&i&&(0,to.jsx)(Eo,{xl:r&&6,md:r&&6,sm:r&&12,className:"pt-xl-0 pt-lg-0 pt-md-0 pt-3",children:(0,to.jsxs)("div",{className:"video-paper",children:[(0,to.jsx)("h5",{className:"video-name",children:n.name||p||"Name"}),(0,to.jsxs)("div",{className:"video-avatar",children:[(0,to.jsx)("video",{playsInline:!0,ref:i,onClick:x,autoPlay:!0,className:"video-main",style:{opacity:g?1:0}}),(0,to.jsx)("canvas",{ref:T,className:"gesture-canvas",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:10,pointerEvents:"none"}}),A&&(0,to.jsxs)("div",{style:{position:"absolute",top:10,left:10,backgroundColor:"rgba(0,0,0,0.5)",color:"white",padding:"10px 20px",borderRadius:"10px",zIndex:11},children:["Detected ASL: ",A]}),(0,to.jsx)(Jy,{className:"avatar-background "+(g?"avatar-hidden":"avatar-visible"),size:100,icon:!p&&!n.name&&(0,to.jsx)(Zy,{size:45,style:{marginBottom:"8px"}}),children:null===(t=p||n.name)||void 0===t?void 0:t.slice(0,1).toUpperCase()}),!v&&(0,to.jsx)(qy,{className:"mic-off-icon",size:42})]})]})})]})}),s&&(0,to.jsxs)("div",{className:"video-controls",children:[(0,to.jsx)(Ro,{onClick:w,className:"video-control-btn",children:b?(0,to.jsx)(io,{size:25}):(0,to.jsx)(ao,{size:25})}),(0,to.jsx)(Ro,{onClick:y,className:"video-control-btn",children:m?(0,to.jsx)(oo,{size:25}):(0,to.jsx)(so,{size:25})}),(0,to.jsx)(Ro,{onClick:()=>z((e=>!e)),className:"video-control-btn",children:F?(0,to.jsx)(Mi,{className:"hand-icon",size:25}):(0,to.jsx)(Li,{className:"cross-icon",size:25})}),r&&!l&&(0,to.jsx)(Ro,{className:"video-control-btn",onClick:k,children:(0,to.jsx)(fo,{size:23})}),r&&!l&&(0,to.jsxs)(Ro,{className:"video-control-btn",onClick:$,children:[(0,to.jsx)(po,{size:22}),M&&(0,to.jsx)("div",{className:"notification-dot"})]}),r&&!l&&(0,to.jsx)(Ro,{className:"decline-call-btn",onClick:h,children:(0,to.jsx)(lo,{size:22})})]}),(0,to.jsx)(DI,{isVisible:I,toggleModal:$,chatMessages:f,sendMessage:C,setSendMessage:N,onSearch:e=>{e&&(u(e),N(""))},receivedMessage:c}),U&&(0,to.jsxs)("div",{style:{position:"absolute",bottom:10,left:10,backgroundColor:"rgba(0,0,0,0.5)",color:"white",padding:"10px 20px",borderRadius:"10px",zIndex:11},children:["Combined ASL: ",U]})]})},pre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"card-body"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));pre.displayName="CardBody";const mre=pre,gre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"card-footer"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));gre.displayName="CardFooter";const yre=gre,bre=E.createContext(null);bre.displayName="CardHeaderContext";const vre=bre,wre=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="div",...i}=e;const s=ko(n,"card-header"),o=(0,E.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,to.jsx)(vre.Provider,{value:o,children:(0,to.jsx)(a,{ref:t,...i,className:go()(r,s)})})}));wre.displayName="CardHeader";const xre=wre,kre=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:a,as:i="img",...s}=e;const o=ko(n,"card-img");return(0,to.jsx)(i,{ref:t,className:go()(a?`${o}-${a}`:o,r),...s})}));kre.displayName="CardImg";const Cre=kre,Nre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"card-img-overlay"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Nre.displayName="CardImgOverlay";const Ire=Nre,Sre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="a",...i}=e;return r=ko(r,"card-link"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Sre.displayName="CardLink";const Mre=Sre,Ere=Ov("h6"),Lre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=Ere,...i}=e;return r=ko(r,"card-subtitle"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Lre.displayName="CardSubtitle";const Tre=Lre,Are=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="p",...i}=e;return r=ko(r,"card-text"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Are.displayName="CardText";const Dre=Are,Rre=Ov("h5"),jre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a=Rre,...i}=e;return r=ko(r,"card-title"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));jre.displayName="CardTitle";const Ore=jre,_re=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:a,text:i,border:s,body:o=!1,children:l,as:u="div",...c}=e;const f=ko(n,"card");return(0,to.jsx)(u,{ref:t,...c,className:go()(r,f,a&&`bg-${a}`,i&&`text-${i}`,s&&`border-${s}`),children:o?(0,to.jsx)(mre,{children:l}):l})}));_re.displayName="Card";const $re=Object.assign(_re,{Img:Cre,Title:Ore,Subtitle:Tre,Body:mre,Link:Mre,Text:Dre,Header:xre,Footer:yre,ImgOverlay:Ire}),Fre=E.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,className:a,type:i="checkbox",isValid:s=!1,isInvalid:o=!1,as:l="input",...u}=e;const{controlId:c}=(0,E.useContext)(Hv);return r=ko(r,"form-check-input"),(0,to.jsx)(l,{...u,ref:t,type:i,id:n||c,className:go()(a,r,s&&"is-valid",o&&"is-invalid")})}));Fre.displayName="FormCheckInput";const zre=Fre,Pre=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,htmlFor:a,...i}=e;const{controlId:s}=(0,E.useContext)(Hv);return n=ko(n,"form-check-label"),(0,to.jsx)("label",{...i,ref:t,htmlFor:a||s,className:go()(r,n)})}));Pre.displayName="FormCheckLabel";const Bre=Pre;const Ure=E.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:a,inline:i=!1,reverse:s=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:c=!1,feedback:f,feedbackType:d,className:h,style:p,title:m="",type:g="checkbox",label:y,children:b,as:v="input",...w}=e;r=ko(r,"form-check"),a=ko(a,"form-switch");const{controlId:x}=(0,E.useContext)(Hv),k=(0,E.useMemo)((()=>({controlId:n||x})),[x,n]),C=!b&&null!=y&&!1!==y||function(e,t){return E.Children.toArray(e).some((e=>E.isValidElement(e)&&e.type===t))}(b,Bre),N=(0,to.jsx)(zre,{...w,type:"switch"===g?"checkbox":g,ref:t,isValid:l,isInvalid:u,disabled:o,as:v});return(0,to.jsx)(Hv.Provider,{value:k,children:(0,to.jsx)("div",{style:p,className:go()(h,C&&r,i&&`${r}-inline`,s&&`${r}-reverse`,"switch"===g&&a),children:b||(0,to.jsxs)(to.Fragment,{children:[N,C&&(0,to.jsx)(Bre,{title:m,children:y}),f&&(0,to.jsx)(Gv,{type:d,tooltip:c,children:f})]})})})}));Ure.displayName="FormCheck";const Wre=Object.assign(Ure,{Input:zre,Label:Bre}),Vre=E.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:a="div",...i}=e;return r=ko(r,"form-floating"),(0,to.jsx)(a,{ref:t,className:go()(n,r),...i})}));Vre.displayName="FormFloating";const Gre=Vre,Hre=E.forwardRef(((e,t)=>{let{controlId:n,as:r="div",...a}=e;const i=(0,E.useMemo)((()=>({controlId:n})),[n]);return(0,to.jsx)(Hv.Provider,{value:i,children:(0,to.jsx)(r,{...a,ref:t})})}));Hre.displayName="FormGroup";const Yre=Hre,Qre=E.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:r,column:a=!1,visuallyHidden:i=!1,className:s,htmlFor:o,...l}=e;const{controlId:u}=(0,E.useContext)(Hv);r=ko(r,"form-label");let c="col-form-label";"string"===typeof a&&(c=`${c} ${c}-${a}`);const f=go()(s,r,i&&"visually-hidden",a&&c);return o=o||u,a?(0,to.jsx)(Eo,{ref:t,as:"label",className:f,htmlFor:o,...l}):(0,to.jsx)(n,{ref:t,className:f,htmlFor:o,...l})}));Qre.displayName="FormLabel";const Jre=Qre,Zre=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,id:a,...i}=e;const{controlId:s}=(0,E.useContext)(Hv);return n=ko(n,"form-range"),(0,to.jsx)("input",{...i,type:"range",ref:t,className:go()(r,n),id:a||s})}));Zre.displayName="FormRange";const qre=Zre,Kre=E.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,htmlSize:a,className:i,isValid:s=!1,isInvalid:o=!1,id:l,...u}=e;const{controlId:c}=(0,E.useContext)(Hv);return n=ko(n,"form-select"),(0,to.jsx)("select",{...u,size:a,ref:t,className:go()(i,n,r&&`${n}-${r}`,s&&"is-valid",o&&"is-invalid"),id:l||c})}));Kre.displayName="FormSelect";const Xre=Kre,eae=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:a="small",muted:i,...s}=e;return n=ko(n,"form-text"),(0,to.jsx)(a,{...s,ref:t,className:go()(r,n,i&&"text-muted")})}));eae.displayName="FormText";const tae=eae,nae=E.forwardRef(((e,t)=>(0,to.jsx)(Wre,{...e,ref:t,type:"switch"})));nae.displayName="Switch";const rae=Object.assign(nae,{Input:Wre.Input,Label:Wre.Label}),aae=E.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:a,controlId:i,label:s,...o}=e;return n=ko(n,"form-floating"),(0,to.jsxs)(Yre,{ref:t,className:go()(r,n),controlId:i,...o,children:[a,(0,to.jsx)("label",{htmlFor:i,children:s})]})}));aae.displayName="FloatingLabel";const iae=aae,sae={_ref:ni().any,validated:ni().bool,as:ni().elementType},oae=E.forwardRef(((e,t)=>{let{className:n,validated:r,as:a="form",...i}=e;return(0,to.jsx)(a,{...i,ref:t,className:go()(n,r&&"was-validated")})}));oae.displayName="Form",oae.propTypes=sae;const lae=Object.assign(oae,{Group:Yre,Control:Qv,Floating:Gre,Check:Wre,Switch:rae,Label:Jre,Text:tae,Range:qre,Select:Xre,FloatingLabel:iae});var uae=n(1476);const cae=()=>{const[e,t]=(0,E.useState)(""),[n,r]=(0,E.useState)(!1),{name:a,setName:i,myUserId:s,callUser:o,isCallAccepted:l}=(0,E.useContext)(no);return(0,to.jsx)(to.Fragment,{children:!l&&(0,to.jsx)("div",{className:"form-section",children:(0,to.jsx)($re,{className:"card",children:(0,to.jsxs)(lae,{noValidate:!0,autoComplete:"off",children:[(0,to.jsxs)(lae.Group,{controlId:"name",children:[(0,to.jsx)(lae.Label,{className:"form-label",children:"Your Name"}),(0,to.jsx)(lae.Control,{type:"text",value:a,className:"form-input",onChange:e=>i(e.target.value),placeholder:"Enter your name"})]}),(0,to.jsx)(uae.CopyToClipboard,{text:s,children:(0,to.jsx)(Ro,{className:"form-main-btn mb-3 ",onClick:()=>{r(!0),setTimeout((()=>{r(!1)}),1500)},children:n?(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(ho,{size:22})," Copied!"]}):(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(co,{size:22})," Copy Your ID"]})})}),(0,to.jsxs)(lae.Group,{controlId:"idToCall",children:[(0,to.jsx)(lae.Label,{className:"form-label",children:"ID to call"}),(0,to.jsx)(lae.Control,{type:"text",value:e,className:"form-input",onChange:e=>t(e.target.value),placeholder:"Enter the ID to make a call"})]}),(0,to.jsxs)(Ro,{className:"form-main-btn",onClick:()=>o(e),children:[(0,to.jsx)(uo,{size:22})," Call"]})]})})})})},fae=(n.p,[{name:"Sania",title:"E-Commerce 2.0",image:"/images/yomi.jpg"},{name:"Siddhartha",title:"E-Commerce 2.0",image:"/images/yomi.jpg"},{name:"Ankush",title:"Closing",image:"/images/david.jpg"},{name:"Amardeep",title:"Investissement Immobilier",image:"/images/manuel.jpg"}]),dae=()=>{const[e,t]=(0,E.useState)(0),n=[fae[e%fae.length],fae[(e+1)%fae.length],fae[(e+2)%fae.length],fae[(e+3)%fae.length]];return(0,to.jsxs)("section",{className:" text-white py-16 px-4",children:[(0,to.jsx)("div",{className:"max-w-7xl mx-auto text-center",children:(0,to.jsxs)("h2",{className:"text-4xl font-semibold text-white",children:["Team ",(0,to.jsx)("br",{})]})}),(0,to.jsxs)("div",{className:"relative mt-12",children:[(0,to.jsxs)("div",{className:"flex justify-between items-center mb-4 px-4 ",children:[(0,to.jsx)("button",{onClick:()=>{t((e=>(e-1+fae.length)%fae.length))},className:"text-white hover:text-pink-400",children:(0,to.jsx)(Ii,{})}),(0,to.jsx)("button",{onClick:()=>{t((e=>(e+1)%fae.length))},className:"text-white hover:text-pink-400",children:(0,to.jsx)(Si,{})})]}),(0,to.jsx)("div",{className:"overflow-hidden",children:(0,to.jsx)("div",{className:"flex justify-evenly item-center transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${e%fae.length*25}%)`},children:n.map(((e,t)=>(0,to.jsxs)("div",{className:"bg-[#1e1029] rounded-2xl p-4 text-left w-full max-w-[260px] min-h-[380px] relative hover:scale-[1.02] transition-transform duration-300 shadow-md hover:shadow-pink-500/40",style:{backgroundImage:e.description?"linear-gradient(to bottom right,rgb(255, 255, 255),rgb(255, 255, 255))":`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center"},children:[!e.description&&(0,to.jsx)("img",{src:e.image,alt:e.name,className:"rounded-2xl w-full h-full object-cover absolute inset-0 z-0 opacity-80"}),(0,to.jsxs)("div",{className:"relative z-10 h-full flex flex-col justify-end",children:[(0,to.jsx)("h3",{className:"text-lg font-semibold mb-1",children:e.name}),(0,to.jsx)("p",{className:"text-sm text-pink-300 mb-2",children:e.title}),e.description&&(0,to.jsx)("p",{className:"text-xs text-pink-100 leading-relaxed",children:e.description})]})]},t)))})})]})]})};const hae=function(){return(0,to.jsx)(to.Fragment,{children:(0,to.jsxs)("nav",{className:"space-x-4 text-lg font-semibold flex",children:[(0,to.jsx)(Et,{to:"/",className:"hover:underline",children:"Home"}),"          ",(0,to.jsx)(Et,{to:"/about",className:"hover:underline",children:"About"}),"    "]})})},pae=e=>{let{children:t,className:n="",...r}=e;return(0,to.jsx)("button",{className:`px-4 py-2 rounded font-semibold ${n}`,...r,children:t})},mae=()=>{const e=Se();return(0,to.jsxs)("header",{className:"flex justify-between items-center p-6",children:[(0,to.jsx)("div",{className:"nav-brand flex items-center",children:(0,to.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAABaCAYAAAARg3zAAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE1mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI1LTA1LTAxPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmFiZjZlNTJlLTA0NDgtNGE5NC04OTU5LWNhNTExNjEyNWM4YTwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz5VbnRpdGxlZCAoMTUwIHggNDAgcHgpICgxODAgeCA5MCBweCkgLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRmLzEuMy8nPgogIDxwZGY6QXV0aG9yPkFtYXJkZWVwIGt1bWFyPC9wZGY6QXV0aG9yPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+Q2FudmEgZG9jPURBR21MbFI1YXJrIHVzZXI9VUFFLUlFTnE1encgYnJhbmQ9U2hyZXN0aCBKYWluJiMzOTtzIEFjY291bnQgdGVtcGxhdGU9PC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PnZWCJ0AABLXSURBVHic7V0JlB1FFZ0/k8k2JCIQIYCyhyUg+yJgkqOyigIi6gECOQKCIEGCEQSikU0CBBdcMCIcJeybRNZAJB4QREARBAElcJAlLIEshGyTLt/9/d7v1+9X//kzmT+Zk7x7zkv3dFVXvaq69erV0j9NTQ6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PR2xBC0FIiaU6SpIWufYy0cHglvsPRa6CI2cLSREQuiyF57FmJSV5yYjtWKgyRLUmHEHn3putokm+RnElyOskJJAeTbEUywBC8maWSvsPRUBgCthgSH0jyc5InSZaFjjGb5A8k40k2VmlXiO2kdjQMhnByP4DkJJJ/GbK+QjKd5CqSS0m+T3I+yeUkN5P8jeRDFX8JyXUku0o+7H9X8nU4ugXG/21Rf8OdmKVI+QTJRJI9SPqGuM+snw0lOYqJ/L5KZyrJJiquW2tH98CQUYi1NRHtAWEf3V9HsrslrnpHr3Tg71Ik3jokJ1M60kEW0f3pKrzSkRyOLkGRqaSs5bHsHoDIM7SLoIjXbAkbs9RIl92KnAtDzzCBXMp53EsylMP6OKkdXYIlM8u5yipr64n15hyJu5BXeflOER+rIH/n7F7iUaFJx3E46oYilhB6EhN5EV0OEKsrE7fugCY23/cL6SoIMFuRusVJ7agb2n1g4oxnUi0g2UuGf+1GNCJvdX8t5w//en3uTD0+UTTuU4vRscf0cHQCllDUeAeJl0HyGQ5rbWQjaldG3d/JeszUxOopWBdMLS3m3DJHL4NxM2AN32YijdZk7iE9NKnbSJ5hXS6wS4jdkJdMUDEqYU5Q0m6NIW5/+vtLdD2Mrv11na1smI4no0i5PKtlpxMSsX/8eybQpdpq97AuFT+dZFuSRazTTtr16Eq6uqxibbUbxSRoTvIrNNhIeijIsJUkD5O09fSIYcujdLTHEGxZVy9iqwr5LLfZf0kGWitkGrnEFVWXSFxduUUVrML7cMOdyXrdq61mJ8sYc2mGhXTr/jCSz5FsaOJJ3EM5fyxdLub7LwuZVrgBOglD2JK6Dif5AglGklEkH4uVe5UHEw3Xe9gCHSGEEgvG8WwldlU6tBg6HuU/gDtZ4E7XaSKZfLFi8yiluzTksZDkjySf1B0qpCODxa5CFFM3OSlYi6+Uvd460yNBJPxICn+aru1Gx3kkUylsI737GqmXQv1s3Fh5itKpoz3qfqejOs2BI+yGGqB7nM+omslHMoevDXdga5Jt6hDE25bS39AqFlFadxix0qdwI93Bf9dtpYV4fP2GtDalkajG1/ewxCMkf+7UR4f0ABbWycdE9BT/VZcjd+CqFhFiJxDNJDR2uhHXH6piFJVnNtd/rANWnVOPlaUWEeEeGl1zJygj73WYZ8SINludYmnply7jijlFGrIGKRBnOcXH8LuErpClRcIEkeEamYy35zWUcraRRdl16O85/P4WUgl1ElrS2Dhkh6OW8PUtSvcpvl8e0mVK4NmQWeiqESlCQH3fRuH9CsKLGizWmVuRTmR/QNLbI2SQ0eZ/bJTQYZeRzOfn0yP5lFTaOIeDeUH/SLyaI40S6Nqq/rad0tZj/0hdlSJ56fP2SGMgS8nGgTRx4OshJdwGknCE0GWlUWlcSdoK1AOJ/3bIfPRcj2ZZ3xRIwqaUE0mScboQdRBaKkSss5D5OZJPcFqHR/T9IoehoTEyYDKIySGWE6XhxTqtRXIBCTrHWyHd6cRaOrbw4SbBst/P4cdK2ejd8+j6OMmDIZ14orNitMTpRHSqF0nuJRE3sGxs+Hoe6ymT5pkka3LYqZHybB8MQbiMN5I8z3pj3f8ukq8rYkn9g7C3ox5I/sL30AWHze6DrvTsWZIb6H5PQ+IK+ej5kZwH6mg2l/E2en6gKqO0nXQK1MvkkJ7YfIPkdXr+GMlFaMOcS0X/fAqlpYd36swLCA0iCqFh0ZJ6hIf35fzeuySDTONARpL8OaSE+7RSUhrgYH5/WpGeBYSWPM7WBKD0blWVjOvYkG71nxNSsuzE4WtQ+DxhBd1/gGdK7y3o2UshAnr+ckhPFmpMUu/eZcJArsUhjp9InbG+v+LnMupcpkgIS/k9kon0bAJdf0CymcoXdXpNQT4CtMWQkG/7eSoc1v/6Gu8fqfKSNDrKc2II2WoTv3NUku5WFwE6ifFpxj84o6HPapQJUEBoHCR6lRNaXpV0bSznfN4JihD09450vd3EHROyypDevV5IT+S9SyIdom4LHTL/WSw0PkgAydcMtYdVNORrSrfZFFf0x1D9FJdrcSj+yAHPhajnqrRvUToVvYswmfAdrt49n58t5vxBsBNDfvQrGr5/w+9WJsZwUVSekiZILfXfJvXAce0kFFgesvpFR6scCSY5TpUn4fLO5mfL1CR9P6XvPqYeLHTnx8hWbnDZZpYVhOYIKaTBseKgLXRnIPHncDqo+CvU5AzhcuLuiILJkBxekpWIKl0juosfOJTzFvIJ3gypO4MdUvHn+qq8B1L8N1V8uEwf4bAT+RnmEVI+DMnfJbmE5B3Or1K2kFp/Kc+tXPwKmZJ0L2A0XfGBxHuSPl/vVu/ChUgi5Xk5pNYcu7wyZKM8MlKN4HeW8XVuSI/x7hJSq/oKpyNW8Tiuv8FcV4CQGXOOCykMbscVSgfRd4LS92Z+hrr4MGQu0FdDHlJGWGiZ30h6V4f0KMYoktv4mXQ+nARt0iTZJET8Z2uhw4oTei732JPU82VMbKko2aUUUomVuIHDD5XwOgitz4HsS/KB0sku3cFvlaFSOjE6nia0HmHu4WdS4Teq93BFo80xcXKE5mdCyCn6fZLPm7pD3evvMkcb/XNWjOLB5zwg5N27y3WeSboDqtt4F34uhL+Hn7dJx6artNMY8+6FHC7luUnVhZS1HQsJdD1EvYdOhrkFOHEYx9+L40sb3ariSx09ruoH8YbhISocw1WbRG4kodkiIK3vKIXF327nOMdwHJl0CbHlBOA3+e8+EQ4X6S6khi85hdJ4y+imh9yLFGlihEY9tLKPLEuAkO34vX4hs/aT+T3xdasIrYbbffl9TDrlFKJYTAD+oowOUjdw2a6ne/0FkHUJxobMMMzkPKXM+Fro1yRXksAVuTqka/IyWmIPoJXLo+sBugzmdGWSvCNXh7QjJotCPnH5livdXqKwa0m+QtI35DvHyRxHzuI/QpefhfQTv9+S/DKkBgiQ0eSQJk4cvkzF92q0heZCjmNFqwhNOJrjtHD+Yl3kFOAZHN4hoWOkVisT2PHDEL9QdFGug/hy8NctofuzzFHP0cAfVXmJzjISFRJalXtkyPu6aGT97eZ8k4cuz1Cut1tCZjy0xd6G3/knh8V84BhAepxl6Wddr4SPAITMWCAP8ZGBB0RX1nFyKACFow3QrjIan8XPi/z1GMY08Q0I3SMWOjChScax/7g08EqIquSjg3IpQkYO6bXnhE5a6CS/DKVXVyDYJPoPpy3D5WR+b7BpSCF0X1UX0jE35/RaQ2a1vs/htSy0jA6jgiI0pyNWCNCELqm4dq4xgvUEhNSncthjojKHwerBVfhRSEfAiahfXh3B/WlcZ2h7O5dYI+Rdum24HqStK4RWsiXFQfs9xOXJgcJEz9O1/vR8Os8rJrFcwOngGXTFJtNwvLiARZRrOKGZXKfx3+I/V1noUE3oMzhc1qJrEtq4K8eHlByYucNK/TjkyWOJ9wuuj0GW0MoyPcjPpNInh3zjYUh+keNIRykkNF1HGp3g1lhCr83lwgrNM3QPFwJW/MyQt5ZX8TsyHJ/Nz6dyXuLm7GZ0xsiFTRu4D7tTPFmrb0uqJ8dVFlqPckn6Haq4bXuGdEK3M8m6XAbsOWAEw+RX+PE0v7OfrtuQuhi2c+zC6UF2LHOX/nmVKzS6qdIAQs/jtOTQ0aIIoY8JcR/6Ig6XzYl6JoXyrp1AAeg4sKQ7UD5yVFUIIJbCWmi9ynEWP6sM7RQX68NYbvpaUJMWRaCYy1FI6FBtoYdwnUzQBUnS9fEDk3TnDZZe2knylQNVsokkHQw+MvLF8iUmkHpuAYyP1QPdFxI6ZG09g58PCXlrDAJvK/WQpGdRBLPY1UK7yBKx+ORYPcLH1ZvR/R1Gz38gLSQ2gx/sKco1ktCYvCTZLpWgXQlQtMpxE4fvwxXR4bKdcjXK/ii7OfDXxM97X7k60sjY/FmP30OjvaF0RYPLKsc6aua/hDtmDHhei9ASNlI6MF9BaO1Dz6Pna/G764WMfAtVnPfUvXRO7IrqLeYZJjyYSaU8R2eSuRUstK2HIh9auHG/ytOOGHA9p6nyyciIPQlZuz6edWtXVn9+yAyIniPsX7bQIfWhgNww30ALrXcK4evNVHFEwdguU7Mq/Cbc4B2e5wj5Csf6td4kiQE6yFKXDJdvq3AQpk2FY/1er5C0C7HZat4v6fJjTWj5fjJwWJUPTc+fV2mj0fWkEMdeF4TagC8tu57iuuFo6RO1XuLVjfK5GSZXtB64HWS9G4TWvHhQ6YpR7eEOdK1Y7iQ7E39hB+9A1xODGLiQEhm4ghNotn50yBNa7xTWe55Db32jgiuE4IrAWqgediqrHCGzzptz2AuhEz9vEPIdQhrzYk4H1kIOUMHiYJt6eMiTCg0JP3ghE3SW6I9VFtYfhMGZCxAO1h5+JKwifNHRXOlimc5T5Z7K5EdDwvLsLXlzOMqJSRxGjvn0DGdu5LyG6IdlSLg5L3M8KQ86Ltr046b8Qj4M6ZhUPZ9ku5x491WuH5tPVT1EVjm2DKnBmsvpTdPhFB8d9AyeFywK2aE1LEpcQ8+HGR1FsOk1g+toKaeNPO6keHsENYqLEqjwWUGdtiogRWUbmH2l9nqEhwyxYljqEgutD8rgpBV+5PEm1Qj6WOEJ/P4UbRXqQTCkVsP5RiGd/OB45eAkvxKi34OLgcnhoJA/x2Flba5g/CSDDPHfZr1lSJXdM5AVmySDuT4g9iimDPWDOX99ZMA2PNpu05B2rmFsUSWuLY/+uw+/tyvrPaAgXlU9GNJJfCkL6nOgKk/J6LNxSCd15bqvkad+b11uL0wAh8TekQd/5cqWj2JbCggBeTKsGP6tFTCTvibzXBfoPn6/S1+LmIptMXnoisn9GmqBXqI/dvLgNmDlAB8HHBKJX97yTbLdszGif0F5C0XHUfrVOndd+QRLOr+p16LPt4p+7apKF6t3ksR/VllJS+wdXY7I+0V6Vg4x5chKCYzlyr5SJ6AtYMjOqu4Q0sV7EAyfRWGo7VCSdNcI+++7K2WKCmXP/g5n/V5POnEwqRaxOc8SWwttBYo6sm1wXPcPCuxWjKWrfNhwMQeJu4XwTWPlt3Vh87eNXKCjNHDuHHNH9SDvJQWfyNWoh5qdzuZt6150tR01BlO+ShmjESlBrAfCJ4GLsKVuNJtgPZakDql1RDX3ASjfy+kwOXrZox/vWpiyyKRPT8706bkkZEdWxWB0+kNfR50ImTm/hBvgd5o0UvGqATscjmr02spX1bX8X+OG7Mx6YciurG70AkJL54a//5wic3vsnuI+GjL/u1f8BMIqCUXODZL0MydAjpJGVxMsUYWgMdHh9TSi6gii13TWqWKdG1UX9UKVS1wPLElNor/xCZRdzsQMHhtCMtmqezLr6AKMNZSPUbH2Ocg0WsN1UWSWjjSO9ZkVspWRur4lbDSUrnpChpUFrDJgmQlf2OBroOjqiaNBMI46rnczia63Kw2NtixqOQ3XUcrKyY9FrlTf2cKMJtGZuJrsluodpRwrCGM9cAzxtXS9P/0FJbNU1Yi8RVo5v+3o+i7rMFGTuTcSwpRBvoOs/A62E7mHoaxJC/u7GDbly46fRlyBbrHWZiiWDoPt8PIWK4VfZS2ew1EXLGmJTCOS9NA1gE0DOUNQsTzdkKf+bWgIvl+T5a4bVOdZvX6fzdE9UAQSkmFrUg7z4AD8PpGhtS6iRTY09A+I4EjglMxlrpwr8YmUY8Vh3Av41NMU2fCV+PYhVPmNlf8gyG6Lqu1mu+2JlYtT6Zl8zr4gST9379HJqGMVR8Snxt/4yFEf/sYXzviKurULu4c4ljgh4Y9MgST9JR75hEl+udQts6N7YKyvkAunnbCBMFcREa4IvhrGVyQ4p4ED6Dj5Vf5SmE99gcA4uIMViz+F/G4avi07SOWXOzjkcHQbjFXV66zY7sVHjI+EamBSh1UKHBDH2drYAXScicYKhv49M/3zTyu76I5VGYZ0dgNhqyT9nYyrSWbQ/QtJ9pmMHN7GD57gmCW+LMYmif35rZxv7XD0GITYeqNDhEmJrzjwJYMchu9vyKs3anrtZoljNYOx2rLC0dFkUHbQ/LSZo3fDWN+a4nA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4HA6Hw+FwOBwOh8PhcDgcDofD4XA4/g+8UsvaymZqCwAAAABJRU5ErkJggg==",alt:"Logo",className:"logo-image me-2 w-24 h-auto"})}),(0,to.jsx)(hae,{}),(0,to.jsx)(pae,{onClick:()=>{e("/room")},className:"bg-white text-black",children:"Create Room"})]})},gae=()=>(0,to.jsx)("footer",{className:"mt-20 p-6 text-center text-sm text-white/80",children:(0,to.jsx)("p",{children:"\xa9 Sign Sense 2025. All rights reserved."})}),yae=n.p+"static/media/answer-call.f31abfda86f4013c855a.gif",bae=n.p+"static/media/ringtone.f43ffde3a9ec920cde0e.ogg",vae=()=>{const{receiveCall:e,call:t,isCallAccepted:n,endIncomingCall:r,setPartnerUserId:a}=(0,E.useContext)(no),[i,s]=(0,E.useState)(!1),o=(0,E.useRef)(),l=()=>{s(!1),t.isReceivingCall&&!n&&r(),window.location.reload()};return(0,E.useEffect)((()=>{t.isReceivingCall&&!n&&(s(!0),a(t.from))}),[t.from,t.isReceivingCall,n,a]),(0,E.useEffect)((()=>{i&&o.current?o.current.play():o.current&&(o.current.pause(),o.current.currentTime=0)}),[i]),(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)("audio",{src:bae,loop:!0,ref:o}),(0,to.jsxs)(Uv,{show:i,onHide:l,centered:!0,children:[(0,to.jsx)(Uv.Header,{className:"call-modal-header",closeButton:!0,children:(0,to.jsxs)(Uv.Title,{className:"call-modal-title",children:[t.name?t.name:"Someone"," is calling:"]})}),(0,to.jsxs)(Uv.Footer,{className:"call-modal-footer",children:[(0,to.jsx)(Ro,{onClick:l,className:"decline-call-btn",children:(0,to.jsx)(lo,{size:25})}),(0,to.jsx)("div",{className:"answer-call-image",onClick:()=>{e(),s(!1)},children:(0,to.jsx)("img",{src:yae,alt:"Answer Call"})})]})]})]})},wae=()=>(0,to.jsxs)(to.Fragment,{children:[(0,to.jsx)(hre,{}),(0,to.jsx)(cae,{}),(0,to.jsx)(vae,{})]}),xae=n.p+"static/media/team.192f518229380bce1bf4.webp";function kae(){return(0,to.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg grid md:grid-cols-2 w-full max-w-6xl  overflow-hidden m-auto ",children:[(0,to.jsxs)("div",{className:"p-10 flex flex-col justify-center",children:[(0,to.jsx)("span",{className:"inline-block bg-orange-100 text-orange-600 text-lg center font-medium p-2.5 rounded-full w-fit mb-4",children:"About"}),(0,to.jsxs)("h2",{className:"text-3xl font-bold text-black leading-tight mb-4",children:["We believe in doing ",(0,to.jsx)("br",{})," the right thing"]}),(0,to.jsx)("p",{className:"text-gray-600 mb-6",children:"We foster inclusive communication by bridging the gap between spoken and signed language\u2014because accessibility is a right, not a privilege."}),(0,to.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,to.jsxs)("div",{className:"bg-gray-100 p-3 rounded-2xl",children:[(0,to.jsx)("div",{className:"text-yellow-500 text-2xl mb-2",children:"\ud83e\udd1d"}),(0,to.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Inclusion"}),(0,to.jsx)("p",{className:"text-sm text-gray-600",children:"Everyone deserves to be understood."})]}),(0,to.jsxs)("div",{className:"bg-gray-100 p-3 rounded-2xl",children:[(0,to.jsx)("div",{className:"text-green-500 text-2xl mb-2",children:"\ud83d\udca1"}),(0,to.jsx)("h3",{className:"text-lg font-semibold text-black",children:"Innovation "}),(0,to.jsx)("p",{className:"text-sm text-gray-600",children:"Real-time ASL meets modern video chat."})]})]})]}),(0,to.jsxs)("div",{className:"relative overflow-hidden",children:[(0,to.jsx)("img",{src:xae,alt:"Team Working",className:"w-full h-full object-cover"}),(0,to.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,to.jsx)("div",{className:"bg-white rounded-full p-4 shadow-lg cursor-pointer flex items-center justify-center hover:scale-110 transition-transform duration-300",children:(0,to.jsx)(Ei,{className:"hand-icon text-black",size:25})})})]})]})}function Cae(e){let{children:t,className:n=""}=e;return(0,to.jsx)("div",{className:`bg-white rounded-2xl shadow-sm ${n}`,children:t})}function Nae(e){let{children:t,className:n=""}=e;return(0,to.jsx)("div",{className:`p-6 ${n}`,children:t})}const Iae=[{icon:"\u2705 ",title:"Real-Time ASL Detection",description:"Holistic communication support enabling real-time detection and translation of American Sign Language during video calls"},{icon:"\ud83e\udd1d",title:"Inclusive Video Chat",description:"Designed to foster inclusion by bridging communication gaps for the Deaf and Hard of Hearing communities."},{icon:"\ud83d\udcf1",title:" Use It Anywhere",description:"Cross-platform support ensures seamless chatting and signing on mobile, desktop, and tablet\u2014wherever you are."},{icon:"\ud83d\udcac",title:"Chat Your Way",description:"Integrated chat feature lets users type messages alongside video\u2014perfect for quiet environments or switching between signing and typing."}],Sae=()=>(0,to.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 min-h-screen text-white font-sans",children:[(0,to.jsx)(kae,{}),(0,to.jsxs)("div",{className:"px-6 py-16 text-center",children:[(0,to.jsx)("div",{className:"inline-block p-2 px-3 mb-4 text-lg font-semibold text-white bg-gradient-to-r from-pink-500 to-orange-400 rounded-full",children:"Features"}),(0,to.jsx)("h2",{className:"text-4xl font-bold text-white",children:"Unleash Your Potential"}),(0,to.jsx)("p",{className:"max-w-2xl mx-auto mt-4 text-white",children:"This section highlights the unique strengths of your ASL-integrated video chat app, showcasing its value for accessibility, innovation, and connection."}),(0,to.jsx)("div",{className:"grid grid-cols-1 gap-6 mt-12 md:grid-cols-2 lg:grid-cols-4",children:Iae.map(((e,t)=>(0,to.jsx)(Cae,{className:"rounded-2xl shadow-sm text-left",children:(0,to.jsxs)(Nae,{className:"p-6",children:[(0,to.jsx)("div",{className:"text-3xl mb-4",children:e.icon}),(0,to.jsx)("h3",{className:"text-lg font-semibold text-black mb-2",children:e.title}),(0,to.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description})]})},t)))})]})]}),Mae=()=>(0,to.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 min-h-screen text-white font-sans",children:[(0,to.jsx)(mae,{}),(0,to.jsx)("main",{className:"px-4 py-6",children:(0,to.jsx)(Ue,{})}),(0,to.jsx)(gae,{})]}),Eae=()=>(0,to.jsx)(to.Fragment,{children:(0,to.jsx)(Ge,{children:(0,to.jsxs)(We,{path:"/",element:(0,to.jsx)(Mae,{}),children:[(0,to.jsx)(We,{index:!0,element:(0,to.jsx)(Sae,{})}),(0,to.jsx)(We,{path:"about",element:(0,to.jsx)(dae,{})}),(0,to.jsx)(We,{path:"room",element:(0,to.jsx)(wae,{})})]})})});(0,_t.H)(document.getElementById("root")).render((0,to.jsx)(E.StrictMode,{children:(0,to.jsxs)(St,{children:[" ",(0,to.jsx)(ro,{children:(0,to.jsx)(Eae,{})})]})}))})()})();
//# sourceMappingURL=main.81a36a6b.js.map